var Jx=e=>{throw TypeError(e)};var Ch=(e,t,n)=>t.has(e)||Jx("Cannot "+n);var M=(e,t,n)=>(Ch(e,t,"read from private field"),n?n.call(e):t.get(e)),me=(e,t,n)=>t.has(e)?Jx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),se=(e,t,n,s)=>(Ch(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Te=(e,t,n)=>(Ch(e,t,"access private method"),n);var kc=(e,t,n,s)=>({set _(a){se(e,t,a,n)},get _(){return M(e,t,s)}});function yE(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var sw={exports:{}},yu={},aw={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.element"),bE=Symbol.for("react.portal"),jE=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),_E=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),kE=Symbol.for("react.forward_ref"),EE=Symbol.for("react.suspense"),PE=Symbol.for("react.memo"),TE=Symbol.for("react.lazy"),Xx=Symbol.iterator;function RE(e){return e===null||typeof e!="object"?null:(e=Xx&&e[Xx]||e["@@iterator"],typeof e=="function"?e:null)}var ow={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iw=Object.assign,lw={};function ji(e,t,n){this.props=e,this.context=t,this.refs=lw,this.updater=n||ow}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cw(){}cw.prototype=ji.prototype;function kp(e,t,n){this.props=e,this.context=t,this.refs=lw,this.updater=n||ow}var Ep=kp.prototype=new cw;Ep.constructor=kp;iw(Ep,ji.prototype);Ep.isPureReactComponent=!0;var Zx=Array.isArray,dw=Object.prototype.hasOwnProperty,Pp={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function hw(e,t,n){var s,a={},o=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)dw.call(t,s)&&!uw.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:rc,type:e,key:o,ref:i,props:a,_owner:Pp.current}}function AE(e,t){return{$$typeof:rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tp(e){return typeof e=="object"&&e!==null&&e.$$typeof===rc}function OE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ev=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OE(""+e.key):t.toString(36)}function ad(e,t,n,s,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rc:case bE:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+kh(i,0):s,Zx(a)?(n="",e!=null&&(n=e.replace(ev,"$&/")+"/"),ad(a,t,n,"",function(d){return d})):a!=null&&(Tp(a)&&(a=AE(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(ev,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",Zx(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+kh(o,l);i+=ad(o,t,n,c,a)}else if(c=RE(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+kh(o,l++),i+=ad(o,t,n,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ec(e,t,n){if(e==null)return e;var s=[],a=0;return ad(e,s,"","",function(o){return t.call(n,o,a++)}),s}function DE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},od={transition:null},ME={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:od,ReactCurrentOwner:Pp};function fw(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Ec,forEach:function(e,t,n){Ec(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ec(e,function(){t++}),t},toArray:function(e){return Ec(e,function(t){return t})||[]},only:function(e){if(!Tp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=ji;$e.Fragment=jE;$e.Profiler=_E;$e.PureComponent=kp;$e.StrictMode=NE;$e.Suspense=EE;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ME;$e.act=fw;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=iw({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Pp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dw.call(t,c)&&!uw.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:rc,type:e.type,key:a,ref:o,props:s,_owner:i}};$e.createContext=function(e){return e={$$typeof:CE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SE,_context:e},e.Consumer=e};$e.createElement=hw;$e.createFactory=function(e){var t=hw.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:kE,render:e}};$e.isValidElement=Tp;$e.lazy=function(e){return{$$typeof:TE,_payload:{_status:-1,_result:e},_init:DE}};$e.memo=function(e,t){return{$$typeof:PE,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=od.transition;od.transition={};try{e()}finally{od.transition=t}};$e.unstable_act=fw;$e.useCallback=function(e,t){return sn.current.useCallback(e,t)};$e.useContext=function(e){return sn.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};$e.useEffect=function(e,t){return sn.current.useEffect(e,t)};$e.useId=function(){return sn.current.useId()};$e.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return sn.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};$e.useRef=function(e){return sn.current.useRef(e)};$e.useState=function(e){return sn.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return sn.current.useTransition()};$e.version="18.3.1";aw.exports=$e;var m=aw.exports;const Y=Cp(m),Rp=yE({__proto__:null,default:Y},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=m,LE=Symbol.for("react.element"),$E=Symbol.for("react.fragment"),FE=Object.prototype.hasOwnProperty,UE=IE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BE={key:!0,ref:!0,__self:!0,__source:!0};function mw(e,t,n){var s,a={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)FE.call(t,s)&&!BE.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:LE,type:e,key:o,ref:i,props:a,_owner:UE.current}}yu.Fragment=$E;yu.jsx=mw;yu.jsxs=mw;sw.exports=yu;var r=sw.exports,pw={exports:{}},Rn={},gw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var F=T.length;T.push(A);e:for(;0<F;){var U=F-1>>>1,V=T[U];if(0<a(V,A))T[U]=A,T[F]=V,F=U;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var A=T[0],F=T.pop();if(F!==A){T[0]=F;e:for(var U=0,V=T.length,q=V>>>1;U<q;){var te=2*(U+1)-1,fe=T[te],xe=te+1,Q=T[xe];if(0>a(fe,F))xe<V&&0>a(Q,fe)?(T[U]=Q,T[xe]=F,U=xe):(T[U]=fe,T[te]=F,U=te);else if(xe<V&&0>a(Q,F))T[U]=Q,T[xe]=F,U=xe;else break e}}return A}function a(T,A){var F=T.sortIndex-A.sortIndex;return F!==0?F:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,w=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var A=n(d);A!==null;){if(A.callback===null)s(d);else if(A.startTime<=T)s(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(d)}}function j(T){if(x=!1,b(T),!w)if(n(c)!==null)w=!0,B(k);else{var A=n(d);A!==null&&D(j,A.startTime-T)}}function k(T,A){w=!1,x&&(x=!1,y(N),N=-1),p=!0;var F=f;try{for(b(A),h=n(c);h!==null&&(!(h.expirationTime>A)||T&&!O());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var V=U(h.expirationTime<=A);A=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&s(c),b(A)}else s(c);h=n(c)}if(h!==null)var q=!0;else{var te=n(d);te!==null&&D(j,te.startTime-A),q=!1}return q}finally{h=null,f=F,p=!1}}var E=!1,_=null,N=-1,S=5,C=-1;function O(){return!(e.unstable_now()-C<S)}function R(){if(_!==null){var T=e.unstable_now();C=T;var A=!0;try{A=_(!0,T)}finally{A?P():(E=!1,_=null)}}else E=!1}var P;if(typeof g=="function")P=function(){g(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=R,P=function(){z.postMessage(null)}}else P=function(){v(R,0)};function B(T){_=T,E||(E=!0,P())}function D(T,A){N=v(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,B(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var F=f;f=A;try{return T()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return A()}finally{f=F}},e.unstable_scheduleCallback=function(T,A,F){var U=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,T={id:u++,callback:A,priorityLevel:T,startTime:F,expirationTime:V,sortIndex:-1},F>U?(T.sortIndex=F,t(d,T),n(c)===null&&T===n(d)&&(x?(y(N),N=-1):x=!0,D(j,F-U))):(T.sortIndex=V,t(c,T),w||p||(w=!0,B(k))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var A=f;return function(){var F=f;f=A;try{return T.apply(this,arguments)}finally{f=F}}}})(xw);gw.exports=xw;var zE=gw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=m,Tn=zE;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vw=new Set,jl={};function no(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(jl[e]=t,e=0;e<t.length;e++)vw.add(t[e])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,VE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tv={},nv={};function qE(e){return Df.call(nv,e)?!0:Df.call(tv,e)?!1:VE.test(e)?nv[e]=!0:(tv[e]=!0,!1)}function HE(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QE(e,t,n,s){if(t===null||typeof t>"u"||HE(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,s,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Op(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ap,Op);Mt[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ap,Op);Mt[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ap,Op);Mt[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dp(e,t,n,s){var a=Mt.hasOwnProperty(t)?Mt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QE(t,n,a,s)&&(n=null),s||a===null?qE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ds=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),So=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Lp=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),rv=Symbol.iterator;function Ui(e){return e===null||typeof e!="object"?null:(e=rv&&e[rv]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,Eh;function tl(e){if(Eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var Ph=!1;function Th(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=s.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function GE(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function $f(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Co:return"Fragment";case So:return"Portal";case Mf:return"Profiler";case Mp:return"StrictMode";case If:return"Suspense";case Lf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ww:return(e.displayName||"Context")+".Consumer";case yw:return(e._context.displayName||"Context")+".Provider";case Ip:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lp:return t=e.displayName||null,t!==null?t:$f(e.type)||"Memo";case Ss:t=e._payload,e=e._init;try{return $f(e(t))}catch{}}return null}function KE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $f(t);case 8:return t===Mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ta(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YE(e){var t=jw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tc(e){e._valueTracker||(e._valueTracker=YE(e))}function Nw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=jw(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ff(e,t){var n=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sv(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ta(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _w(e,t){t=t.checked,t!=null&&Dp(e,"checked",t,!1)}function Uf(e,t){_w(e,t);var n=ta(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bf(e,t.type,ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function av(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bf(e,t,n){(t!=="number"||Cd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function Lo(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ta(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ov(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(nl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ta(n)}}function Sw(e,t){var n=ta(t.value),s=ta(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function iv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rc,kw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JE=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){JE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function Ew(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function Pw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Ew(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var XE=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vf(e,t){if(t){if(XE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function $p(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qf=null,$o=null,Fo=null;function lv(e){if(e=oc(e)){if(typeof Qf!="function")throw Error(K(280));var t=e.stateNode;t&&(t=_u(t),Qf(e.stateNode,e.type,t))}}function Tw(e){$o?Fo?Fo.push(e):Fo=[e]:$o=e}function Rw(){if($o){var e=$o,t=Fo;if(Fo=$o=null,lv(e),t)for(e=0;e<t.length;e++)lv(t[e])}}function Aw(e,t){return e(t)}function Ow(){}var Rh=!1;function Dw(e,t,n){if(Rh)return e(t,n);Rh=!0;try{return Aw(e,t,n)}finally{Rh=!1,($o!==null||Fo!==null)&&(Ow(),Rw())}}function _l(e,t){var n=e.stateNode;if(n===null)return null;var s=_u(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Gf=!1;if(ss)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Gf=!1}function ZE(e,t,n,s,a,o,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var dl=!1,kd=null,Ed=!1,Kf=null,e2={onError:function(e){dl=!0,kd=e}};function t2(e,t,n,s,a,o,i,l,c){dl=!1,kd=null,ZE.apply(e2,arguments)}function n2(e,t,n,s,a,o,i,l,c){if(t2.apply(this,arguments),dl){if(dl){var d=kd;dl=!1,kd=null}else throw Error(K(198));Ed||(Ed=!0,Kf=d)}}function ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cv(e){if(ro(e)!==e)throw Error(K(188))}function r2(e){var t=e.alternate;if(!t){if(t=ro(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return cv(a),e;if(o===s)return cv(a),t;o=o.sibling}throw Error(K(188))}if(n.return!==s.return)n=a,s=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,s=o;break}if(l===s){i=!0,s=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,s=a;break}if(l===s){i=!0,s=o,n=a;break}l=l.sibling}if(!i)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Iw(e){return e=r2(e),e!==null?Lw(e):null}function Lw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lw(e);if(t!==null)return t;e=e.sibling}return null}var $w=Tn.unstable_scheduleCallback,dv=Tn.unstable_cancelCallback,s2=Tn.unstable_shouldYield,a2=Tn.unstable_requestPaint,xt=Tn.unstable_now,o2=Tn.unstable_getCurrentPriorityLevel,Fp=Tn.unstable_ImmediatePriority,Fw=Tn.unstable_UserBlockingPriority,Pd=Tn.unstable_NormalPriority,i2=Tn.unstable_LowPriority,Uw=Tn.unstable_IdlePriority,wu=null,Tr=null;function l2(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(wu,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:u2,c2=Math.log,d2=Math.LN2;function u2(e){return e>>>=0,e===0?32:31-(c2(e)/d2|0)|0}var Ac=64,Oc=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Td(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~a;l!==0?s=rl(l):(o&=i,o!==0&&(s=rl(o)))}else i=n&~a,i!==0?s=rl(i):o!==0&&(s=rl(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-lr(t),a=1<<n,s|=e[n],t&=~a;return s}function h2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f2(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-lr(o),l=1<<i,c=a[i];c===-1?(!(l&n)||l&s)&&(a[i]=h2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Yf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bw(){var e=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),e}function Ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lr(t),e[t]=n}function m2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lr(n),o=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~o}}function Up(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-lr(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Ye=0;function zw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ww,Bp,Vw,qw,Hw,Jf=!1,Dc=[],Vs=null,qs=null,Hs=null,Sl=new Map,Cl=new Map,Es=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(e,t){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function zi(e,t,n,s,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[a]},t!==null&&(t=oc(t),t!==null&&Bp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function g2(e,t,n,s,a){switch(t){case"focusin":return Vs=zi(Vs,e,t,n,s,a),!0;case"dragenter":return qs=zi(qs,e,t,n,s,a),!0;case"mouseover":return Hs=zi(Hs,e,t,n,s,a),!0;case"pointerover":var o=a.pointerId;return Sl.set(o,zi(Sl.get(o)||null,e,t,n,s,a)),!0;case"gotpointercapture":return o=a.pointerId,Cl.set(o,zi(Cl.get(o)||null,e,t,n,s,a)),!0}return!1}function Qw(e){var t=Ea(e.target);if(t!==null){var n=ro(t);if(n!==null){if(t=n.tag,t===13){if(t=Mw(n),t!==null){e.blockedOn=t,Hw(e.priority,function(){Vw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Hf=s,n.target.dispatchEvent(s),Hf=null}else return t=oc(n),t!==null&&Bp(t),e.blockedOn=n,!1;t.shift()}return!0}function hv(e,t,n){id(e)&&n.delete(t)}function x2(){Jf=!1,Vs!==null&&id(Vs)&&(Vs=null),qs!==null&&id(qs)&&(qs=null),Hs!==null&&id(Hs)&&(Hs=null),Sl.forEach(hv),Cl.forEach(hv)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Jf||(Jf=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,x2)))}function kl(e){function t(a){return Wi(a,e)}if(0<Dc.length){Wi(Dc[0],e);for(var n=1;n<Dc.length;n++){var s=Dc[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Vs!==null&&Wi(Vs,e),qs!==null&&Wi(qs,e),Hs!==null&&Wi(Hs,e),Sl.forEach(t),Cl.forEach(t),n=0;n<Es.length;n++)s=Es[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)Qw(n),n.blockedOn===null&&Es.shift()}var Uo=ds.ReactCurrentBatchConfig,Rd=!0;function v2(e,t,n,s){var a=Ye,o=Uo.transition;Uo.transition=null;try{Ye=1,zp(e,t,n,s)}finally{Ye=a,Uo.transition=o}}function y2(e,t,n,s){var a=Ye,o=Uo.transition;Uo.transition=null;try{Ye=4,zp(e,t,n,s)}finally{Ye=a,Uo.transition=o}}function zp(e,t,n,s){if(Rd){var a=Xf(e,t,n,s);if(a===null)zh(e,t,s,Ad,n),uv(e,s);else if(g2(a,e,t,n,s))s.stopPropagation();else if(uv(e,s),t&4&&-1<p2.indexOf(e)){for(;a!==null;){var o=oc(a);if(o!==null&&Ww(o),o=Xf(e,t,n,s),o===null&&zh(e,t,s,Ad,n),o===a)break;a=o}a!==null&&s.stopPropagation()}else zh(e,t,s,null,n)}}var Ad=null;function Xf(e,t,n,s){if(Ad=null,e=$p(s),e=Ea(e),e!==null)if(t=ro(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function Gw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o2()){case Fp:return 1;case Fw:return 4;case Pd:case i2:return 16;case Uw:return 536870912;default:return 16}default:return 16}}var Bs=null,Wp=null,ld=null;function Kw(){if(ld)return ld;var e,t=Wp,n=t.length,s,a="value"in Bs?Bs.value:Bs.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===a[o-s];s++);return ld=a.slice(e,1<s?1-s:void 0)}function cd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mc(){return!0}function fv(){return!1}function An(e){function t(n,s,a,o,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Mc:fv,this.isPropagationStopped=fv,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=An(Ni),ac=dt({},Ni,{view:0,detail:0}),w2=An(ac),Oh,Dh,Vi,bu=dt({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Oh=e.screenX-Vi.screenX,Dh=e.screenY-Vi.screenY):Dh=Oh=0,Vi=e),Oh)},movementY:function(e){return"movementY"in e?e.movementY:Dh}}),mv=An(bu),b2=dt({},bu,{dataTransfer:0}),j2=An(b2),N2=dt({},ac,{relatedTarget:0}),Mh=An(N2),_2=dt({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),S2=An(_2),C2=dt({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k2=An(C2),E2=dt({},Ni,{data:0}),pv=An(E2),P2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R2[e])?!!t[e]:!1}function qp(){return A2}var O2=dt({},ac,{key:function(e){if(e.key){var t=P2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(e){return e.type==="keypress"?cd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D2=An(O2),M2=dt({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=An(M2),I2=dt({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),L2=An(I2),$2=dt({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),F2=An($2),U2=dt({},bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B2=An(U2),z2=[9,13,27,32],Hp=ss&&"CompositionEvent"in window,ul=null;ss&&"documentMode"in document&&(ul=document.documentMode);var W2=ss&&"TextEvent"in window&&!ul,Yw=ss&&(!Hp||ul&&8<ul&&11>=ul),xv=" ",vv=!1;function Jw(e,t){switch(e){case"keyup":return z2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function V2(e,t){switch(e){case"compositionend":return Xw(t);case"keypress":return t.which!==32?null:(vv=!0,xv);case"textInput":return e=t.data,e===xv&&vv?null:e;default:return null}}function q2(e,t){if(ko)return e==="compositionend"||!Hp&&Jw(e,t)?(e=Kw(),ld=Wp=Bs=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yw&&t.locale!=="ko"?null:t.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H2[e.type]:t==="textarea"}function Zw(e,t,n,s){Tw(s),t=Od(t,"onChange"),0<t.length&&(n=new Vp("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var hl=null,El=null;function Q2(e){db(e,0)}function ju(e){var t=To(e);if(Nw(t))return e}function G2(e,t){if(e==="change")return t}var eb=!1;if(ss){var Ih;if(ss){var Lh="oninput"in document;if(!Lh){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),Lh=typeof wv.oninput=="function"}Ih=Lh}else Ih=!1;eb=Ih&&(!document.documentMode||9<document.documentMode)}function bv(){hl&&(hl.detachEvent("onpropertychange",tb),El=hl=null)}function tb(e){if(e.propertyName==="value"&&ju(El)){var t=[];Zw(t,El,e,$p(e)),Dw(Q2,t)}}function K2(e,t,n){e==="focusin"?(bv(),hl=t,El=n,hl.attachEvent("onpropertychange",tb)):e==="focusout"&&bv()}function Y2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(El)}function J2(e,t){if(e==="click")return ju(t)}function X2(e,t){if(e==="input"||e==="change")return ju(t)}function Z2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:Z2;function Pl(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Df.call(t,a)||!hr(e[a],t[a]))return!1}return!0}function jv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nv(e,t){var n=jv(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jv(n)}}function nb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rb(){for(var e=window,t=Cd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cd(e.document)}return t}function Qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eP(e){var t=rb(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nb(n.ownerDocument.documentElement,n)){if(s!==null&&Qp(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(s.start,a);s=s.end===void 0?o:Math.min(s.end,a),!e.extend&&o>s&&(a=s,s=o,o=a),a=Nv(n,o);var i=Nv(n,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tP=ss&&"documentMode"in document&&11>=document.documentMode,Eo=null,Zf=null,fl=null,em=!1;function _v(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;em||Eo==null||Eo!==Cd(s)||(s=Eo,"selectionStart"in s&&Qp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),fl&&Pl(fl,s)||(fl=s,s=Od(Zf,"onSelect"),0<s.length&&(t=new Vp("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Eo)))}function Ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Po={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},$h={},sb={};ss&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Nu(e){if($h[e])return $h[e];if(!Po[e])return e;var t=Po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sb)return $h[e]=t[n];return e}var ab=Nu("animationend"),ob=Nu("animationiteration"),ib=Nu("animationstart"),lb=Nu("transitionend"),cb=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(e,t){cb.set(e,t),no(t,[e])}for(var Fh=0;Fh<Sv.length;Fh++){var Uh=Sv[Fh],nP=Uh.toLowerCase(),rP=Uh[0].toUpperCase()+Uh.slice(1);da(nP,"on"+rP)}da(ab,"onAnimationEnd");da(ob,"onAnimationIteration");da(ib,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(lb,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sP=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function Cv(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,n2(s,t,void 0,e),e.currentTarget=null}function db(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;Cv(a,l,d),o=c}else for(i=0;i<s.length;i++){if(l=s[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;Cv(a,l,d),o=c}}}if(Ed)throw e=Kf,Ed=!1,Kf=null,e}function nt(e,t){var n=t[am];n===void 0&&(n=t[am]=new Set);var s=e+"__bubble";n.has(s)||(ub(t,e,2,!1),n.add(s))}function Bh(e,t,n){var s=0;t&&(s|=4),ub(n,e,s,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Tl(e){if(!e[Lc]){e[Lc]=!0,vw.forEach(function(n){n!=="selectionchange"&&(sP.has(n)||Bh(n,!1,e),Bh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,Bh("selectionchange",!1,t))}}function ub(e,t,n,s){switch(Gw(t)){case 1:var a=v2;break;case 4:a=y2;break;default:a=zp}n=a.bind(null,t,n,e),a=void 0,!Gf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function zh(e,t,n,s,a){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ea(l),i===null)return;if(c=i.tag,c===5||c===6){s=o=i;continue e}l=l.parentNode}}s=s.return}Dw(function(){var d=o,u=$p(n),h=[];e:{var f=cb.get(e);if(f!==void 0){var p=Vp,w=e;switch(e){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":p=D2;break;case"focusin":w="focus",p=Mh;break;case"focusout":w="blur",p=Mh;break;case"beforeblur":case"afterblur":p=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L2;break;case ab:case ob:case ib:p=S2;break;case lb:p=F2;break;case"scroll":p=w2;break;case"wheel":p=B2;break;case"copy":case"cut":case"paste":p=k2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gv}var x=(t&4)!==0,v=!x&&e==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var g=d,b;g!==null;){b=g;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=_l(g,y),j!=null&&x.push(Rl(g,j,b)))),v)break;g=g.return}0<x.length&&(f=new p(f,w,null,n,u),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Hf&&(w=n.relatedTarget||n.fromElement)&&(Ea(w)||w[as]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=d,w=w?Ea(w):null,w!==null&&(v=ro(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(x=mv,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=gv,j="onPointerLeave",y="onPointerEnter",g="pointer"),v=p==null?f:To(p),b=w==null?f:To(w),f=new x(j,g+"leave",p,n,u),f.target=v,f.relatedTarget=b,j=null,Ea(u)===d&&(x=new x(y,g+"enter",w,n,u),x.target=b,x.relatedTarget=v,j=x),v=j,p&&w)t:{for(x=p,y=w,g=0,b=x;b;b=ho(b))g++;for(b=0,j=y;j;j=ho(j))b++;for(;0<g-b;)x=ho(x),g--;for(;0<b-g;)y=ho(y),b--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=ho(x),y=ho(y)}x=null}else x=null;p!==null&&kv(h,f,p,x,!1),w!==null&&v!==null&&kv(h,v,w,x,!0)}}e:{if(f=d?To(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=G2;else if(yv(f))if(eb)k=X2;else{k=Y2;var E=K2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=J2);if(k&&(k=k(e,d))){Zw(h,k,n,u);break e}E&&E(e,f,d),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Bf(f,"number",f.value)}switch(E=d?To(d):window,e){case"focusin":(yv(E)||E.contentEditable==="true")&&(Eo=E,Zf=d,fl=null);break;case"focusout":fl=Zf=Eo=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,_v(h,n,u);break;case"selectionchange":if(tP)break;case"keydown":case"keyup":_v(h,n,u)}var _;if(Hp)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ko?Jw(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Yw&&n.locale!=="ko"&&(ko||N!=="onCompositionStart"?N==="onCompositionEnd"&&ko&&(_=Kw()):(Bs=u,Wp="value"in Bs?Bs.value:Bs.textContent,ko=!0)),E=Od(d,N),0<E.length&&(N=new pv(N,e,null,n,u),h.push({event:N,listeners:E}),_?N.data=_:(_=Xw(n),_!==null&&(N.data=_)))),(_=W2?V2(e,n):q2(e,n))&&(d=Od(d,"onBeforeInput"),0<d.length&&(u=new pv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=_))}db(h,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=_l(e,n),o!=null&&s.unshift(Rl(e,o,a)),o=_l(e,t),o!=null&&s.push(Rl(e,o,a))),e=e.return}return s}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kv(e,t,n,s,a){for(var o=t._reactName,i=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=_l(n,o),c!=null&&i.unshift(Rl(n,c,l))):a||(c=_l(n,o),c!=null&&i.push(Rl(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var aP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function Ev(e){return(typeof e=="string"?e:""+e).replace(aP,`
`).replace(oP,"")}function $c(e,t,n){if(t=Ev(t),Ev(e)!==t&&n)throw Error(K(425))}function Dd(){}var tm=null,nm=null;function rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,iP=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,lP=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(e){return Pv.resolve(null).then(e).catch(cP)}:sm;function cP(e){setTimeout(function(){throw e})}function Wh(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),kl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);kl(t)}function Qs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _i=Math.random().toString(36).slice(2),kr="__reactFiber$"+_i,Al="__reactProps$"+_i,as="__reactContainer$"+_i,am="__reactEvents$"+_i,dP="__reactListeners$"+_i,uP="__reactHandles$"+_i;function Ea(e){var t=e[kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[as]||n[kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tv(e);e!==null;){if(n=e[kr])return n;e=Tv(e)}return t}e=n,n=e.parentNode}return null}function oc(e){return e=e[kr]||e[as],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function _u(e){return e[Al]||null}var om=[],Ro=-1;function ua(e){return{current:e}}function rt(e){0>Ro||(e.current=om[Ro],om[Ro]=null,Ro--)}function Ze(e,t){Ro++,om[Ro]=e.current,e.current=t}var na={},Vt=ua(na),xn=ua(!1),Wa=na;function oi(e,t){var n=e.type.contextTypes;if(!n)return na;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vn(e){return e=e.childContextTypes,e!=null}function Md(){rt(xn),rt(Vt)}function Rv(e,t,n){if(Vt.current!==na)throw Error(K(168));Ze(Vt,t),Ze(xn,n)}function hb(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(K(108,KE(e)||"Unknown",a));return dt({},n,s)}function Id(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||na,Wa=Vt.current,Ze(Vt,e),Ze(xn,xn.current),!0}function Av(e,t,n){var s=e.stateNode;if(!s)throw Error(K(169));n?(e=hb(e,t,Wa),s.__reactInternalMemoizedMergedChildContext=e,rt(xn),rt(Vt),Ze(Vt,e)):rt(xn),Ze(xn,n)}var Kr=null,Su=!1,Vh=!1;function fb(e){Kr===null?Kr=[e]:Kr.push(e)}function hP(e){Su=!0,fb(e)}function ha(){if(!Vh&&Kr!==null){Vh=!0;var e=0,t=Ye;try{var n=Kr;for(Ye=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Kr=null,Su=!1}catch(a){throw Kr!==null&&(Kr=Kr.slice(e+1)),$w(Fp,ha),a}finally{Ye=t,Vh=!1}}return null}var Ao=[],Oo=0,Ld=null,$d=0,Ln=[],$n=0,Va=null,Xr=1,Zr="";function Na(e,t){Ao[Oo++]=$d,Ao[Oo++]=Ld,Ld=e,$d=t}function mb(e,t,n){Ln[$n++]=Xr,Ln[$n++]=Zr,Ln[$n++]=Va,Va=e;var s=Xr;e=Zr;var a=32-lr(s)-1;s&=~(1<<a),n+=1;var o=32-lr(t)+a;if(30<o){var i=a-a%5;o=(s&(1<<i)-1).toString(32),s>>=i,a-=i,Xr=1<<32-lr(t)+a|n<<a|s,Zr=o+e}else Xr=1<<o|n<<a|s,Zr=e}function Gp(e){e.return!==null&&(Na(e,1),mb(e,1,0))}function Kp(e){for(;e===Ld;)Ld=Ao[--Oo],Ao[Oo]=null,$d=Ao[--Oo],Ao[Oo]=null;for(;e===Va;)Va=Ln[--$n],Ln[$n]=null,Zr=Ln[--$n],Ln[$n]=null,Xr=Ln[--$n],Ln[$n]=null}var kn=null,Cn=null,at=!1,ir=null;function pb(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ov(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,Cn=Qs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Va!==null?{id:Xr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,Cn=null,!0):!1;default:return!1}}function im(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lm(e){if(at){var t=Cn;if(t){var n=t;if(!Ov(e,t)){if(im(e))throw Error(K(418));t=Qs(n.nextSibling);var s=kn;t&&Ov(e,t)?pb(s,n):(e.flags=e.flags&-4097|2,at=!1,kn=e)}}else{if(im(e))throw Error(K(418));e.flags=e.flags&-4097|2,at=!1,kn=e}}}function Dv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Fc(e){if(e!==kn)return!1;if(!at)return Dv(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rm(e.type,e.memoizedProps)),t&&(t=Cn)){if(im(e))throw gb(),Error(K(418));for(;t;)pb(e,t),t=Qs(t.nextSibling)}if(Dv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=Qs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=kn?Qs(e.stateNode.nextSibling):null;return!0}function gb(){for(var e=Cn;e;)e=Qs(e.nextSibling)}function ii(){Cn=kn=null,at=!1}function Yp(e){ir===null?ir=[e]:ir.push(e)}var fP=ds.ReactCurrentBatchConfig;function qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var s=n.stateNode}if(!s)throw Error(K(147,e));var a=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mv(e){var t=e._init;return t(e._payload)}function xb(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function s(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=Js(y,g),y.index=0,y.sibling=null,y}function o(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,b,j){return g===null||g.tag!==6?(g=Jh(b,y.mode,j),g.return=y,g):(g=a(g,b),g.return=y,g)}function c(y,g,b,j){var k=b.type;return k===Co?u(y,g,b.props.children,j,b.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ss&&Mv(k)===g.type)?(j=a(g,b.props),j.ref=qi(y,g,b),j.return=y,j):(j=gd(b.type,b.key,b.props,null,y.mode,j),j.ref=qi(y,g,b),j.return=y,j)}function d(y,g,b,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Xh(b,y.mode,j),g.return=y,g):(g=a(g,b.children||[]),g.return=y,g)}function u(y,g,b,j,k){return g===null||g.tag!==7?(g=Ba(b,y.mode,j,k),g.return=y,g):(g=a(g,b),g.return=y,g)}function h(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jh(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pc:return b=gd(g.type,g.key,g.props,null,y.mode,b),b.ref=qi(y,null,g),b.return=y,b;case So:return g=Xh(g,y.mode,b),g.return=y,g;case Ss:var j=g._init;return h(y,j(g._payload),b)}if(nl(g)||Ui(g))return g=Ba(g,y.mode,b,null),g.return=y,g;Uc(y,g)}return null}function f(y,g,b,j){var k=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(y,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:return b.key===k?c(y,g,b,j):null;case So:return b.key===k?d(y,g,b,j):null;case Ss:return k=b._init,f(y,g,k(b._payload),j)}if(nl(b)||Ui(b))return k!==null?null:u(y,g,b,j,null);Uc(y,b)}return null}function p(y,g,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(g,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pc:return y=y.get(j.key===null?b:j.key)||null,c(g,y,j,k);case So:return y=y.get(j.key===null?b:j.key)||null,d(g,y,j,k);case Ss:var E=j._init;return p(y,g,b,E(j._payload),k)}if(nl(j)||Ui(j))return y=y.get(b)||null,u(g,y,j,k,null);Uc(g,j)}return null}function w(y,g,b,j){for(var k=null,E=null,_=g,N=g=0,S=null;_!==null&&N<b.length;N++){_.index>N?(S=_,_=null):S=_.sibling;var C=f(y,_,b[N],j);if(C===null){_===null&&(_=S);break}e&&_&&C.alternate===null&&t(y,_),g=o(C,g,N),E===null?k=C:E.sibling=C,E=C,_=S}if(N===b.length)return n(y,_),at&&Na(y,N),k;if(_===null){for(;N<b.length;N++)_=h(y,b[N],j),_!==null&&(g=o(_,g,N),E===null?k=_:E.sibling=_,E=_);return at&&Na(y,N),k}for(_=s(y,_);N<b.length;N++)S=p(_,y,N,b[N],j),S!==null&&(e&&S.alternate!==null&&_.delete(S.key===null?N:S.key),g=o(S,g,N),E===null?k=S:E.sibling=S,E=S);return e&&_.forEach(function(O){return t(y,O)}),at&&Na(y,N),k}function x(y,g,b,j){var k=Ui(b);if(typeof k!="function")throw Error(K(150));if(b=k.call(b),b==null)throw Error(K(151));for(var E=k=null,_=g,N=g=0,S=null,C=b.next();_!==null&&!C.done;N++,C=b.next()){_.index>N?(S=_,_=null):S=_.sibling;var O=f(y,_,C.value,j);if(O===null){_===null&&(_=S);break}e&&_&&O.alternate===null&&t(y,_),g=o(O,g,N),E===null?k=O:E.sibling=O,E=O,_=S}if(C.done)return n(y,_),at&&Na(y,N),k;if(_===null){for(;!C.done;N++,C=b.next())C=h(y,C.value,j),C!==null&&(g=o(C,g,N),E===null?k=C:E.sibling=C,E=C);return at&&Na(y,N),k}for(_=s(y,_);!C.done;N++,C=b.next())C=p(_,y,N,C.value,j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?N:C.key),g=o(C,g,N),E===null?k=C:E.sibling=C,E=C);return e&&_.forEach(function(R){return t(y,R)}),at&&Na(y,N),k}function v(y,g,b,j){if(typeof b=="object"&&b!==null&&b.type===Co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:e:{for(var k=b.key,E=g;E!==null;){if(E.key===k){if(k=b.type,k===Co){if(E.tag===7){n(y,E.sibling),g=a(E,b.props.children),g.return=y,y=g;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ss&&Mv(k)===E.type){n(y,E.sibling),g=a(E,b.props),g.ref=qi(y,E,b),g.return=y,y=g;break e}n(y,E);break}else t(y,E);E=E.sibling}b.type===Co?(g=Ba(b.props.children,y.mode,j,b.key),g.return=y,y=g):(j=gd(b.type,b.key,b.props,null,y.mode,j),j.ref=qi(y,g,b),j.return=y,y=j)}return i(y);case So:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),g=a(g,b.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=Xh(b,y.mode,j),g.return=y,y=g}return i(y);case Ss:return E=b._init,v(y,g,E(b._payload),j)}if(nl(b))return w(y,g,b,j);if(Ui(b))return x(y,g,b,j);Uc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),g=a(g,b),g.return=y,y=g):(n(y,g),g=Jh(b,y.mode,j),g.return=y,y=g),i(y)):n(y,g)}return v}var li=xb(!0),vb=xb(!1),Fd=ua(null),Ud=null,Do=null,Jp=null;function Xp(){Jp=Do=Ud=null}function Zp(e){var t=Fd.current;rt(Fd),e._currentValue=t}function cm(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){Ud=e,Jp=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(Jp!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(Ud===null)throw Error(K(308));Do=e,Ud.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Pa=null;function eg(e){Pa===null?Pa=[e]:Pa.push(e)}function yb(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,eg(t)):(n.next=a.next,a.next=n),t.interleaved=n,os(e,s)}function os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cs=!1;function tg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,He&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,os(e,n)}return a=s.interleaved,a===null?(t.next=t,eg(s)):(t.next=a.next,a.next=t),s.interleaved=t,os(e,n)}function dd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Up(e,n)}}function Iv(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bd(e,t,n,s){var a=e.updateQueue;Cs=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?o=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==i&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;i=0,u=d=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(f=t,p=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=dt({},h,f);break e;case 2:Cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ha|=i,e.lanes=i,e.memoizedState=h}}function Lv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(K(191,a));a.call(s)}}}var ic={},Rr=ua(ic),Ol=ua(ic),Dl=ua(ic);function Ta(e){if(e===ic)throw Error(K(174));return e}function ng(e,t){switch(Ze(Dl,t),Ze(Ol,e),Ze(Rr,ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wf(t,e)}rt(Rr),Ze(Rr,t)}function ci(){rt(Rr),rt(Ol),rt(Dl)}function bb(e){Ta(Dl.current);var t=Ta(Rr.current),n=Wf(t,e.type);t!==n&&(Ze(Ol,e),Ze(Rr,n))}function rg(e){Ol.current===e&&(rt(Rr),rt(Ol))}var ot=ua(0);function zd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qh=[];function sg(){for(var e=0;e<qh.length;e++)qh[e]._workInProgressVersionPrimary=null;qh.length=0}var ud=ds.ReactCurrentDispatcher,Hh=ds.ReactCurrentBatchConfig,qa=0,lt=null,jt=null,Et=null,Wd=!1,ml=!1,Ml=0,mP=0;function $t(){throw Error(K(321))}function ag(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function og(e,t,n,s,a,o){if(qa=o,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ud.current=e===null||e.memoizedState===null?vP:yP,e=n(s,a),ml){o=0;do{if(ml=!1,Ml=0,25<=o)throw Error(K(301));o+=1,Et=jt=null,t.updateQueue=null,ud.current=wP,e=n(s,a)}while(ml)}if(ud.current=Vd,t=jt!==null&&jt.next!==null,qa=0,Et=jt=lt=null,Wd=!1,t)throw Error(K(300));return e}function ig(){var e=Ml!==0;return Ml=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?lt.memoizedState=Et=e:Et=Et.next=e,Et}function qn(){if(jt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Et===null?lt.memoizedState:Et.next;if(t!==null)Et=t,jt=e;else{if(e===null)throw Error(K(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Et===null?lt.memoizedState=Et=e:Et=Et.next=e}return Et}function Il(e,t){return typeof t=="function"?t(e):t}function Qh(e){var t=qn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var s=jt,a=s.baseQueue,o=n.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}s.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,s=s.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((qa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,i=s):c=c.next=h,lt.lanes|=u,Ha|=u}d=d.next}while(d!==null&&d!==o);c===null?i=s:c.next=l,hr(s,t.memoizedState)||(mn=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do o=a.lane,lt.lanes|=o,Ha|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gh(e){var t=qn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);hr(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function jb(){}function Nb(e,t){var n=lt,s=qn(),a=t(),o=!hr(s.memoizedState,a);if(o&&(s.memoizedState=a,mn=!0),s=s.queue,lg(Cb.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Ll(9,Sb.bind(null,n,s,a,t),void 0,null),Pt===null)throw Error(K(349));qa&30||_b(n,t,a)}return a}function _b(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sb(e,t,n,s){t.value=n,t.getSnapshot=s,kb(t)&&Eb(e)}function Cb(e,t,n){return n(function(){kb(t)&&Eb(e)})}function kb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function Eb(e){var t=os(e,1);t!==null&&cr(t,e,1,-1)}function $v(e){var t=Nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=xP.bind(null,lt,e),[t.memoizedState,e]}function Ll(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Pb(){return qn().memoizedState}function hd(e,t,n,s){var a=Nr();lt.flags|=e,a.memoizedState=Ll(1|t,n,void 0,s===void 0?null:s)}function Cu(e,t,n,s){var a=qn();s=s===void 0?null:s;var o=void 0;if(jt!==null){var i=jt.memoizedState;if(o=i.destroy,s!==null&&ag(s,i.deps)){a.memoizedState=Ll(t,n,o,s);return}}lt.flags|=e,a.memoizedState=Ll(1|t,n,o,s)}function Fv(e,t){return hd(8390656,8,e,t)}function lg(e,t){return Cu(2048,8,e,t)}function Tb(e,t){return Cu(4,2,e,t)}function Rb(e,t){return Cu(4,4,e,t)}function Ab(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ob(e,t,n){return n=n!=null?n.concat([e]):null,Cu(4,4,Ab.bind(null,t,e),n)}function cg(){}function Db(e,t){var n=qn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ag(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Mb(e,t){var n=qn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ag(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Ib(e,t,n){return qa&21?(hr(n,t)||(n=Bw(),lt.lanes|=n,Ha|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=n)}function pP(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var s=Hh.transition;Hh.transition={};try{e(!1),t()}finally{Ye=n,Hh.transition=s}}function Lb(){return qn().memoizedState}function gP(e,t,n){var s=Ys(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},$b(e))Fb(t,n);else if(n=yb(e,t,n,s),n!==null){var a=nn();cr(n,e,s,a),Ub(n,t,s)}}function xP(e,t,n){var s=Ys(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if($b(e))Fb(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,hr(l,i)){var c=t.interleaved;c===null?(a.next=a,eg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=yb(e,t,a,s),n!==null&&(a=nn(),cr(n,e,s,a),Ub(n,t,s))}}function $b(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function Fb(e,t){ml=Wd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ub(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Up(e,n)}}var Vd={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},vP={readContext:Vn,useCallback:function(e,t){return Nr().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:Fv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4194308,4,Ab.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=gP.bind(null,lt,e),[s.memoizedState,e]},useRef:function(e){var t=Nr();return e={current:e},t.memoizedState=e},useState:$v,useDebugValue:cg,useDeferredValue:function(e){return Nr().memoizedState=e},useTransition:function(){var e=$v(!1),t=e[0];return e=pP.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=lt,a=Nr();if(at){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Pt===null)throw Error(K(349));qa&30||_b(s,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Fv(Cb.bind(null,s,o,e),[e]),s.flags|=2048,Ll(9,Sb.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Pt.identifierPrefix;if(at){var n=Zr,s=Xr;n=(s&~(1<<32-lr(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ml++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yP={readContext:Vn,useCallback:Db,useContext:Vn,useEffect:lg,useImperativeHandle:Ob,useInsertionEffect:Tb,useLayoutEffect:Rb,useMemo:Mb,useReducer:Qh,useRef:Pb,useState:function(){return Qh(Il)},useDebugValue:cg,useDeferredValue:function(e){var t=qn();return Ib(t,jt.memoizedState,e)},useTransition:function(){var e=Qh(Il)[0],t=qn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Nb,useId:Lb,unstable_isNewReconciler:!1},wP={readContext:Vn,useCallback:Db,useContext:Vn,useEffect:lg,useImperativeHandle:Ob,useInsertionEffect:Tb,useLayoutEffect:Rb,useMemo:Mb,useReducer:Gh,useRef:Pb,useState:function(){return Gh(Il)},useDebugValue:cg,useDeferredValue:function(e){var t=qn();return jt===null?t.memoizedState=e:Ib(t,jt.memoizedState,e)},useTransition:function(){var e=Gh(Il)[0],t=qn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Nb,useId:Lb,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dm(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ku={isMounted:function(e){return(e=e._reactInternals)?ro(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=nn(),a=Ys(e),o=ts(s,a);o.payload=t,n!=null&&(o.callback=n),t=Gs(e,o,a),t!==null&&(cr(t,e,a,s),dd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=nn(),a=Ys(e),o=ts(s,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gs(e,o,a),t!==null&&(cr(t,e,a,s),dd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),s=Ys(e),a=ts(n,s);a.tag=2,t!=null&&(a.callback=t),t=Gs(e,a,s),t!==null&&(cr(t,e,s,n),dd(t,e,s))}};function Uv(e,t,n,s,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,i):t.prototype&&t.prototype.isPureReactComponent?!Pl(n,s)||!Pl(a,o):!0}function Bb(e,t,n){var s=!1,a=na,o=t.contextType;return typeof o=="object"&&o!==null?o=Vn(o):(a=vn(t)?Wa:Vt.current,s=t.contextTypes,o=(s=s!=null)?oi(e,a):na),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ku,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bv(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function um(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},tg(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Vn(o):(o=vn(t)?Wa:Vt.current,a.context=oi(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(dm(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ku.enqueueReplaceState(a,a.state,null),Bd(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t){try{var n="",s=t;do n+=GE(s),s=s.return;while(s);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Kh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function zb(e,t,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Hd||(Hd=!0,jm=s),hm(e,t)},n}function Wb(e,t,n){n=ts(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){hm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hm(e,t),typeof s!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function zv(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new bP;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=MP.bind(null,e,t,n),t.then(e,e))}function Wv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vv(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ts(-1,1),t.tag=2,Gs(n,t,1))),n.lanes|=1),e)}var jP=ds.ReactCurrentOwner,mn=!1;function Xt(e,t,n,s){t.child=e===null?vb(t,null,n,s):li(t,e.child,n,s)}function qv(e,t,n,s,a){n=n.render;var o=t.ref;return Bo(t,a),s=og(e,t,n,s,o,a),n=ig(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,is(e,t,a)):(at&&n&&Gp(t),t.flags|=1,Xt(e,t,s,a),t.child)}function Hv(e,t,n,s,a){if(e===null){var o=n.type;return typeof o=="function"&&!xg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Vb(e,t,o,s,a)):(e=gd(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(i,s)&&e.ref===t.ref)return is(e,t,a)}return t.flags|=1,e=Js(o,s),e.ref=t.ref,e.return=t,t.child=e}function Vb(e,t,n,s,a){if(e!==null){var o=e.memoizedProps;if(Pl(o,s)&&e.ref===t.ref)if(mn=!1,t.pendingProps=s=o,(e.lanes&a)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,is(e,t,a)}return fm(e,t,n,s,a)}function qb(e,t,n){var s=t.pendingProps,a=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Io,Nn),Nn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Io,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,Ze(Io,Nn),Nn|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,Ze(Io,Nn),Nn|=s;return Xt(e,t,a,n),t.child}function Hb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fm(e,t,n,s,a){var o=vn(n)?Wa:Vt.current;return o=oi(t,o),Bo(t,a),n=og(e,t,n,s,o,a),s=ig(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,is(e,t,a)):(at&&s&&Gp(t),t.flags|=1,Xt(e,t,n,a),t.child)}function Qv(e,t,n,s,a){if(vn(n)){var o=!0;Id(t)}else o=!1;if(Bo(t,a),t.stateNode===null)fd(e,t),Bb(t,n,s),um(t,n,s,a),s=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=vn(n)?Wa:Vt.current,d=oi(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Bv(t,i,s,d),Cs=!1;var f=t.memoizedState;i.state=f,Bd(t,s,i,a),c=t.memoizedState,l!==s||f!==c||xn.current||Cs?(typeof u=="function"&&(dm(t,n,u,s),c=t.memoizedState),(l=Cs||Uv(t,n,l,s,f,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=d,s=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,wb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:nr(t.type,l),i.props=d,h=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=vn(n)?Wa:Vt.current,c=oi(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Bv(t,i,s,c),Cs=!1,f=t.memoizedState,i.state=f,Bd(t,s,i,a);var w=t.memoizedState;l!==h||f!==w||xn.current||Cs?(typeof p=="function"&&(dm(t,n,p,s),w=t.memoizedState),(d=Cs||Uv(t,n,d,s,f,w,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),i.props=s,i.state=w,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return mm(e,t,n,s,o,a)}function mm(e,t,n,s,a,o){Hb(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&Av(t,n,!1),is(e,t,o);s=t.stateNode,jP.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=li(t,e.child,null,o),t.child=li(t,null,l,o)):Xt(e,t,l,o),t.memoizedState=s.state,a&&Av(t,n,!0),t.child}function Qb(e){var t=e.stateNode;t.pendingContext?Rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rv(e,t.context,!1),ng(e,t.containerInfo)}function Gv(e,t,n,s,a){return ii(),Yp(a),t.flags|=256,Xt(e,t,n,s),t.child}var pm={dehydrated:null,treeContext:null,retryLane:0};function gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gb(e,t,n){var s=t.pendingProps,a=ot.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ze(ot,a&1),e===null)return lm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,o?(s=t.mode,o=t.child,i={mode:"hidden",children:i},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Tu(i,s,0,null),e=Ba(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gm(n),t.memoizedState=pm,e):dg(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return NP(e,t,i,s,l,a,n);if(o){o=s.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Js(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Js(l,o):(o=Ba(o,i,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,i=e.child.memoizedState,i=i===null?gm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=pm,s}return o=e.child,e=o.sibling,s=Js(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function dg(e,t){return t=Tu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bc(e,t,n,s){return s!==null&&Yp(s),li(t,e.child,null,n),e=dg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NP(e,t,n,s,a,o,i){if(n)return t.flags&256?(t.flags&=-257,s=Kh(Error(K(422))),Bc(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,a=t.mode,s=Tu({mode:"visible",children:s.children},a,0,null),o=Ba(o,a,i,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&li(t,e.child,null,i),t.child.memoizedState=gm(i),t.memoizedState=pm,o);if(!(t.mode&1))return Bc(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(K(419)),s=Kh(o,s,void 0),Bc(e,t,i,s)}if(l=(i&e.childLanes)!==0,mn||l){if(s=Pt,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,os(e,a),cr(s,e,a,-1))}return gg(),s=Kh(Error(K(421))),Bc(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=IP.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Cn=Qs(a.nextSibling),kn=t,at=!0,ir=null,e!==null&&(Ln[$n++]=Xr,Ln[$n++]=Zr,Ln[$n++]=Va,Xr=e.id,Zr=e.overflow,Va=t),t=dg(t,s.children),t.flags|=4096,t)}function Kv(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),cm(e.return,t,n)}function Yh(e,t,n,s,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=a)}function Kb(e,t,n){var s=t.pendingProps,a=s.revealOrder,o=s.tail;if(Xt(e,t,s.children,n),s=ot.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kv(e,n,t);else if(e.tag===19)Kv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ze(ot,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&zd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yh(t,!0,n,null,o);break;case"together":Yh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Js(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Js(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _P(e,t,n){switch(t.tag){case 3:Qb(t),ii();break;case 5:bb(t);break;case 1:vn(t.type)&&Id(t);break;case 4:ng(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ze(Fd,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ze(ot,ot.current&1),t.flags|=128,null):n&t.child.childLanes?Gb(e,t,n):(Ze(ot,ot.current&1),e=is(e,t,n),e!==null?e.sibling:null);Ze(ot,ot.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Kb(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ze(ot,ot.current),s)break;return null;case 22:case 23:return t.lanes=0,qb(e,t,n)}return is(e,t,n)}var Yb,xm,Jb,Xb;Yb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xm=function(){};Jb=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ta(Rr.current);var o=null;switch(n){case"input":a=Ff(e,a),s=Ff(e,s),o=[];break;case"select":a=dt({},a,{value:void 0}),s=dt({},s,{value:void 0}),o=[];break;case"textarea":a=zf(e,a),s=zf(e,s),o=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Dd)}Vf(n,s);var i;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Xb=function(e,t,n,s){n!==s&&(t.flags|=4)};function Hi(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function SP(e,t,n){var s=t.pendingProps;switch(Kp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return vn(t.type)&&Md(),Ft(t),null;case 3:return s=t.stateNode,ci(),rt(xn),rt(Vt),sg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Sm(ir),ir=null))),xm(e,t),Ft(t),null;case 5:rg(t);var a=Ta(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)Jb(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(K(166));return Ft(t),null}if(e=Ta(Rr.current),Fc(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[kr]=t,s[Al]=o,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(a=0;a<sl.length;a++)nt(sl[a],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":sv(s,o),nt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},nt("invalid",s);break;case"textarea":ov(s,o),nt("invalid",s)}Vf(n,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&$c(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&$c(s.textContent,l,e),a=["children",""+l]):jl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&nt("scroll",s)}switch(n){case"input":Tc(s),av(s,o,!0);break;case"textarea":Tc(s),iv(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Dd)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[kr]=t,e[Al]=s,Yb(e,t,!1,!1),t.stateNode=e;e:{switch(i=qf(n,s),n){case"dialog":nt("cancel",e),nt("close",e),a=s;break;case"iframe":case"object":case"embed":nt("load",e),a=s;break;case"video":case"audio":for(a=0;a<sl.length;a++)nt(sl[a],e);a=s;break;case"source":nt("error",e),a=s;break;case"img":case"image":case"link":nt("error",e),nt("load",e),a=s;break;case"details":nt("toggle",e),a=s;break;case"input":sv(e,s),a=Ff(e,s),nt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=dt({},s,{value:void 0}),nt("invalid",e);break;case"textarea":ov(e,s),a=zf(e,s),nt("invalid",e);break;default:a=s}Vf(n,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Pw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kw(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nl(e,c):typeof c=="number"&&Nl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&nt("scroll",e):c!=null&&Dp(e,o,c,i))}switch(n){case"input":Tc(e),av(e,s,!1);break;case"textarea":Tc(e),iv(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ta(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?Lo(e,!!s.multiple,o,!1):s.defaultValue!=null&&Lo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)Xb(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(K(166));if(n=Ta(Dl.current),Ta(Rr.current),Fc(t)){if(s=t.stateNode,n=t.memoizedProps,s[kr]=t,(o=s.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:$c(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$c(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[kr]=t,t.stateNode=s}return Ft(t),null;case 13:if(rt(ot),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&Cn!==null&&t.mode&1&&!(t.flags&128))gb(),ii(),t.flags|=98560,o=!1;else if(o=Fc(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[kr]=t}else ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),o=!1}else ir!==null&&(Sm(ir),ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?_t===0&&(_t=3):gg())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return ci(),xm(e,t),e===null&&Tl(t.stateNode.containerInfo),Ft(t),null;case 10:return Zp(t.type._context),Ft(t),null;case 17:return vn(t.type)&&Md(),Ft(t),null;case 19:if(rt(ot),o=t.memoizedState,o===null)return Ft(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Hi(o,!1);else{if(_t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zd(e),i!==null){for(t.flags|=128,Hi(o,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(ot,ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&xt()>ui&&(t.flags|=128,s=!0,Hi(o,!1),t.lanes=4194304)}else{if(!s)if(e=zd(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!at)return Ft(t),null}else 2*xt()-o.renderingStartTime>ui&&n!==1073741824&&(t.flags|=128,s=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xt(),t.sibling=null,n=ot.current,Ze(ot,s?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return pg(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Nn&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function CP(e,t){switch(Kp(t),t.tag){case 1:return vn(t.type)&&Md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),rt(xn),rt(Vt),sg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rg(t),null;case 13:if(rt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(ot),null;case 4:return ci(),null;case 10:return Zp(t.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var zc=!1,zt=!1,kP=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ht(e,t,s)}else n.current=null}function vm(e,t,n){try{n()}catch(s){ht(e,t,s)}}var Yv=!1;function EP(e,t){if(tm=Rd,e=rb(),Qp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==n||a!==0&&h.nodeType!==3||(l=i+a),h!==o||s!==0&&h.nodeType!==3||(c=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=i),f===o&&++u===s&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nm={focusedElem:e,selectionRange:n},Rd=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,v=w.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:nr(t.type,x),v);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){ht(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return w=Yv,Yv=!1,w}function pl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&vm(t,n,o)}a=a.next}while(a!==s)}}function Eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ym(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zb(e){var t=e.alternate;t!==null&&(e.alternate=null,Zb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kr],delete t[Al],delete t[am],delete t[dP],delete t[uP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ej(e){return e.tag===5||e.tag===3||e.tag===4}function Jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ej(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dd));else if(s!==4&&(e=e.child,e!==null))for(wm(e,t,n),e=e.sibling;e!==null;)wm(e,t,n),e=e.sibling}function bm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bm(e,t,n),e=e.sibling;e!==null;)bm(e,t,n),e=e.sibling}var Ot=null,ar=!1;function xs(e,t,n){for(n=n.child;n!==null;)tj(e,t,n),n=n.sibling}function tj(e,t,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(wu,n)}catch{}switch(n.tag){case 5:zt||Mo(n,t);case 6:var s=Ot,a=ar;Ot=null,xs(e,t,n),Ot=s,ar=a,Ot!==null&&(ar?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ar?(e=Ot,n=n.stateNode,e.nodeType===8?Wh(e.parentNode,n):e.nodeType===1&&Wh(e,n),kl(e)):Wh(Ot,n.stateNode));break;case 4:s=Ot,a=ar,Ot=n.stateNode.containerInfo,ar=!0,xs(e,t,n),Ot=s,ar=a;break;case 0:case 11:case 14:case 15:if(!zt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&vm(n,t,i),a=a.next}while(a!==s)}xs(e,t,n);break;case 1:if(!zt&&(Mo(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ht(n,t,l)}xs(e,t,n);break;case 21:xs(e,t,n);break;case 22:n.mode&1?(zt=(s=zt)||n.memoizedState!==null,xs(e,t,n),zt=s):xs(e,t,n);break;default:xs(e,t,n)}}function Xv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kP),t.forEach(function(s){var a=LP.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,ar=!1;break e;case 3:Ot=l.stateNode.containerInfo,ar=!0;break e;case 4:Ot=l.stateNode.containerInfo,ar=!0;break e}l=l.return}if(Ot===null)throw Error(K(160));tj(o,i,a),Ot=null,ar=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ht(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nj(t,e),t=t.sibling}function nj(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),br(e),s&4){try{pl(3,e,e.return),Eu(3,e)}catch(x){ht(e,e.return,x)}try{pl(5,e,e.return)}catch(x){ht(e,e.return,x)}}break;case 1:Xn(t,e),br(e),s&512&&n!==null&&Mo(n,n.return);break;case 5:if(Xn(t,e),br(e),s&512&&n!==null&&Mo(n,n.return),e.flags&32){var a=e.stateNode;try{Nl(a,"")}catch(x){ht(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_w(a,o),qf(l,i);var d=qf(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?Pw(a,h):u==="dangerouslySetInnerHTML"?kw(a,h):u==="children"?Nl(a,h):Dp(a,u,h,d)}switch(l){case"input":Uf(a,o);break;case"textarea":Sw(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Lo(a,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Lo(a,!!o.multiple,o.defaultValue,!0):Lo(a,!!o.multiple,o.multiple?[]:"",!1))}a[Al]=o}catch(x){ht(e,e.return,x)}}break;case 6:if(Xn(t,e),br(e),s&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){ht(e,e.return,x)}}break;case 3:if(Xn(t,e),br(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(x){ht(e,e.return,x)}break;case 4:Xn(t,e),br(e);break;case 13:Xn(t,e),br(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(fg=xt())),s&4&&Xv(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(zt=(d=zt)||u,Xn(t,e),zt=d):Xn(t,e),br(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ce=e,u=e.child;u!==null;){for(h=ce=u;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:Mo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ht(s,n,x)}}break;case 5:Mo(f,f.return);break;case 22:if(f.memoizedState!==null){ey(h);continue}}p!==null?(p.return=f,ce=p):ey(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ew("display",i))}catch(x){ht(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){ht(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(t,e),br(e),s&4&&Xv(e);break;case 21:break;default:Xn(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ej(n)){var s=n;break e}n=n.return}throw Error(K(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Nl(a,""),s.flags&=-33);var o=Jv(e);bm(e,o,a);break;case 3:case 4:var i=s.stateNode.containerInfo,l=Jv(e);wm(e,l,i);break;default:throw Error(K(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PP(e,t,n){ce=e,rj(e)}function rj(e,t,n){for(var s=(e.mode&1)!==0;ce!==null;){var a=ce,o=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||zc;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||zt;l=zc;var d=zt;if(zc=i,(zt=c)&&!d)for(ce=a;ce!==null;)i=ce,c=i.child,i.tag===22&&i.memoizedState!==null?ty(a):c!==null?(c.return=i,ce=c):ty(a);for(;o!==null;)ce=o,rj(o),o=o.sibling;ce=a,zc=l,zt=d}Zv(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ce=o):Zv(e)}}function Zv(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||Eu(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!zt)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:nr(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Lv(t,o,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lv(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}zt||t.flags&512&&ym(t)}catch(f){ht(t,t.return,f)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function ey(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function ty(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Eu(4,t)}catch(c){ht(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){ht(t,a,c)}}var o=t.return;try{ym(t)}catch(c){ht(t,o,c)}break;case 5:var i=t.return;try{ym(t)}catch(c){ht(t,i,c)}}}catch(c){ht(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var TP=Math.ceil,qd=ds.ReactCurrentDispatcher,ug=ds.ReactCurrentOwner,zn=ds.ReactCurrentBatchConfig,He=0,Pt=null,wt=null,Dt=0,Nn=0,Io=ua(0),_t=0,$l=null,Ha=0,Pu=0,hg=0,gl=null,hn=null,fg=0,ui=1/0,Qr=null,Hd=!1,jm=null,Ks=null,Wc=!1,zs=null,Qd=0,xl=0,Nm=null,md=-1,pd=0;function nn(){return He&6?xt():md!==-1?md:md=xt()}function Ys(e){return e.mode&1?He&2&&Dt!==0?Dt&-Dt:fP.transition!==null?(pd===0&&(pd=Bw()),pd):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Gw(e.type)),e):1}function cr(e,t,n,s){if(50<xl)throw xl=0,Nm=null,Error(K(185));sc(e,n,s),(!(He&2)||e!==Pt)&&(e===Pt&&(!(He&2)&&(Pu|=n),_t===4&&Ps(e,Dt)),yn(e,s),n===1&&He===0&&!(t.mode&1)&&(ui=xt()+500,Su&&ha()))}function yn(e,t){var n=e.callbackNode;f2(e,t);var s=Td(e,e===Pt?Dt:0);if(s===0)n!==null&&dv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&dv(n),t===1)e.tag===0?hP(ny.bind(null,e)):fb(ny.bind(null,e)),lP(function(){!(He&6)&&ha()}),n=null;else{switch(zw(s)){case 1:n=Fp;break;case 4:n=Fw;break;case 16:n=Pd;break;case 536870912:n=Uw;break;default:n=Pd}n=uj(n,sj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sj(e,t){if(md=-1,pd=0,He&6)throw Error(K(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var s=Td(e,e===Pt?Dt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Gd(e,s);else{t=s;var a=He;He|=2;var o=oj();(Pt!==e||Dt!==t)&&(Qr=null,ui=xt()+500,Ua(e,t));do try{OP();break}catch(l){aj(e,l)}while(!0);Xp(),qd.current=o,He=a,wt!==null?t=0:(Pt=null,Dt=0,t=_t)}if(t!==0){if(t===2&&(a=Yf(e),a!==0&&(s=a,t=_m(e,a))),t===1)throw n=$l,Ua(e,0),Ps(e,s),yn(e,xt()),n;if(t===6)Ps(e,s);else{if(a=e.current.alternate,!(s&30)&&!RP(a)&&(t=Gd(e,s),t===2&&(o=Yf(e),o!==0&&(s=o,t=_m(e,o))),t===1))throw n=$l,Ua(e,0),Ps(e,s),yn(e,xt()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(K(345));case 2:_a(e,hn,Qr);break;case 3:if(Ps(e,s),(s&130023424)===s&&(t=fg+500-xt(),10<t)){if(Td(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){nn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sm(_a.bind(null,e,hn,Qr),t);break}_a(e,hn,Qr);break;case 4:if(Ps(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-lr(s);o=1<<i,i=t[i],i>a&&(a=i),s&=~o}if(s=a,s=xt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*TP(s/1960))-s,10<s){e.timeoutHandle=sm(_a.bind(null,e,hn,Qr),s);break}_a(e,hn,Qr);break;case 5:_a(e,hn,Qr);break;default:throw Error(K(329))}}}return yn(e,xt()),e.callbackNode===n?sj.bind(null,e):null}function _m(e,t){var n=gl;return e.current.memoizedState.isDehydrated&&(Ua(e,t).flags|=256),e=Gd(e,t),e!==2&&(t=hn,hn=n,t!==null&&Sm(t)),e}function Sm(e){hn===null?hn=e:hn.push.apply(hn,e)}function RP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],o=a.getSnapshot;a=a.value;try{if(!hr(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~hg,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lr(t),s=1<<n;e[n]=-1,t&=~s}}function ny(e){if(He&6)throw Error(K(327));zo();var t=Td(e,0);if(!(t&1))return yn(e,xt()),null;var n=Gd(e,t);if(e.tag!==0&&n===2){var s=Yf(e);s!==0&&(t=s,n=_m(e,s))}if(n===1)throw n=$l,Ua(e,0),Ps(e,t),yn(e,xt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_a(e,hn,Qr),yn(e,xt()),null}function mg(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(ui=xt()+500,Su&&ha())}}function Qa(e){zs!==null&&zs.tag===0&&!(He&6)&&zo();var t=He;He|=1;var n=zn.transition,s=Ye;try{if(zn.transition=null,Ye=1,e)return e()}finally{Ye=s,zn.transition=n,He=t,!(He&6)&&ha()}}function pg(){Nn=Io.current,rt(Io)}function Ua(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iP(n)),wt!==null)for(n=wt.return;n!==null;){var s=n;switch(Kp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Md();break;case 3:ci(),rt(xn),rt(Vt),sg();break;case 5:rg(s);break;case 4:ci();break;case 13:rt(ot);break;case 19:rt(ot);break;case 10:Zp(s.type._context);break;case 22:case 23:pg()}n=n.return}if(Pt=e,wt=e=Js(e.current,null),Dt=Nn=t,_t=0,$l=null,hg=Pu=Ha=0,hn=gl=null,Pa!==null){for(t=0;t<Pa.length;t++)if(n=Pa[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,o=n.pending;if(o!==null){var i=o.next;o.next=a,s.next=i}n.pending=s}Pa=null}return e}function aj(e,t){do{var n=wt;try{if(Xp(),ud.current=Vd,Wd){for(var s=lt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Wd=!1}if(qa=0,Et=jt=lt=null,ml=!1,Ml=0,ug.current=null,n===null||n.return===null){_t=1,$l=t,wt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Wv(i);if(p!==null){p.flags&=-257,Vv(p,i,l,o,t),p.mode&1&&zv(o,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){zv(o,d,t),gg();break e}c=Error(K(426))}}else if(at&&l.mode&1){var v=Wv(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Vv(v,i,l,o,t),Yp(di(c,l));break e}}o=c=di(c,l),_t!==4&&(_t=2),gl===null?gl=[o]:gl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=zb(o,c,t);Iv(o,y);break e;case 1:l=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Wb(o,l,t);Iv(o,j);break e}}o=o.return}while(o!==null)}lj(n)}catch(k){t=k,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function oj(){var e=qd.current;return qd.current=Vd,e===null?Vd:e}function gg(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(Ha&268435455)&&!(Pu&268435455)||Ps(Pt,Dt)}function Gd(e,t){var n=He;He|=2;var s=oj();(Pt!==e||Dt!==t)&&(Qr=null,Ua(e,t));do try{AP();break}catch(a){aj(e,a)}while(!0);if(Xp(),He=n,qd.current=s,wt!==null)throw Error(K(261));return Pt=null,Dt=0,_t}function AP(){for(;wt!==null;)ij(wt)}function OP(){for(;wt!==null&&!s2();)ij(wt)}function ij(e){var t=dj(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?lj(e):wt=t,ug.current=null}function lj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CP(n,t),n!==null){n.flags&=32767,wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_t=6,wt=null;return}}else if(n=SP(n,t,Nn),n!==null){wt=n;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);_t===0&&(_t=5)}function _a(e,t,n){var s=Ye,a=zn.transition;try{zn.transition=null,Ye=1,DP(e,t,n,s)}finally{zn.transition=a,Ye=s}return null}function DP(e,t,n,s){do zo();while(zs!==null);if(He&6)throw Error(K(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(m2(e,o),e===Pt&&(wt=Pt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,uj(Pd,function(){return zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var i=Ye;Ye=1;var l=He;He|=4,ug.current=null,EP(e,n),nj(n,e),eP(nm),Rd=!!tm,nm=tm=null,e.current=n,PP(n),a2(),He=l,Ye=i,zn.transition=o}else e.current=n;if(Wc&&(Wc=!1,zs=e,Qd=a),o=e.pendingLanes,o===0&&(Ks=null),l2(n.stateNode),yn(e,xt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Hd)throw Hd=!1,e=jm,jm=null,e;return Qd&1&&e.tag!==0&&zo(),o=e.pendingLanes,o&1?e===Nm?xl++:(xl=0,Nm=e):xl=0,ha(),null}function zo(){if(zs!==null){var e=zw(Qd),t=zn.transition,n=Ye;try{if(zn.transition=null,Ye=16>e?16:e,zs===null)var s=!1;else{if(e=zs,zs=null,Qd=0,He&6)throw Error(K(331));var a=He;for(He|=4,ce=e.current;ce!==null;){var o=ce,i=o.child;if(ce.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:pl(8,u,o)}var h=u.child;if(h!==null)h.return=u,ce=h;else for(;ce!==null;){u=ce;var f=u.sibling,p=u.return;if(Zb(u),u===d){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ce=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ce=i;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ce=y;break e}ce=o.return}}var g=e.current;for(ce=g;ce!==null;){i=ce;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ce=b;else e:for(i=g;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eu(9,l)}}catch(k){ht(l,l.return,k)}if(l===i){ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ce=j;break e}ce=l.return}}if(He=a,ha(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(wu,e)}catch{}s=!0}return s}finally{Ye=n,zn.transition=t}}return!1}function ry(e,t,n){t=di(n,t),t=zb(e,t,1),e=Gs(e,t,1),t=nn(),e!==null&&(sc(e,1,t),yn(e,t))}function ht(e,t,n){if(e.tag===3)ry(e,e,n);else for(;t!==null;){if(t.tag===3){ry(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ks===null||!Ks.has(s))){e=di(n,e),e=Wb(t,e,1),t=Gs(t,e,1),e=nn(),t!==null&&(sc(t,1,e),yn(t,e));break}}t=t.return}}function MP(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(Dt&n)===n&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>xt()-fg?Ua(e,0):hg|=n),yn(e,t)}function cj(e,t){t===0&&(e.mode&1?(t=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):t=1);var n=nn();e=os(e,t),e!==null&&(sc(e,t,n),yn(e,n))}function IP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cj(e,n)}function LP(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(t),cj(e,n)}var dj;dj=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mn=!1,_P(e,t,n);mn=!!(e.flags&131072)}else mn=!1,at&&t.flags&1048576&&mb(t,$d,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;fd(e,t),e=t.pendingProps;var a=oi(t,Vt.current);Bo(t,n),a=og(null,t,s,e,a,n);var o=ig();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(s)?(o=!0,Id(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tg(t),a.updater=ku,t.stateNode=a,a._reactInternals=t,um(t,s,e,n),t=mm(null,t,s,!0,o,n)):(t.tag=0,at&&o&&Gp(t),Xt(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(fd(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=FP(s),e=nr(s,e),a){case 0:t=fm(null,t,s,e,n);break e;case 1:t=Qv(null,t,s,e,n);break e;case 11:t=qv(null,t,s,e,n);break e;case 14:t=Hv(null,t,s,nr(s.type,e),n);break e}throw Error(K(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:nr(s,a),fm(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:nr(s,a),Qv(e,t,s,a,n);case 3:e:{if(Qb(t),e===null)throw Error(K(387));s=t.pendingProps,o=t.memoizedState,a=o.element,wb(e,t),Bd(t,s,null,n);var i=t.memoizedState;if(s=i.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=di(Error(K(423)),t),t=Gv(e,t,s,n,a);break e}else if(s!==a){a=di(Error(K(424)),t),t=Gv(e,t,s,n,a);break e}else for(Cn=Qs(t.stateNode.containerInfo.firstChild),kn=t,at=!0,ir=null,n=vb(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),s===a){t=is(e,t,n);break e}Xt(e,t,s,n)}t=t.child}return t;case 5:return bb(t),e===null&&lm(t),s=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,rm(s,a)?i=null:o!==null&&rm(s,o)&&(t.flags|=32),Hb(e,t),Xt(e,t,i,n),t.child;case 6:return e===null&&lm(t),null;case 13:return Gb(e,t,n);case 4:return ng(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=li(t,null,s,n):Xt(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:nr(s,a),qv(e,t,s,a,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ze(Fd,s._currentValue),s._currentValue=i,o!==null)if(hr(o.value,i)){if(o.children===a.children&&!xn.current){t=is(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=ts(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),cm(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(K(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cm(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Bo(t,n),a=Vn(a),s=s(a),t.flags|=1,Xt(e,t,s,n),t.child;case 14:return s=t.type,a=nr(s,t.pendingProps),a=nr(s.type,a),Hv(e,t,s,a,n);case 15:return Vb(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:nr(s,a),fd(e,t),t.tag=1,vn(s)?(e=!0,Id(t)):e=!1,Bo(t,n),Bb(t,s,a),um(t,s,a,n),mm(null,t,s,!0,e,n);case 19:return Kb(e,t,n);case 22:return qb(e,t,n)}throw Error(K(156,t.tag))};function uj(e,t){return $w(e,t)}function $P(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,s){return new $P(e,t,n,s)}function xg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FP(e){if(typeof e=="function")return xg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ip)return 11;if(e===Lp)return 14}return 2}function Js(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gd(e,t,n,s,a,o){var i=2;if(s=e,typeof e=="function")xg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Co:return Ba(n.children,a,o,t);case Mp:i=8,a|=8;break;case Mf:return e=Fn(12,n,t,a|2),e.elementType=Mf,e.lanes=o,e;case If:return e=Fn(13,n,t,a),e.elementType=If,e.lanes=o,e;case Lf:return e=Fn(19,n,t,a),e.elementType=Lf,e.lanes=o,e;case bw:return Tu(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yw:i=10;break e;case ww:i=9;break e;case Ip:i=11;break e;case Lp:i=14;break e;case Ss:i=16,s=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Fn(i,n,t,a),t.elementType=e,t.type=s,t.lanes=o,t}function Ba(e,t,n,s){return e=Fn(7,e,s,t),e.lanes=n,e}function Tu(e,t,n,s){return e=Fn(22,e,s,t),e.elementType=bw,e.lanes=n,e.stateNode={isHidden:!1},e}function Jh(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UP(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vg(e,t,n,s,a,o,i,l,c){return e=new UP(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(o),e}function BP(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function hj(e){if(!e)return na;e=e._reactInternals;e:{if(ro(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(vn(n))return hb(e,n,t)}return t}function fj(e,t,n,s,a,o,i,l,c){return e=vg(n,s,!0,e,a,o,i,l,c),e.context=hj(null),n=e.current,s=nn(),a=Ys(n),o=ts(s,a),o.callback=t??null,Gs(n,o,a),e.current.lanes=a,sc(e,a,s),yn(e,s),e}function Ru(e,t,n,s){var a=t.current,o=nn(),i=Ys(a);return n=hj(n),t.context===null?t.context=n:t.pendingContext=n,t=ts(o,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Gs(a,t,i),e!==null&&(cr(e,a,i,o),dd(e,a,i)),i}function Kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yg(e,t){sy(e,t),(e=e.alternate)&&sy(e,t)}function zP(){return null}var mj=typeof reportError=="function"?reportError:function(e){console.error(e)};function wg(e){this._internalRoot=e}Au.prototype.render=wg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Ru(e,t,null,null)};Au.prototype.unmount=wg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qa(function(){Ru(null,e,null,null)}),t[as]=null}};function Au(e){this._internalRoot=e}Au.prototype.unstable_scheduleHydration=function(e){if(e){var t=qw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&Qw(e)}};function bg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ay(){}function WP(e,t,n,s,a){if(a){if(typeof s=="function"){var o=s;s=function(){var d=Kd(i);o.call(d)}}var i=fj(t,s,e,0,null,!1,!1,"",ay);return e._reactRootContainer=i,e[as]=i.current,Tl(e.nodeType===8?e.parentNode:e),Qa(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Kd(c);l.call(d)}}var c=vg(e,0,!1,null,null,!1,!1,"",ay);return e._reactRootContainer=c,e[as]=c.current,Tl(e.nodeType===8?e.parentNode:e),Qa(function(){Ru(t,c,n,s)}),c}function Du(e,t,n,s,a){var o=n._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Kd(i);l.call(c)}}Ru(t,i,e,a)}else i=WP(n,t,e,a,s);return Kd(i)}Ww=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&(Up(t,n|1),yn(t,xt()),!(He&6)&&(ui=xt()+500,ha()))}break;case 13:Qa(function(){var s=os(e,1);if(s!==null){var a=nn();cr(s,e,1,a)}}),yg(e,1)}};Bp=function(e){if(e.tag===13){var t=os(e,134217728);if(t!==null){var n=nn();cr(t,e,134217728,n)}yg(e,134217728)}};Vw=function(e){if(e.tag===13){var t=Ys(e),n=os(e,t);if(n!==null){var s=nn();cr(n,e,t,s)}yg(e,t)}};qw=function(){return Ye};Hw=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Qf=function(e,t,n){switch(t){case"input":if(Uf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=_u(s);if(!a)throw Error(K(90));Nw(s),Uf(s,a)}}}break;case"textarea":Sw(e,n);break;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}};Aw=mg;Ow=Qa;var VP={usingClientEntryPoint:!1,Events:[oc,To,_u,Tw,Rw,mg]},Qi={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Iw(e),e===null?null:e.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||zP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{wu=Vc.inject(qP),Tr=Vc}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;Rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(t))throw Error(K(200));return BP(e,t,null,n)};Rn.createRoot=function(e,t){if(!bg(e))throw Error(K(299));var n=!1,s="",a=mj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vg(e,1,!1,null,null,n,!1,s,a),e[as]=t.current,Tl(e.nodeType===8?e.parentNode:e),new wg(t)};Rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=Iw(t),e=e===null?null:e.stateNode,e};Rn.flushSync=function(e){return Qa(e)};Rn.hydrate=function(e,t,n){if(!Ou(t))throw Error(K(200));return Du(null,e,t,!0,n)};Rn.hydrateRoot=function(e,t,n){if(!bg(e))throw Error(K(405));var s=n!=null&&n.hydratedSources||null,a=!1,o="",i=mj;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=fj(t,null,e,1,n??null,a,!1,o,i),e[as]=t.current,Tl(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Au(t)};Rn.render=function(e,t,n){if(!Ou(t))throw Error(K(200));return Du(null,e,t,!1,n)};Rn.unmountComponentAtNode=function(e){if(!Ou(e))throw Error(K(40));return e._reactRootContainer?(Qa(function(){Du(null,null,e,!1,function(){e._reactRootContainer=null,e[as]=null})}),!0):!1};Rn.unstable_batchedUpdates=mg;Rn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ou(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Du(e,t,n,!1,s)};Rn.version="18.3.1-next-f1338f8080-20240426";function pj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pj)}catch(e){console.error(e)}}pj(),pw.exports=Rn;var so=pw.exports;const gj=Cp(so);var xj,oy=so;xj=oy.createRoot,oy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fl.apply(this,arguments)}var Ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ws||(Ws={}));const iy="popstate";function HP(e){e===void 0&&(e={});function t(s,a){let{pathname:o,search:i,hash:l}=s.location;return Cm("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yd(a)}return GP(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QP(){return Math.random().toString(36).substr(2,8)}function ly(e,t){return{usr:e.state,key:e.key,idx:t}}function Cm(e,t,n,s){return n===void 0&&(n=null),Fl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Si(t):t,{state:n,key:t&&t.key||s||QP()})}function Yd(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Si(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function GP(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:o=!1}=s,i=a.history,l=Ws.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Fl({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){l=Ws.Pop;let v=u(),y=v==null?null:v-d;d=v,c&&c({action:l,location:x.location,delta:y})}function f(v,y){l=Ws.Push;let g=Cm(x.location,v,y);d=u()+1;let b=ly(g,d),j=x.createHref(g);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}o&&c&&c({action:l,location:x.location,delta:1})}function p(v,y){l=Ws.Replace;let g=Cm(x.location,v,y);d=u();let b=ly(g,d),j=x.createHref(g);i.replaceState(b,"",j),o&&c&&c({action:l,location:x.location,delta:0})}function w(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:Yd(v);return g=g.replace(/ $/,"%20"),ct(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(iy,h),c=v,()=>{a.removeEventListener(iy,h),c=null}},createHref(v){return t(a,v)},createURL:w,encodeLocation(v){let y=w(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return i.go(v)}};return x}var cy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cy||(cy={}));function KP(e,t,n){return n===void 0&&(n="/"),YP(e,t,n)}function YP(e,t,n,s){let a=typeof t=="string"?Si(t):t,o=hi(a.pathname||"/",n);if(o==null)return null;let i=yj(e);JP(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let d=lT(o);l=oT(i[c],d)}return l}function yj(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Xs([s,c.relativePath]),u=n.concat(c);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yj(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:sT(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of wj(o.path))a(o,i,c)}),t}function wj(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let i=wj(s.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function JP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aT(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const XP=/^:[\w-]+$/,ZP=3,eT=2,tT=1,nT=10,rT=-2,dy=e=>e==="*";function sT(e,t){let n=e.split("/"),s=n.length;return n.some(dy)&&(s+=rT),t&&(s+=eT),n.filter(a=>!dy(a)).reduce((a,o)=>a+(XP.test(o)?ZP:o===""?tT:nT),s)}function aT(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function oT(e,t,n){let{routesMeta:s}=e,a={},o="/",i=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=km({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Xs([o,h.pathname]),pathnameBase:hT(Xs([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=Xs([o,h.pathnameBase]))}return i}function km(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=iT(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let x=l[h]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?d[f]=void 0:d[f]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function iT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function lT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function cT(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Si(e):e;return{pathname:n?n.startsWith("/")?n:dT(n,t):t,search:fT(s),hash:mT(a)}}function dT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zh(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jg(e,t){let n=uT(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ng(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Si(e):(a=Fl({},e),ct(!a.pathname||!a.pathname.includes("?"),Zh("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),Zh("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),Zh("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!s&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=cT(a,l),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),hT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bj=["post","put","patch","delete"];new Set(bj);const gT=["get",...bj];new Set(gT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ul.apply(this,arguments)}const Mu=m.createContext(null),jj=m.createContext(null),us=m.createContext(null),Iu=m.createContext(null),Ir=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Nj=m.createContext(null);function xT(e,t){let{relative:n}=t===void 0?{}:t;Ci()||ct(!1);let{basename:s,navigator:a}=m.useContext(us),{hash:o,pathname:i,search:l}=Lu(e,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Xs([s,i])),a.createHref({pathname:c,search:l,hash:o})}function Ci(){return m.useContext(Iu)!=null}function yr(){return Ci()||ct(!1),m.useContext(Iu).location}function _j(e){m.useContext(us).static||m.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=m.useContext(Ir);return e?AT():vT()}function vT(){Ci()||ct(!1);let e=m.useContext(Mu),{basename:t,future:n,navigator:s}=m.useContext(us),{matches:a}=m.useContext(Ir),{pathname:o}=yr(),i=JSON.stringify(jg(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return _j(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Ng(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xs([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,i,o,e])}const yT=m.createContext(null);function wT(e){let t=m.useContext(Ir).outlet;return t&&m.createElement(yT.Provider,{value:e},t)}function _g(){let{matches:e}=m.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function Lu(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=m.useContext(us),{matches:a}=m.useContext(Ir),{pathname:o}=yr(),i=JSON.stringify(jg(a,s.v7_relativeSplatPath));return m.useMemo(()=>Ng(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function bT(e,t){return jT(e,t)}function jT(e,t,n,s){Ci()||ct(!1);let{navigator:a}=m.useContext(us),{matches:o}=m.useContext(Ir),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=yr(),u;if(t){var h;let v=typeof t=="string"?Si(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||ct(!1),u=v}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=KP(e,{pathname:p}),x=kT(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Xs([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xs([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,s);return t&&x?m.createElement(Iu.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ws.Pop}},x):x}function NT(){let e=RT(),t=pT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const _T=m.createElement(NT,null);class ST extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ir.Provider,{value:this.props.routeContext},m.createElement(Nj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CT(e){let{routeContext:t,match:n,children:s}=e,a=m.useContext(Mu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ir.Provider,{value:t},s)}function kT(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ct(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let p,w=!1,x=null,v=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||_T,c&&(d<0&&f===0?(OT("route-fallback"),w=!0,v=null):d===f&&(w=!0,v=h.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,f+1)),g=()=>{let b;return p?b=x:w?b=v:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(CT,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(ST,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Sj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sj||{}),Cj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cj||{});function ET(e){let t=m.useContext(Mu);return t||ct(!1),t}function PT(e){let t=m.useContext(jj);return t||ct(!1),t}function TT(e){let t=m.useContext(Ir);return t||ct(!1),t}function kj(e){let t=TT(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function RT(){var e;let t=m.useContext(Nj),n=PT(),s=kj();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function AT(){let{router:e}=ET(Sj.UseNavigateStable),t=kj(Cj.UseNavigateStable),n=m.useRef(!1);return _j(()=>{n.current=!0}),m.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ul({fromRouteId:t},o)))},[e,t])}const uy={};function OT(e,t,n){uy[e]||(uy[e]=!0)}function DT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ej(e){let{to:t,replace:n,state:s,relative:a}=e;Ci()||ct(!1);let{future:o,static:i}=m.useContext(us),{matches:l}=m.useContext(Ir),{pathname:c}=yr(),d=Rt(),u=Ng(t,jg(l,o.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:n,state:s,relative:a}),[d,h,a,n,s]),null}function MT(e){return wT(e.context)}function Pe(e){ct(!1)}function IT(e){let{basename:t="/",children:n=null,location:s,navigationType:a=Ws.Pop,navigator:o,static:i=!1,future:l}=e;Ci()&&ct(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Ul({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof s=="string"&&(s=Si(s));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:w="default"}=s,x=m.useMemo(()=>{let v=hi(u,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:w},navigationType:a}},[c,u,h,f,p,w,a]);return x==null?null:m.createElement(us.Provider,{value:d},m.createElement(Iu.Provider,{children:n,value:x}))}function Pj(e){let{children:t,location:n}=e;return bT(Em(t),n)}new Promise(()=>{});function Em(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let o=[...t,a];if(s.type===m.Fragment){n.push.apply(n,Em(s.props.children,o));return}s.type!==Pe&&ct(!1),!s.props.index||!s.props.children||ct(!1);let i={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Em(s.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jd.apply(this,arguments)}function Tj(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,o;for(o=0;o<s.length;o++)a=s[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function LT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $T(e,t){return e.button===0&&(!t||t==="_self")&&!LT(e)}const FT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BT="6";try{window.__reactRouterVersion=BT}catch{}const zT=m.createContext({isTransitioning:!1}),WT="startTransition",hy=Rp[WT];function VT(e){let{basename:t,children:n,future:s,window:a}=e,o=m.useRef();o.current==null&&(o.current=HP({window:a,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=m.useCallback(h=>{d&&hy?hy(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.useEffect(()=>DT(s),[s]),m.createElement(IT,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:s})}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rj=m.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Tj(t,FT),{basename:p}=m.useContext(us),w,x=!1;if(typeof d=="string"&&HT.test(d)&&(w=d,qT))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),k=hi(j.pathname,p);j.origin===b.origin&&k!=null?d=k+j.search+j.hash:x=!0}catch{}let v=xT(d,{relative:a}),y=GT(d,{replace:i,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function g(b){s&&s(b),b.defaultPrevented||y(b)}return m.createElement("a",Jd({},f,{href:w||v,onClick:x||o?s:g,ref:n,target:c}))}),Aj=m.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:d,children:u}=t,h=Tj(t,UT),f=Lu(c,{relative:h.relative}),p=yr(),w=m.useContext(jj),{navigator:x,basename:v}=m.useContext(us),y=w!=null&&KT(f)&&d===!0,g=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,b=p.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(b=b.toLowerCase(),j=j?j.toLowerCase():null,g=g.toLowerCase()),j&&v&&(j=hi(j,v)||j);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=b===g||!i&&b.startsWith(g)&&b.charAt(k)==="/",_=j!=null&&(j===g||!i&&j.startsWith(g)&&j.charAt(g.length)==="/"),N={isActive:E,isPending:_,isTransitioning:y},S=E?s:void 0,C;typeof o=="function"?C=o(N):C=[o,E?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(N):l;return m.createElement(Rj,Jd({},h,{"aria-current":S,className:C,ref:n,style:O,to:c,viewTransition:d}),typeof u=="function"?u(N):u)});var Pm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pm||(Pm={}));var fy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fy||(fy={}));function QT(e){let t=m.useContext(Mu);return t||ct(!1),t}function GT(e,t){let{target:n,replace:s,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Rt(),d=yr(),u=Lu(e,{relative:i});return m.useCallback(h=>{if($T(h,n)){h.preventDefault();let f=s!==void 0?s:Yd(d)===Yd(u);c(e,{replace:f,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[d,c,u,s,a,n,e,o,i,l])}function KT(e,t){t===void 0&&(t={});let n=m.useContext(zT);n==null&&ct(!1);let{basename:s}=QT(Pm.useViewTransitionState),a=Lu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=hi(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=hi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return km(a.pathname,i)!=null||km(a.pathname,o)!=null}const YT=1,JT=1e6;let ef=0;function XT(){return ef=(ef+1)%Number.MAX_SAFE_INTEGER,ef.toString()}const tf=new Map,my=e=>{if(tf.has(e))return;const t=setTimeout(()=>{tf.delete(e),vl({type:"REMOVE_TOAST",toastId:e})},JT);tf.set(e,t)},ZT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,YT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?my(n):e.toasts.forEach(s=>{my(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},xd=[];let vd={toasts:[]};function vl(e){vd=ZT(vd,e),xd.forEach(t=>{t(vd)})}function _n({...e}){const t=XT(),n=a=>vl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>vl({type:"DISMISS_TOAST",toastId:t});return vl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function De(){const[e,t]=m.useState(vd);return m.useEffect(()=>(xd.push(t),()=>{const n=xd.indexOf(t);n>-1&&xd.splice(n,1)}),[e]),{...e,toast:_n,dismiss:n=>vl({type:"DISMISS_TOAST",toastId:n})}}function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function py(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $u(...e){return t=>{let n=!1;const s=e.map(a=>{const o=py(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():py(e[a],null)}}}}function be(...e){return m.useCallback($u(...e),e)}function eR(e,t){const n=m.createContext(t),s=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:i})};s.displayName=e+"Provider";function a(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,a]}function At(e,t=[]){let n=[];function s(o,i){const l=m.createContext(i),c=n.length;n=[...n,i];const d=h=>{var y;const{scope:f,children:p,...w}=h,x=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=m.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:v,children:p})};d.displayName=o+"Provider";function u(h,f){var x;const p=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,w=m.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,tR(a,...t)]}function tR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(o)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ra(e){const t=rR(e),n=m.forwardRef((s,a)=>{const{children:o,...i}=s,l=m.Children.toArray(o),c=l.find(aR);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...i,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return r.jsx(t,{...i,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var nR=ra("Slot");function rR(e){const t=m.forwardRef((n,s)=>{const{children:a,...o}=n;if(m.isValidElement(a)){const i=iR(a),l=oR(o,a.props);return a.type!==m.Fragment&&(l.ref=s?$u(s,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oj=Symbol("radix.slottable");function sR(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Oj,t}function aR(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oj}function oR(e,t){const n={...t};for(const s in t){const a=e[s],o=t[s];/^on[A-Z]/.test(s)?a&&o?n[s]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...o}:s==="className"&&(n[s]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function iR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fu(e){const t=e+"CollectionProvider",[n,s]=At(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:v,children:y}=x,g=Y.useRef(null),b=Y.useRef(new Map).current;return r.jsx(a,{scope:v,itemMap:b,collectionRef:g,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=ra(l),d=Y.forwardRef((x,v)=>{const{scope:y,children:g}=x,b=o(l,y),j=be(v,b.collectionRef);return r.jsx(c,{ref:j,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=ra(u),p=Y.forwardRef((x,v)=>{const{scope:y,children:g,...b}=x,j=Y.useRef(null),k=be(v,j),E=o(u,y);return Y.useEffect(()=>(E.itemMap.set(j,{ref:j,...b}),()=>void E.itemMap.delete(j))),r.jsx(f,{[h]:"",ref:k,children:g})});p.displayName=u;function w(x){const v=o(e+"CollectionConsumer",x);return Y.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((E,_)=>b.indexOf(E.ref.current)-b.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},w,s]}var lR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=lR.reduce((e,t)=>{const n=ra(`Primitive.${t}`),s=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Sg(e,t){e&&so.flushSync(()=>e.dispatchEvent(t))}function ft(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function cR(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var dR="DismissableLayer",Tm="dismissableLayer.update",uR="dismissableLayer.pointerDownOutside",hR="dismissableLayer.focusOutside",gy,Dj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ao=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=m.useContext(Dj),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=be(t,_=>h(_)),x=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(v),g=u?x.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=g>=y,k=mR(_=>{const N=_.target,S=[...d.branches].some(C=>C.contains(N));!j||S||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},f),E=pR(_=>{const N=_.target;[...d.branches].some(C=>C.contains(N))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},f);return cR(_=>{g===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gy=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),xy(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=gy)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),xy())},[u,d]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(Tm,_),()=>document.removeEventListener(Tm,_)},[]),r.jsx(ie.div,{...c,ref:w,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,E.onFocusCapture),onBlurCapture:G(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,k.onPointerDownCapture)})});ao.displayName=dR;var fR="DismissableLayerBranch",Mj=m.forwardRef((e,t)=>{const n=m.useContext(Dj),s=m.useRef(null),a=be(t,s);return m.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(ie.div,{...e,ref:a})});Mj.displayName=fR;function mR(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let c=function(){Ij(uR,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function pR(e,t=globalThis==null?void 0:globalThis.document){const n=ft(e),s=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!s.current&&Ij(hR,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function xy(){const e=new CustomEvent(Tm);document.dispatchEvent(e)}function Ij(e,t,n,{discrete:s}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Sg(a,o):a.dispatchEvent(o)}var gR=ao,xR=Mj,vt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},vR="Portal",ki=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[a,o]=m.useState(!1);vt(()=>o(!0),[]);const i=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?gj.createPortal(r.jsx(ie.div,{...s,ref:t}),i):null});ki.displayName=vR;function yR(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Ct=e=>{const{present:t,children:n}=e,s=wR(t),a=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),o=be(s.ref,bR(a));return typeof n=="function"||s.isPresent?m.cloneElement(a,{ref:o}):null};Ct.displayName="Presence";function wR(e){const[t,n]=m.useState(),s=m.useRef(null),a=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=yR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=qc(s.current);o.current=l==="mounted"?d:"none"},[l]),vt(()=>{const d=s.current,u=a.current;if(u!==e){const f=o.current,p=qc(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),vt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const x=qc(s.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=p=>{p.target===t&&(o.current=qc(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function qc(e){return(e==null?void 0:e.animationName)||"none"}function bR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jR=Rp[" useInsertionEffect ".trim().toString()]||vt;function fr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,o,i]=NR({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=m.useCallback(u=>{var h;if(l){const f=_R(u)?u(e):u;f!==e&&((h=i.current)==null||h.call(i,f))}else o(u)},[l,e,o,i]);return[c,d]}function NR({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),a=m.useRef(n),o=m.useRef(t);return jR(()=>{o.current=t},[t]),m.useEffect(()=>{var i;a.current!==n&&((i=o.current)==null||i.call(o,n),a.current=n)},[n,a]),[n,s,o]}function _R(e){return typeof e=="function"}var Lj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SR="VisuallyHidden",Uu=m.forwardRef((e,t)=>r.jsx(ie.span,{...e,ref:t,style:{...Lj,...e.style}}));Uu.displayName=SR;var CR=Uu,Cg="ToastProvider",[kg,kR,ER]=Fu("Toast"),[$j,I9]=At("Toast",[ER]),[PR,Bu]=$j(Cg),Fj=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),r.jsx(kg.Provider,{scope:t,children:r.jsx(PR,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};Fj.displayName=Cg;var Uj="ToastViewport",TR=["F8"],Rm="toast.viewportPause",Am="toast.viewportResume",Bj=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=TR,label:a="Notifications ({hotkey})",...o}=e,i=Bu(Uj,n),l=kR(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=be(t,h,i.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;m.useEffect(()=>{const v=y=>{var b;s.length!==0&&s.every(j=>y[j]||y.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),m.useEffect(()=>{const v=c.current,y=h.current;if(w&&v&&y){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Rm);y.dispatchEvent(E),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Am);y.dispatchEvent(E),i.isClosePausedRef.current=!1}},j=E=>{!v.contains(E.relatedTarget)&&b()},k=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",g),v.addEventListener("focusout",j),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",k),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",k),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[w,i.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:v})=>{const g=l().map(b=>{const j=b.ref.current,k=[j,...WR(j)];return v==="forwards"?k:k.reverse()});return(v==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const v=h.current;if(v){const y=g=>{var k,E,_;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const N=document.activeElement,S=g.shiftKey;if(g.target===v&&S){(k=d.current)==null||k.focus();return}const R=x({tabbingDirection:S?"backwards":"forwards"}),P=R.findIndex(I=>I===N);nf(R.slice(P+1))?g.preventDefault():S?(E=d.current)==null||E.focus():(_=u.current)==null||_.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,x]),r.jsxs(xR,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(Om,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});nf(v)}}),r.jsx(kg.Slot,{scope:n,children:r.jsx(ie.ol,{tabIndex:-1,...o,ref:f})}),w&&r.jsx(Om,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});nf(v)}})]})});Bj.displayName=Uj;var zj="ToastFocusProxy",Om=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,o=Bu(zj,n);return r.jsx(Uu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&s()}})});Om.displayName=zj;var lc="Toast",RR="toast.swipeStart",AR="toast.swipeMove",OR="toast.swipeCancel",DR="toast.swipeEnd",Wj=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:o,...i}=e,[l,c]=fr({prop:s,defaultProp:a??!0,onChange:o,caller:lc});return r.jsx(Ct,{present:n||l,children:r.jsx(LR,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ft(e.onPause),onResume:ft(e.onResume),onSwipeStart:G(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:G(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Wj.displayName=lc;var[MR,IR]=$j(lc,{onClose(){}}),LR=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...w}=e,x=Bu(lc,n),[v,y]=m.useState(null),g=be(t,I=>y(I)),b=m.useRef(null),j=m.useRef(null),k=a||x.duration,E=m.useRef(0),_=m.useRef(k),N=m.useRef(0),{onToastAdd:S,onToastRemove:C}=x,O=ft(()=>{var z;(v==null?void 0:v.contains(document.activeElement))&&((z=x.viewport)==null||z.focus()),i()}),R=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),E.current=new Date().getTime(),N.current=window.setTimeout(O,I))},[O]);m.useEffect(()=>{const I=x.viewport;if(I){const z=()=>{R(_.current),d==null||d()},B=()=>{const D=new Date().getTime()-E.current;_.current=_.current-D,window.clearTimeout(N.current),c==null||c()};return I.addEventListener(Rm,B),I.addEventListener(Am,z),()=>{I.removeEventListener(Rm,B),I.removeEventListener(Am,z)}}},[x.viewport,k,c,d,R]),m.useEffect(()=>{o&&!x.isClosePausedRef.current&&R(k)},[o,k,x.isClosePausedRef,R]),m.useEffect(()=>(S(),()=>C()),[S,C]);const P=m.useMemo(()=>v?Yj(v):null,[v]);return x.viewport?r.jsxs(r.Fragment,{children:[P&&r.jsx($R,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),r.jsx(MR,{scope:n,onClose:O,children:so.createPortal(r.jsx(kg.ItemSlot,{scope:n,children:r.jsx(gR,{asChild:!0,onEscapeKeyDown:G(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:G(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:G(e.onPointerMove,I=>{if(!b.current)return;const z=I.clientX-b.current.x,B=I.clientY-b.current.y,D=!!j.current,T=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,F=T?A(0,z):0,U=T?0:A(0,B),V=I.pointerType==="touch"?10:2,q={x:F,y:U},te={originalEvent:I,delta:q};D?(j.current=q,Hc(AR,h,te,{discrete:!1})):vy(q,x.swipeDirection,V)?(j.current=q,Hc(RR,u,te,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(z)>V||Math.abs(B)>V)&&(b.current=null)}),onPointerUp:G(e.onPointerUp,I=>{const z=j.current,B=I.target;if(B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),j.current=null,b.current=null,z){const D=I.currentTarget,T={originalEvent:I,delta:z};vy(z,x.swipeDirection,x.swipeThreshold)?Hc(DR,p,T,{discrete:!0}):Hc(OR,f,T,{discrete:!0}),D.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),$R=e=>{const{__scopeToast:t,children:n,...s}=e,a=Bu(lc,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return BR(()=>i(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(ki,{asChild:!0,children:r.jsx(Uu,{...s,children:o&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},FR="ToastTitle",Vj=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ie.div,{...s,ref:t})});Vj.displayName=FR;var UR="ToastDescription",qj=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ie.div,{...s,ref:t})});qj.displayName=UR;var Hj="ToastAction",Qj=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(Kj,{altText:n,asChild:!0,children:r.jsx(Eg,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hj}\`. Expected non-empty \`string\`.`),null)});Qj.displayName=Hj;var Gj="ToastClose",Eg=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=IR(Gj,n);return r.jsx(Kj,{asChild:!0,children:r.jsx(ie.button,{type:"button",...s,ref:t,onClick:G(e.onClick,a.onClose)})})});Eg.displayName=Gj;var Kj=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return r.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Yj(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),zR(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=s.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Yj(s))}}),t}function Hc(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?Sg(a,o):a.dispatchEvent(o)}var vy=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),o=s>a;return t==="left"||t==="right"?o&&s>n:!o&&a>n};function BR(e=()=>{}){const t=ft(e);vt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function zR(e){return e.nodeType===e.ELEMENT_NODE}function WR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var VR=Fj,Jj=Bj,Xj=Wj,Zj=Vj,eN=qj,tN=Qj,nN=Eg;function rN(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=rN(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function sN(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=rN(e))&&(s&&(s+=" "),s+=t);return s}const yy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wy=sN,cc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return wy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],h=o==null?void 0:o[d];if(u===null)return null;const f=yy(u)||yy(h);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(w=>{let[x,v]=w;return Array.isArray(v)?v.includes({...o,...l}[x]):{...o,...l}[x]===v})?[...d,h,f]:d},[]);return wy(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),by=e=>{const t=HR(e);return t.charAt(0).toUpperCase()+t.slice(1)},aN=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),QR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...GR,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:aN("lucide",a),...!o&&!QR(l)&&{"aria-hidden":"true"},...l},[...i.map(([d,u])=>m.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=m.forwardRef(({className:s,...a},o)=>m.createElement(KR,{ref:o,iconNode:t,className:aN(`lucide-${qR(by(e))}`,`lucide-${e}`,s),...a}));return n.displayName=by(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],JR=le("align-center",YR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],ZR=le("align-left",XR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],tA=le("align-right",eA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rA=le("arrow-left",nA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aA=le("arrow-right",sA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],iA=le("award",oA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],cA=le("bold",lA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uA=le("book-open",dA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mr=le("calendar",hA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pg=le("check",fA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oN=le("chevron-down",mA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gA=le("chevron-left",pA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iN=le("chevron-right",xA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yA=le("chevron-up",vA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tg=le("circle-alert",wA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fi=le("circle-check-big",bA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lN=le("circle-check",jA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xd=le("circle-x",NA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rg=le("circle",_A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dm=le("clipboard-check",SA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Or=le("clock",CA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],EA=le("copy",kA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mm=le("database",PA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zu=le("download",TA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],AA=le("ellipsis",RA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cN=le("eye",OA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],MA=le("file-question-mark",DA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],za=le("file-text",IA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ei=le("funnel",LA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],FA=le("graduation-cap",$A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],dN=le("handshake",UA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],zA=le("history",BA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],VA=le("italic",WA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HA=le("layout-dashboard",qA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],GA=le("link",QA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],YA=le("list-checks",KA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],XA=le("list-ordered",JA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],e4=le("list",ZA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=le("loader-circle",t4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],r4=le("loader",n4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a4=le("log-out",s4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zl=le("mail",o4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l4=le("map-pin",i4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],d4=le("menu",c4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ns=le("message-square",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sa=le("pencil",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jy=le("phone",f4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],it=le("plus",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ag=le("refresh-cw",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dc=le("save",g4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ny=le("school",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qt=le("search",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],w4=le("send",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Im=le("settings",b4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yd=le("shield",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hs=le("square-pen",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S4=le("target",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ht=le("trash-2",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Og=le("trending-up",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rf=le("trophy",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],T4=le("underline",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],A4=le("undo-2",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pi=le("upload",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yl=le("user-check",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_y=le("user-plus",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dr=le("user",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ga=le("users",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pn=le("x",$4),Dg="-",F4=e=>{const t=B4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const l=i.split(Dg);return l[0]===""&&l.length!==1&&l.shift(),uN(l,t)||U4(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&s[i]?[...c,...s[i]]:c}}},uN=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?uN(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Dg);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Sy=/^\[(.+)\]$/,U4=e=>{if(Sy.test(e)){const t=Sy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},B4=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return W4(Object.entries(e.classGroups),n).forEach(([o,i])=>{Lm(i,s,o,t)}),s},Lm=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Cy(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(z4(a)){Lm(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,i])=>{Lm(i,Cy(t,o),n,s)})})},Cy=(e,t)=>{let n=e;return t.split(Dg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},z4=e=>e.isThemeGetter,W4=(e,t)=>t?e.map(([n,s])=>{const a=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,a]}):e,V4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return a(o,i),i},set(o,i){n.has(o)?n.set(o,i):a(o,i)}}},hN="!",q4=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===a&&(s||l.slice(v,v+o)===t)){c.push(l.slice(u,v)),u=v+o;continue}if(y==="/"){h=v;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith(hN),w=p?f.substring(1):f,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},H4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},Q4=e=>({cache:V4(e.cacheSize),parseClassName:q4(e),...F4(e)}),G4=/\s+/,K4=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(G4);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(d);let w=!!p,x=s(w?f.substring(0,p):f);if(!x){if(!w){l=d+(l.length>0?" "+l:l);continue}if(x=s(f),!x){l=d+(l.length>0?" "+l:l);continue}w=!1}const v=H4(u).join(":"),y=h?v+hN:v,g=y+x;if(o.includes(g))continue;o.push(g);const b=a(x,w);for(let j=0;j<b.length;++j){const k=b[j];o.push(y+k)}l=d+(l.length>0?" "+l:l)}return l};function Y4(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fN(t))&&(s&&(s+=" "),s+=n);return s}const fN=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=fN(e[s]))&&(n&&(n+=" "),n+=t);return n};function J4(e,...t){let n,s,a,o=i;function i(c){const d=t.reduce((u,h)=>h(u),e());return n=Q4(d),s=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=K4(c,n);return a(c,u),u}return function(){return o(Y4.apply(null,arguments))}}const tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},mN=/^\[(?:([a-z-]+):)?(.+)\]$/i,X4=/^\d+\/\d+$/,Z4=new Set(["px","full","screen"]),eO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=e=>Wo(e)||Z4.has(e)||X4.test(e),vs=e=>Ti(e,"length",hO),Wo=e=>!!e&&!Number.isNaN(Number(e)),sf=e=>Ti(e,"number",Wo),Gi=e=>!!e&&Number.isInteger(Number(e)),aO=e=>e.endsWith("%")&&Wo(e.slice(0,-1)),Ee=e=>mN.test(e),ys=e=>eO.test(e),oO=new Set(["length","size","percentage"]),iO=e=>Ti(e,oO,pN),lO=e=>Ti(e,"position",pN),cO=new Set(["image","url"]),dO=e=>Ti(e,cO,mO),uO=e=>Ti(e,"",fO),Ki=()=>!0,Ti=(e,t,n)=>{const s=mN.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},hO=e=>tO.test(e)&&!nO.test(e),pN=()=>!1,fO=e=>rO.test(e),mO=e=>sO.test(e),pO=()=>{const e=tt("colors"),t=tt("spacing"),n=tt("blur"),s=tt("brightness"),a=tt("borderColor"),o=tt("borderRadius"),i=tt("borderSpacing"),l=tt("borderWidth"),c=tt("contrast"),d=tt("grayscale"),u=tt("hueRotate"),h=tt("invert"),f=tt("gap"),p=tt("gradientColorStops"),w=tt("gradientColorStopPositions"),x=tt("inset"),v=tt("margin"),y=tt("opacity"),g=tt("padding"),b=tt("saturate"),j=tt("scale"),k=tt("sepia"),E=tt("skew"),_=tt("space"),N=tt("translate"),S=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ee,t],R=()=>[Ee,t],P=()=>["",Br,vs],I=()=>["auto",Wo,Ee],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ee],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Wo,Ee];return{cacheSize:500,separator:":",theme:{colors:[Ki],spacing:[Br,vs],blur:["none","",ys,Ee],brightness:U(),borderColor:[e],borderRadius:["none","","full",ys,Ee],borderSpacing:R(),borderWidth:P(),contrast:U(),grayscale:A(),hueRotate:U(),invert:A(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[aO,vs],inset:O(),margin:O(),opacity:U(),padding:R(),saturate:U(),scale:U(),sepia:A(),skew:U(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ee]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,Ee]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Gi,Ee]}],"grid-cols":[{"grid-cols":[Ki]}],"col-start-end":[{col:["auto",{span:["full",Gi,Ee]},Ee]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Ki]}],"row-start-end":[{row:["auto",{span:[Gi,Ee]},Ee]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sf]}],"font-family":[{font:[Ki]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Wo,sf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,vs]}],"underline-offset":[{"underline-offset":["auto",Br,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),lO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Br,Ee]}],"outline-w":[{outline:[Br,vs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Br,vs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,uO]}],"shadow-color":[{shadow:[Ki]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ys,Ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Gi,Ee]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Br,vs,sf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gO=J4(pO);function Z(...e){return gO(sN(e))}const xO=VR,gN=m.forwardRef(({className:e,...t},n)=>r.jsx(Jj,{ref:n,className:Z("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:flex-col md:max-w-[420px]",e),...t}));gN.displayName=Jj.displayName;const vO=cc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xN=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(Xj,{ref:s,className:Z(vO({variant:t}),e),...n}));xN.displayName=Xj.displayName;const yO=m.forwardRef(({className:e,...t},n)=>r.jsx(tN,{ref:n,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yO.displayName=tN.displayName;const vN=m.forwardRef(({className:e,...t},n)=>r.jsx(nN,{ref:n,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(pn,{className:"h-4 w-4"})}));vN.displayName=nN.displayName;const yN=m.forwardRef(({className:e,...t},n)=>r.jsx(Zj,{ref:n,className:Z("text-sm font-semibold",e),...t}));yN.displayName=Zj.displayName;const wN=m.forwardRef(({className:e,...t},n)=>r.jsx(eN,{ref:n,className:Z("text-sm opacity-90",e),...t}));wN.displayName=eN.displayName;function wO(){const{toasts:e}=De();return r.jsxs(xO,{children:[e.map(function({id:t,title:n,description:s,action:a,...o}){return r.jsxs(xN,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(yN,{children:n}),s&&r.jsx(wN,{children:s})]}),a,r.jsx(vN,{})]},t)}),r.jsx(gN,{})]})}var ky=["light","dark"],bO="(prefers-color-scheme: dark)",jO=m.createContext(void 0),NO={setTheme:e=>{},themes:[]},_O=()=>{var e;return(e=m.useContext(jO))!=null?e:NO};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let d=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?ky.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,x=!1,v=!0)=>{let y=i?i[w]:w,g=x?w+"|| ''":`'${y}'`,b="";return a&&v&&!x&&ky.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?x||y?b+=`c.add(${g})`:b+="null":y&&(b+=`d[s](n,${g})`),b},p=e?`!function(){${u}${f(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${bO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${d?"":"else{"+f(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var SO=e=>{switch(e){case"success":return EO;case"info":return TO;case"warning":return PO;case"error":return RO;default:return null}},CO=Array(12).fill(0),kO=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},CO.map((n,s)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),EO=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PO=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TO=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RO=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AO=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OO=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},$m=1,DO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$m++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:i,title:n}):l):this.addToast({title:n,...s,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,o,i=s.then(async c=>{if(o=["resolve",c],Y.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(IO(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>i.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||$m++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new DO,MO=(e,t)=>{let n=(t==null?void 0:t.id)||$m++;return un.addToast({title:e,...t,id:n}),n},IO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",LO=MO,$O=()=>un.toasts,FO=()=>un.getActiveToasts();Object.assign(LO,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:$O,getToasts:FO});function UO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}UO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qc(e){return e.label!==void 0}var BO=3,zO="32px",WO="16px",Ey=4e3,VO=356,qO=14,HO=20,QO=200;function Zn(...e){return e.filter(Boolean).join(" ")}function GO(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var KO=e=>{var t,n,s,a,o,i,l,c,d,u,h;let{invert:f,toast:p,unstyled:w,interacting:x,setHeights:v,visibleToasts:y,heights:g,index:b,toasts:j,expanded:k,removeToast:E,defaultRichColors:_,closeButton:N,style:S,cancelButtonStyle:C,actionButtonStyle:O,className:R="",descriptionClassName:P="",duration:I,position:z,gap:B,loadingIcon:D,expandByDefault:T,classNames:A,icons:F,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:V}=e,[q,te]=Y.useState(null),[fe,xe]=Y.useState(null),[Q,ne]=Y.useState(!1),[oe,de]=Y.useState(!1),[ee,ue]=Y.useState(!1),[X,L]=Y.useState(!1),[W,H]=Y.useState(!1),[pe,he]=Y.useState(0),[Ce,Me]=Y.useState(0),pt=Y.useRef(p.duration||I||Ey),It=Y.useRef(null),Lt=Y.useRef(null),yt=b===0,Dn=b+1<=y,Qe=p.type,gt=p.dismissible!==!1,Gn=p.className||"",Fi=p.descriptionClassName||"",ya=Y.useMemo(()=>g.findIndex(Ne=>Ne.toastId===p.id)||0,[g,p.id]),fs=Y.useMemo(()=>{var Ne;return(Ne=p.closeButton)!=null?Ne:N},[p.closeButton,N]),jn=Y.useMemo(()=>p.duration||I||Ey,[p.duration,I]),Fr=Y.useRef(0),Ur=Y.useRef(0),Gx=Y.useRef(0),uo=Y.useRef(null),[pE,gE]=z.split("-"),Kx=Y.useMemo(()=>g.reduce((Ne,Je,st)=>st>=ya?Ne:Ne+Je.height,0),[g,ya]),Yx=OO(),xE=p.invert||f,Sh=Qe==="loading";Ur.current=Y.useMemo(()=>ya*B+Kx,[ya,Kx]),Y.useEffect(()=>{pt.current=jn},[jn]),Y.useEffect(()=>{ne(!0)},[]),Y.useEffect(()=>{let Ne=Lt.current;if(Ne){let Je=Ne.getBoundingClientRect().height;return Me(Je),v(st=>[{toastId:p.id,height:Je,position:p.position},...st]),()=>v(st=>st.filter(Kn=>Kn.toastId!==p.id))}},[v,p.id]),Y.useLayoutEffect(()=>{if(!Q)return;let Ne=Lt.current,Je=Ne.style.height;Ne.style.height="auto";let st=Ne.getBoundingClientRect().height;Ne.style.height=Je,Me(st),v(Kn=>Kn.find(Yn=>Yn.toastId===p.id)?Kn.map(Yn=>Yn.toastId===p.id?{...Yn,height:st}:Yn):[{toastId:p.id,height:st,position:p.position},...Kn])},[Q,p.title,p.description,v,p.id]);let ms=Y.useCallback(()=>{de(!0),he(Ur.current),v(Ne=>Ne.filter(Je=>Je.toastId!==p.id)),setTimeout(()=>{E(p)},QO)},[p,E,v,Ur]);Y.useEffect(()=>{if(p.promise&&Qe==="loading"||p.duration===1/0||p.type==="loading")return;let Ne;return k||x||V&&Yx?(()=>{if(Gx.current<Fr.current){let Je=new Date().getTime()-Fr.current;pt.current=pt.current-Je}Gx.current=new Date().getTime()})():pt.current!==1/0&&(Fr.current=new Date().getTime(),Ne=setTimeout(()=>{var Je;(Je=p.onAutoClose)==null||Je.call(p,p),ms()},pt.current)),()=>clearTimeout(Ne)},[k,x,p,Qe,V,Yx,ms]),Y.useEffect(()=>{p.delete&&ms()},[ms,p.delete]);function vE(){var Ne,Je,st;return F!=null&&F.loading?Y.createElement("div",{className:Zn(A==null?void 0:A.loader,(Ne=p==null?void 0:p.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Qe==="loading"},F.loading):D?Y.createElement("div",{className:Zn(A==null?void 0:A.loader,(Je=p==null?void 0:p.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":Qe==="loading"},D):Y.createElement(kO,{className:Zn(A==null?void 0:A.loader,(st=p==null?void 0:p.classNames)==null?void 0:st.loader),visible:Qe==="loading"})}return Y.createElement("li",{tabIndex:0,ref:Lt,className:Zn(R,Gn,A==null?void 0:A.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[Qe],(n=p==null?void 0:p.classNames)==null?void 0:n[Qe]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:_,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":W,"data-removed":oe,"data-visible":Dn,"data-y-position":pE,"data-x-position":gE,"data-index":b,"data-front":yt,"data-swiping":ee,"data-dismissible":gt,"data-type":Qe,"data-invert":xE,"data-swipe-out":X,"data-swipe-direction":fe,"data-expanded":!!(k||T&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${oe?pe:Ur.current}px`,"--initial-height":T?"auto":`${Ce}px`,...S,...p.style},onDragEnd:()=>{ue(!1),te(null),uo.current=null},onPointerDown:Ne=>{Sh||!gt||(It.current=new Date,he(Ur.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(ue(!0),uo.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,Je,st,Kn;if(X||!gt)return;uo.current=null;let Yn=Number(((Ne=Lt.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ps=Number(((Je=Lt.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wa=new Date().getTime()-((st=It.current)==null?void 0:st.getTime()),Jn=q==="x"?Yn:ps,gs=Math.abs(Jn)/wa;if(Math.abs(Jn)>=HO||gs>.11){he(Ur.current),(Kn=p.onDismiss)==null||Kn.call(p,p),xe(q==="x"?Yn>0?"right":"left":ps>0?"down":"up"),ms(),L(!0),H(!1);return}ue(!1),te(null)},onPointerMove:Ne=>{var Je,st,Kn,Yn;if(!uo.current||!gt||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;let ps=Ne.clientY-uo.current.y,wa=Ne.clientX-uo.current.x,Jn=(st=e.swipeDirections)!=null?st:GO(z);!q&&(Math.abs(wa)>1||Math.abs(ps)>1)&&te(Math.abs(wa)>Math.abs(ps)?"x":"y");let gs={x:0,y:0};q==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&ps<0||Jn.includes("bottom")&&ps>0)&&(gs.y=ps):q==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&wa<0||Jn.includes("right")&&wa>0)&&(gs.x=wa),(Math.abs(gs.x)>0||Math.abs(gs.y)>0)&&H(!0),(Kn=Lt.current)==null||Kn.style.setProperty("--swipe-amount-x",`${gs.x}px`),(Yn=Lt.current)==null||Yn.style.setProperty("--swipe-amount-y",`${gs.y}px`)}},fs&&!p.jsx?Y.createElement("button",{"aria-label":U,"data-disabled":Sh,"data-close-button":!0,onClick:Sh||!gt?()=>{}:()=>{var Ne;ms(),(Ne=p.onDismiss)==null||Ne.call(p,p)},className:Zn(A==null?void 0:A.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(o=F==null?void 0:F.close)!=null?o:AO):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Y.createElement(Y.Fragment,null,Qe||p.icon||p.promise?Y.createElement("div",{"data-icon":"",className:Zn(A==null?void 0:A.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vE():null,p.type!=="loading"?p.icon||(F==null?void 0:F[Qe])||SO(Qe):null):null,Y.createElement("div",{"data-content":"",className:Zn(A==null?void 0:A.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Y.createElement("div",{"data-title":"",className:Zn(A==null?void 0:A.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Y.createElement("div",{"data-description":"",className:Zn(P,Fi,A==null?void 0:A.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Qc(p.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:Ne=>{var Je,st;Qc(p.cancel)&&gt&&((st=(Je=p.cancel).onClick)==null||st.call(Je,Ne),ms())},className:Zn(A==null?void 0:A.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Qc(p.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Ne=>{var Je,st;Qc(p.action)&&((st=(Je=p.action).onClick)==null||st.call(Je,Ne),!Ne.defaultPrevented&&ms())},className:Zn(A==null?void 0:A.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Py(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function YO(e,t){let n={};return[e,t].forEach((s,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?WO:zO;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${i}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${i}-${d}`]=l:n[`${i}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),n}var JO=m.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:w=BO,toastOptions:x,dir:v=Py(),gap:y=qO,loadingIcon:g,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:k}=e,[E,_]=Y.useState([]),N=Y.useMemo(()=>Array.from(new Set([s].concat(E.filter(V=>V.position).map(V=>V.position)))),[E,s]),[S,C]=Y.useState([]),[O,R]=Y.useState(!1),[P,I]=Y.useState(!1),[z,B]=Y.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=Y.useRef(null),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=Y.useRef(null),F=Y.useRef(!1),U=Y.useCallback(V=>{_(q=>{var te;return(te=q.find(fe=>fe.id===V.id))!=null&&te.delete||un.dismiss(V.id),q.filter(({id:fe})=>fe!==V.id)})},[]);return Y.useEffect(()=>un.subscribe(V=>{if(V.dismiss){_(q=>q.map(te=>te.id===V.id?{...te,delete:!0}:te));return}setTimeout(()=>{gj.flushSync(()=>{_(q=>{let te=q.findIndex(fe=>fe.id===V.id);return te!==-1?[...q.slice(0,te),{...q[te],...V},...q.slice(te+1)]:[V,...q]})})})}),[]),Y.useEffect(()=>{if(u!=="system"){B(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:q})=>{B(q?"dark":"light")})}catch{V.addListener(({matches:te})=>{try{B(te?"dark":"light")}catch(fe){console.error(fe)}})}},[u]),Y.useEffect(()=>{E.length<=1&&R(!1)},[E]),Y.useEffect(()=>{let V=q=>{var te,fe;a.every(xe=>q[xe]||q.code===xe)&&(R(!0),(te=D.current)==null||te.focus()),q.code==="Escape"&&(document.activeElement===D.current||(fe=D.current)!=null&&fe.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),Y.useEffect(()=>{if(D.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,F.current=!1)}},[D.current]),Y.createElement("section",{ref:t,"aria-label":`${j} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((V,q)=>{var te;let[fe,xe]=V.split("-");return E.length?Y.createElement("ol",{key:V,dir:v==="auto"?Py():v,tabIndex:-1,ref:D,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":fe,"data-lifted":O&&E.length>1&&!o,"data-x-position":xe,style:{"--front-toast-height":`${((te=S[0])==null?void 0:te.height)||0}px`,"--width":`${VO}px`,"--gap":`${y}px`,...p,...YO(c,d)},onBlur:Q=>{F.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(F.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||F.current||(F.current=!0,A.current=Q.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{P||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},E.filter(Q=>!Q.position&&q===0||Q.position===V).map((Q,ne)=>{var oe,de;return Y.createElement(KO,{key:Q.id,icons:b,index:ne,toast:Q,defaultRichColors:h,duration:(oe=x==null?void 0:x.duration)!=null?oe:f,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:w,closeButton:(de=x==null?void 0:x.closeButton)!=null?de:i,interacting:P,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:U,toasts:E.filter(ee=>ee.position==Q.position),heights:S.filter(ee=>ee.position==Q.position),setHeights:C,expandByDefault:o,gap:y,loadingIcon:g,expanded:O,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const XO=({...e})=>{const{theme:t="system"}=_O();return r.jsx(JO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var ZO=Rp[" useId ".trim().toString()]||(()=>{}),eD=0;function ur(e){const[t,n]=m.useState(ZO());return vt(()=>{n(s=>s??String(eD++))},[e]),t?`radix-${t}`:""}const tD=["top","right","bottom","left"],aa=Math.min,Sn=Math.max,Zd=Math.round,Gc=Math.floor,Ar=e=>({x:e,y:e}),nD={left:"right",right:"left",bottom:"top",top:"bottom"},rD={start:"end",end:"start"};function Fm(e,t,n){return Sn(e,aa(t,n))}function ls(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function Ri(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function Ig(e){return e==="y"?"height":"width"}const sD=new Set(["top","bottom"]);function Pr(e){return sD.has(cs(e))?"y":"x"}function Lg(e){return Mg(Pr(e))}function aD(e,t,n){n===void 0&&(n=!1);const s=Ri(e),a=Lg(e),o=Ig(a);let i=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=eu(i)),[i,eu(i)]}function oD(e){const t=eu(e);return[Um(e),t,Um(t)]}function Um(e){return e.replace(/start|end/g,t=>rD[t])}const Ty=["left","right"],Ry=["right","left"],iD=["top","bottom"],lD=["bottom","top"];function cD(e,t,n){switch(e){case"top":case"bottom":return n?t?Ry:Ty:t?Ty:Ry;case"left":case"right":return t?iD:lD;default:return[]}}function dD(e,t,n,s){const a=Ri(e);let o=cD(cs(e),n==="start",s);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Um)))),o}function eu(e){return e.replace(/left|right|bottom|top/g,t=>nD[t])}function uD(e){return{top:0,right:0,bottom:0,left:0,...e}}function bN(e){return typeof e!="number"?uD(e):{top:e,right:e,bottom:e,left:e}}function tu(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Ay(e,t,n){let{reference:s,floating:a}=e;const o=Pr(t),i=Lg(t),l=Ig(i),c=cs(t),d=o==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-a.width,y:h};break;default:p={x:s.x,y:s.y}}switch(Ri(t)){case"start":p[i]-=f*(n&&d?-1:1);break;case"end":p[i]+=f*(n&&d?-1:1);break}return p}const hD=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Ay(d,s,c),f=s,p={},w=0;for(let x=0;x<l.length;x++){const{name:v,fn:y}=l[x],{x:g,y:b,data:j,reset:k}=await y({x:u,y:h,initialPlacement:s,placement:f,strategy:a,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});u=g??u,h=b??h,p={...p,[v]:{...p[v],...j}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:u,y:h}=Ay(d,f,c)),x=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:p}};async function Wl(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=ls(t,e),w=bN(p),v=l[f?h==="floating"?"reference":"floating":h],y=tu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=h==="floating"?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},k=tu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(y.top-k.top+w.top)/j.y,bottom:(k.bottom-y.bottom+w.bottom)/j.y,left:(y.left-k.left+w.left)/j.x,right:(k.right-y.right+w.right)/j.x}}const fD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ls(e,t)||{};if(d==null)return{};const h=bN(u),f={x:n,y:s},p=Lg(a),w=Ig(p),x=await i.getDimensions(d),v=p==="y",y=v?"top":"left",g=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=o.reference[w]+o.reference[p]-f[p]-o.floating[w],k=f[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let _=E?E[b]:0;(!_||!await(i.isElement==null?void 0:i.isElement(E)))&&(_=l.floating[b]||o.floating[w]);const N=j/2-k/2,S=_/2-x[w]/2-1,C=aa(h[y],S),O=aa(h[g],S),R=C,P=_-x[w]-O,I=_/2-x[w]/2+N,z=Fm(R,I,P),B=!c.arrow&&Ri(a)!=null&&I!==z&&o.reference[w]/2-(I<R?C:O)-x[w]/2<0,D=B?I<R?I-R:I-P:0;return{[p]:f[p]+D,data:{[p]:z,centerOffset:I-z-D,...B&&{alignmentOffset:D}},reset:B}}}),mD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...v}=ls(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=cs(a),g=Pr(l),b=cs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(b||!x?[eu(l)]:oD(l)),E=w!=="none";!f&&E&&k.push(...dD(l,x,w,j));const _=[l,...k],N=await Wl(t,v),S=[];let C=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&S.push(N[y]),h){const I=aD(a,i,j);S.push(N[I[0]],N[I[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(I=>I<=0)){var O,R;const I=(((O=o.flip)==null?void 0:O.index)||0)+1,z=_[I];if(z&&(!(h==="alignment"?g!==Pr(z):!1)||C.every(T=>T.overflows[0]>0&&Pr(T.placement)===g)))return{data:{index:I,overflows:C},reset:{placement:z}};let B=(R=C.filter(D=>D.overflows[0]<=0).sort((D,T)=>D.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(p){case"bestFit":{var P;const D=(P=C.filter(T=>{if(E){const A=Pr(T.placement);return A===g||A==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((T,A)=>T[1]-A[1])[0])==null?void 0:P[0];D&&(B=D);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Oy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Dy(e){return tD.some(t=>e[t]>=0)}const pD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=ls(e,t);switch(s){case"referenceHidden":{const o=await Wl(t,{...a,elementContext:"reference"}),i=Oy(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Dy(i)}}}case"escaped":{const o=await Wl(t,{...a,altBoundary:!0}),i=Oy(o,n.floating);return{data:{escapedOffsets:i,escaped:Dy(i)}}}default:return{}}}}},jN=new Set(["left","top"]);async function gD(e,t){const{placement:n,platform:s,elements:a}=e,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),i=cs(n),l=Ri(n),c=Pr(n)==="y",d=jN.has(i)?-1:1,u=o&&c?-1:1,h=ls(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const xD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await gD(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},vD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:y,y:g}=v;return{x:y,y:g}}},...c}=ls(e,t),d={x:n,y:s},u=await Wl(t,c),h=Pr(cs(a)),f=Mg(h);let p=d[f],w=d[h];if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=p+u[v],b=p-u[y];p=Fm(g,p,b)}if(i){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=w+u[v],b=w-u[y];w=Fm(g,w,b)}const x=l.fn({...t,[f]:p,[h]:w});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[f]:o,[h]:i}}}}}},yD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ls(e,t),u={x:n,y:s},h=Pr(a),f=Mg(h);let p=u[f],w=u[h];const x=ls(l,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=f==="y"?"height":"width",j=o.reference[f]-o.floating[b]+v.mainAxis,k=o.reference[f]+o.reference[b]-v.mainAxis;p<j?p=j:p>k&&(p=k)}if(d){var y,g;const b=f==="y"?"width":"height",j=jN.has(cs(a)),k=o.reference[h]-o.floating[b]+(j&&((y=i.offset)==null?void 0:y[h])||0)+(j?0:v.crossAxis),E=o.reference[h]+o.reference[b]+(j?0:((g=i.offset)==null?void 0:g[h])||0)-(j?v.crossAxis:0);w<k?w=k:w>E&&(w=E)}return{[f]:p,[h]:w}}}},wD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=ls(e,t),u=await Wl(t,d),h=cs(a),f=Ri(a),p=Pr(a)==="y",{width:w,height:x}=o.floating;let v,y;h==="top"||h==="bottom"?(v=h,y=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,v=f==="end"?"top":"bottom");const g=x-u.top-u.bottom,b=w-u.left-u.right,j=aa(x-u[v],g),k=aa(w-u[y],b),E=!t.middlewareData.shift;let _=j,N=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=g),E&&!f){const C=Sn(u.left,0),O=Sn(u.right,0),R=Sn(u.top,0),P=Sn(u.bottom,0);p?N=w-2*(C!==0||O!==0?C+O:Sn(u.left,u.right)):_=x-2*(R!==0||P!==0?R+P:Sn(u.top,u.bottom))}await c({...t,availableWidth:N,availableHeight:_});const S=await i.getDimensions(l.floating);return w!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}};function Wu(){return typeof window<"u"}function Ai(e){return NN(e)?(e.nodeName||"").toLowerCase():"#document"}function En(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lr(e){var t;return(t=(NN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function NN(e){return Wu()?e instanceof Node||e instanceof En(e).Node:!1}function pr(e){return Wu()?e instanceof Element||e instanceof En(e).Element:!1}function Dr(e){return Wu()?e instanceof HTMLElement||e instanceof En(e).HTMLElement:!1}function My(e){return!Wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof En(e).ShadowRoot}const bD=new Set(["inline","contents"]);function uc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!bD.has(a)}const jD=new Set(["table","td","th"]);function ND(e){return jD.has(Ai(e))}const _D=[":popover-open",":modal"];function Vu(e){return _D.some(t=>{try{return e.matches(t)}catch{return!1}})}const SD=["transform","translate","scale","rotate","perspective"],CD=["transform","translate","scale","rotate","perspective","filter"],kD=["paint","layout","strict","content"];function $g(e){const t=Fg(),n=pr(e)?gr(e):e;return SD.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||CD.some(s=>(n.willChange||"").includes(s))||kD.some(s=>(n.contain||"").includes(s))}function ED(e){let t=oa(e);for(;Dr(t)&&!mi(t);){if($g(t))return t;if(Vu(t))return null;t=oa(t)}return null}function Fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PD=new Set(["html","body","#document"]);function mi(e){return PD.has(Ai(e))}function gr(e){return En(e).getComputedStyle(e)}function qu(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oa(e){if(Ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||My(e)&&e.host||Lr(e);return My(t)?t.host:t}function _N(e){const t=oa(e);return mi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dr(t)&&uc(t)?t:_N(t)}function Vl(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=_N(e),o=a===((s=e.ownerDocument)==null?void 0:s.body),i=En(a);if(o){const l=Bm(i);return t.concat(i,i.visualViewport||[],uc(a)?a:[],l&&n?Vl(l):[])}return t.concat(a,Vl(a,[],n))}function Bm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SN(e){const t=gr(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Dr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:s,l=Zd(n)!==o||Zd(s)!==i;return l&&(n=o,s=i),{width:n,height:s,$:l}}function Ug(e){return pr(e)?e:e.contextElement}function Vo(e){const t=Ug(e);if(!Dr(t))return Ar(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:o}=SN(t);let i=(o?Zd(n.width):n.width)/s,l=(o?Zd(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const TD=Ar(0);function CN(e){const t=En(e);return!Fg()||!t.visualViewport?TD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==En(e)?!1:t}function Ka(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ug(e);let i=Ar(1);t&&(s?pr(s)&&(i=Vo(s)):i=Vo(e));const l=RD(o,n,s)?CN(o):Ar(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){const f=En(o),p=s&&pr(s)?En(s):s;let w=f,x=Bm(w);for(;x&&s&&p!==w;){const v=Vo(x),y=x.getBoundingClientRect(),g=gr(x),b=y.left+(x.clientLeft+parseFloat(g.paddingLeft))*v.x,j=y.top+(x.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=b,d+=j,w=En(x),x=Bm(w)}}return tu({width:u,height:h,x:c,y:d})}function Bg(e,t){const n=qu(e).scrollLeft;return t?t.left+n:Ka(Lr(e)).left+n}function kN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(n?0:Bg(e,s)),o=s.top+t.scrollTop;return{x:a,y:o}}function AD(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const o=a==="fixed",i=Lr(s),l=t?Vu(t.floating):!1;if(s===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=Ar(1);const u=Ar(0),h=Dr(s);if((h||!h&&!o)&&((Ai(s)!=="body"||uc(i))&&(c=qu(s)),Dr(s))){const p=Ka(s);d=Vo(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const f=i&&!h&&!o?kN(i,c,!0):Ar(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function OD(e){return Array.from(e.getClientRects())}function DD(e){const t=Lr(e),n=qu(e),s=e.ownerDocument.body,a=Sn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Sn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-n.scrollLeft+Bg(e);const l=-n.scrollTop;return gr(s).direction==="rtl"&&(i+=Sn(t.clientWidth,s.clientWidth)-a),{width:a,height:o,x:i,y:l}}function MD(e,t){const n=En(e),s=Lr(e),a=n.visualViewport;let o=s.clientWidth,i=s.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const d=Fg();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}const ID=new Set(["absolute","fixed"]);function LD(e,t){const n=Ka(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,o=Dr(e)?Vo(e):Ar(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=s*o.y;return{width:i,height:l,x:c,y:d}}function Iy(e,t,n){let s;if(t==="viewport")s=MD(e,n);else if(t==="document")s=DD(Lr(e));else if(pr(t))s=LD(t,n);else{const a=CN(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tu(s)}function EN(e,t){const n=oa(e);return n===t||!pr(n)||mi(n)?!1:gr(n).position==="fixed"||EN(n,t)}function $D(e,t){const n=t.get(e);if(n)return n;let s=Vl(e,[],!1).filter(l=>pr(l)&&Ai(l)!=="body"),a=null;const o=gr(e).position==="fixed";let i=o?oa(e):e;for(;pr(i)&&!mi(i);){const l=gr(i),c=$g(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&ID.has(a.position)||uc(i)&&!c&&EN(e,i))?s=s.filter(u=>u!==i):a=l,i=oa(i)}return t.set(e,s),s}function FD(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const i=[...n==="clippingAncestors"?Vu(t)?[]:$D(t,this._c):[].concat(n),s],l=i[0],c=i.reduce((d,u)=>{const h=Iy(t,u,a);return d.top=Sn(h.top,d.top),d.right=aa(h.right,d.right),d.bottom=aa(h.bottom,d.bottom),d.left=Sn(h.left,d.left),d},Iy(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UD(e){const{width:t,height:n}=SN(e);return{width:t,height:n}}function BD(e,t,n){const s=Dr(t),a=Lr(t),o=n==="fixed",i=Ka(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Ar(0);function d(){c.x=Bg(a)}if(s||!s&&!o)if((Ai(t)!=="body"||uc(a))&&(l=qu(t)),s){const p=Ka(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();o&&!s&&a&&d();const u=a&&!s&&!o?kN(a,l):Ar(0),h=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:i.width,height:i.height}}function af(e){return gr(e).position==="static"}function Ly(e,t){if(!Dr(e)||gr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Lr(e)===n&&(n=n.ownerDocument.body),n}function PN(e,t){const n=En(e);if(Vu(e))return n;if(!Dr(e)){let a=oa(e);for(;a&&!mi(a);){if(pr(a)&&!af(a))return a;a=oa(a)}return n}let s=Ly(e,t);for(;s&&ND(s)&&af(s);)s=Ly(s,t);return s&&mi(s)&&af(s)&&!$g(s)?n:s||ED(e)||n}const zD=async function(e){const t=this.getOffsetParent||PN,n=this.getDimensions,s=await n(e.floating);return{reference:BD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function WD(e){return gr(e).direction==="rtl"}const VD={convertOffsetParentRelativeRectToViewportRelativeRect:AD,getDocumentElement:Lr,getClippingRect:FD,getOffsetParent:PN,getElementRects:zD,getClientRects:OD,getDimensions:UD,getScale:Vo,isElement:pr,isRTL:WD};function TN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qD(e,t){let n=null,s;const a=Lr(e);function o(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=d;if(l||t(),!f||!p)return;const w=Gc(h),x=Gc(a.clientWidth-(u+f)),v=Gc(a.clientHeight-(h+p)),y=Gc(u),b={rootMargin:-w+"px "+-x+"px "+-v+"px "+-y+"px",threshold:Sn(0,aa(1,c))||1};let j=!0;function k(E){const _=E[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):s=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!TN(d,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(k,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(e)}return i(!0),o}function HD(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Ug(e),u=a||o?[...d?Vl(d):[],...Vl(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const h=d&&l?qD(d,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let w,x=c?Ka(e):null;c&&v();function v(){const y=Ka(e);x&&!TN(x,y)&&n(),x=y,w=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(g=>{a&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const QD=xD,GD=vD,KD=mD,YD=wD,JD=pD,$y=fD,XD=yD,ZD=(e,t,n)=>{const s=new Map,a={platform:VD,...n},o={...a.platform,_c:s};return hD(e,t,{...a,platform:o})};var eM=typeof document<"u",tM=function(){},wd=eM?m.useLayoutEffect:tM;function nu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!nu(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const o=a[s];if(!(o==="_owner"&&e.$$typeof)&&!nu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function RN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fy(e,t){const n=RN(e);return Math.round(t*n)/n}function of(e){const t=m.useRef(e);return wd(()=>{t.current=e}),t}function nM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(s);nu(f,s)||p(s);const[w,x]=m.useState(null),[v,y]=m.useState(null),g=m.useCallback(T=>{T!==E.current&&(E.current=T,x(T))},[]),b=m.useCallback(T=>{T!==_.current&&(_.current=T,y(T))},[]),j=o||w,k=i||v,E=m.useRef(null),_=m.useRef(null),N=m.useRef(u),S=c!=null,C=of(c),O=of(a),R=of(d),P=m.useCallback(()=>{if(!E.current||!_.current)return;const T={placement:t,strategy:n,middleware:f};O.current&&(T.platform=O.current),ZD(E.current,_.current,T).then(A=>{const F={...A,isPositioned:R.current!==!1};I.current&&!nu(N.current,F)&&(N.current=F,so.flushSync(()=>{h(F)}))})},[f,t,n,O,R]);wd(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[d]);const I=m.useRef(!1);wd(()=>(I.current=!0,()=>{I.current=!1}),[]),wd(()=>{if(j&&(E.current=j),k&&(_.current=k),j&&k){if(C.current)return C.current(j,k,P);P()}},[j,k,P,C,S]);const z=m.useMemo(()=>({reference:E,floating:_,setReference:g,setFloating:b}),[g,b]),B=m.useMemo(()=>({reference:j,floating:k}),[j,k]),D=m.useMemo(()=>{const T={position:n,left:0,top:0};if(!B.floating)return T;const A=Fy(B.floating,u.x),F=Fy(B.floating,u.y);return l?{...T,transform:"translate("+A+"px, "+F+"px)",...RN(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:F}},[n,l,B.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:P,refs:z,elements:B,floatingStyles:D}),[u,P,z,B,D])}const rM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?$y({element:s.current,padding:a}).fn(n):{}:s?$y({element:s,padding:a}).fn(n):{}}}},sM=(e,t)=>({...QD(e),options:[e,t]}),aM=(e,t)=>({...GD(e),options:[e,t]}),oM=(e,t)=>({...XD(e),options:[e,t]}),iM=(e,t)=>({...KD(e),options:[e,t]}),lM=(e,t)=>({...YD(e),options:[e,t]}),cM=(e,t)=>({...JD(e),options:[e,t]}),dM=(e,t)=>({...rM(e),options:[e,t]});var uM="Arrow",AN=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...o}=e;return r.jsx(ie.svg,{...o,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});AN.displayName=uM;var hM=AN;function Hu(e){const[t,n]=m.useState(void 0);return vt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var zg="Popper",[ON,fa]=At(zg),[fM,DN]=ON(zg),MN=e=>{const{__scopePopper:t,children:n}=e,[s,a]=m.useState(null);return r.jsx(fM,{scope:t,anchor:s,onAnchorChange:a,children:n})};MN.displayName=zg;var IN="PopperAnchor",LN=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,o=DN(IN,n),i=m.useRef(null),l=be(t,i);return m.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:r.jsx(ie.div,{...a,ref:l})});LN.displayName=IN;var Wg="PopperContent",[mM,pM]=ON(Wg),$N=m.forwardRef((e,t)=>{var Q,ne,oe,de,ee,ue;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,v=DN(Wg,n),[y,g]=m.useState(null),b=be(t,X=>g(X)),[j,k]=m.useState(null),E=Hu(j),_=(E==null?void 0:E.width)??0,N=(E==null?void 0:E.height)??0,S=s+(o!=="center"?"-"+o:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],R=O.length>0,P={padding:C,boundary:O.filter(xM),altBoundary:R},{refs:I,floatingStyles:z,placement:B,isPositioned:D,middlewareData:T}=nM({strategy:"fixed",placement:S,whileElementsMounted:(...X)=>HD(...X,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[sM({mainAxis:a+N,alignmentAxis:i}),c&&aM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?oM():void 0,...P}),c&&iM({...P}),lM({...P,apply:({elements:X,rects:L,availableWidth:W,availableHeight:H})=>{const{width:pe,height:he}=L.reference,Ce=X.floating.style;Ce.setProperty("--radix-popper-available-width",`${W}px`),Ce.setProperty("--radix-popper-available-height",`${H}px`),Ce.setProperty("--radix-popper-anchor-width",`${pe}px`),Ce.setProperty("--radix-popper-anchor-height",`${he}px`)}}),j&&dM({element:j,padding:l}),vM({arrowWidth:_,arrowHeight:N}),f&&cM({strategy:"referenceHidden",...P})]}),[A,F]=BN(B),U=ft(w);vt(()=>{D&&(U==null||U())},[D,U]);const V=(Q=T.arrow)==null?void 0:Q.x,q=(ne=T.arrow)==null?void 0:ne.y,te=((oe=T.arrow)==null?void 0:oe.centerOffset)!==0,[fe,xe]=m.useState();return vt(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:D?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(de=T.transformOrigin)==null?void 0:de.x,(ee=T.transformOrigin)==null?void 0:ee.y].join(" "),...((ue=T.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(mM,{scope:n,placedSide:A,onArrowChange:k,arrowX:V,arrowY:q,shouldHideArrow:te,children:r.jsx(ie.div,{"data-side":A,"data-align":F,...x,ref:b,style:{...x.style,animation:D?void 0:"none"}})})})});$N.displayName=Wg;var FN="PopperArrow",gM={top:"bottom",right:"left",bottom:"top",left:"right"},UN=m.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,o=pM(FN,s),i=gM[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(hM,{...a,ref:n,style:{...a.style,display:"block"}})})});UN.displayName=FN;function xM(e){return e!==null}var vM=e=>({name:"transformOrigin",options:e,fn(t){var v,y,g;const{placement:n,rects:s,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=BN(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let w="",x="";return d==="bottom"?(w=i?h:`${f}px`,x=`${-c}px`):d==="top"?(w=i?h:`${f}px`,x=`${s.floating.height+c}px`):d==="right"?(w=`${-c}px`,x=i?h:`${p}px`):d==="left"&&(w=`${s.floating.width+c}px`,x=i?h:`${p}px`),{data:{x:w,y:x}}}});function BN(e){const[t,n="center"]=e.split("-");return[t,n]}var Vg=MN,hc=LN,Qu=$N,Gu=UN,[Ku,L9]=At("Tooltip",[fa]),qg=fa(),zN="TooltipProvider",yM=700,Uy="tooltip.open",[wM,WN]=Ku(zN),VN=e=>{const{__scopeTooltip:t,delayDuration:n=yM,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,i=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(wM,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:o})};VN.displayName=zN;var qN="Tooltip",[$9,Yu]=Ku(qN),zm="TooltipTrigger",bM=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Yu(zm,n),o=WN(zm,n),i=qg(n),l=m.useRef(null),c=be(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(hc,{asChild:!0,...i,children:r.jsx(ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:G(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:G(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:G(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:G(e.onBlur,a.onClose),onClick:G(e.onClick,a.onClose)})})});bM.displayName=zm;var jM="TooltipPortal",[F9,NM]=Ku(jM,{forceMount:void 0}),pi="TooltipContent",HN=m.forwardRef((e,t)=>{const n=NM(pi,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...o}=e,i=Yu(pi,e.__scopeTooltip);return r.jsx(Ct,{present:s||i.open,children:i.disableHoverableContent?r.jsx(QN,{side:a,...o,ref:t}):r.jsx(_M,{side:a,...o,ref:t})})}),_M=m.forwardRef((e,t)=>{const n=Yu(pi,e.__scopeTooltip),s=WN(pi,e.__scopeTooltip),a=m.useRef(null),o=be(t,a),[i,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:h}=s,f=m.useCallback(()=>{l(null),h(!1)},[h]),p=m.useCallback((w,x)=>{const v=w.currentTarget,y={x:w.clientX,y:w.clientY},g=PM(y,v.getBoundingClientRect()),b=TM(y,g),j=RM(x.getBoundingClientRect()),k=OM([...b,...j]);l(k),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const w=v=>p(v,u),x=v=>p(v,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",x)}}},[c,u,p,f]),m.useEffect(()=>{if(i){const w=x=>{const v=x.target,y={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),b=!AM(y,i);g?f():b&&(f(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,i,d,f]),r.jsx(QN,{...e,ref:o})}),[SM,CM]=Ku(qN,{isInside:!1}),kM=sR("TooltipContent"),QN=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Yu(pi,n),d=qg(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(Uy,u),()=>document.removeEventListener(Uy,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),r.jsx(ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:r.jsxs(Qu,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(kM,{children:s}),r.jsx(SM,{scope:n,isInside:!0,children:r.jsx(CR,{id:c.contentId,role:"tooltip",children:a||s})})]})})});HN.displayName=pi;var GN="TooltipArrow",EM=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=qg(n);return CM(GN,n).isInside?null:r.jsx(Gu,{...a,...s,ref:t})});EM.displayName=GN;function PM(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,s,a,o)){case o:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function TM(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function RM(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function AM(e,t){const{x:n,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,h=c.x,f=c.y;u>s!=f>s&&n<(h-d)*(s-u)/(f-u)+d&&(a=!a)}return a}function OM(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),DM(t)}function DM(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var MM=VN,KN=HN;const IM=MM,LM=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(KN,{ref:s,sideOffset:t,className:Z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));LM.displayName=KN.displayName;var Oi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ya=typeof window>"u"||"Deno"in globalThis;function Zt(){}function $M(e,t){return typeof e=="function"?e(t):e}function Wm(e){return typeof e=="number"&&e>=0&&e!==1/0}function YN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zs(e,t){return typeof e=="function"?e(t):e}function In(e,t){return typeof e=="function"?e(t):e}function By(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(s){if(t.queryHash!==Hg(i,t.options))return!1}else if(!ql(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function zy(e,t){const{exact:n,status:s,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ja(t.options.mutationKey)!==Ja(o))return!1}else if(!ql(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Hg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ja)(e)}function Ja(e){return JSON.stringify(e,(t,n)=>Vm(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function ql(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ql(e[n],t[n])):!1}function JN(e,t){if(e===t)return e;const n=Wy(e)&&Wy(t);if(n||Vm(e)&&Vm(t)){const s=n?e:Object.keys(e),a=s.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(s);let d=0;for(let u=0;u<i;u++){const h=n?u:o[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=JN(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===i&&d===a?e:l}return t}function ru(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Wy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vm(e){if(!Vy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Vy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vy(e){return Object.prototype.toString.call(e)==="[object Object]"}function FM(e){return new Promise(t=>{setTimeout(t,e)})}function qm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?JN(e,t):t}function UM(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function BM(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Qg=Symbol();function XN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ZN(e,t){return typeof e=="function"?e(...t):!!e}var Ra,Rs,Qo,G0,zM=(G0=class extends Oi{constructor(){super();me(this,Ra);me(this,Rs);me(this,Qo);se(this,Qo,t=>{if(!Ya&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Rs)||this.setEventListener(M(this,Qo))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Rs))==null||t.call(this),se(this,Rs,void 0))}setEventListener(t){var n;se(this,Qo,t),(n=M(this,Rs))==null||n.call(this),se(this,Rs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){M(this,Ra)!==t&&(se(this,Ra,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof M(this,Ra)=="boolean"?M(this,Ra):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ra=new WeakMap,Rs=new WeakMap,Qo=new WeakMap,G0),Gg=new zM,Go,As,Ko,K0,WM=(K0=class extends Oi{constructor(){super();me(this,Go,!0);me(this,As);me(this,Ko);se(this,Ko,t=>{if(!Ya&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){M(this,As)||this.setEventListener(M(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,As))==null||t.call(this),se(this,As,void 0))}setEventListener(t){var n;se(this,Ko,t),(n=M(this,As))==null||n.call(this),se(this,As,t(this.setOnline.bind(this)))}setOnline(t){M(this,Go)!==t&&(se(this,Go,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return M(this,Go)}},Go=new WeakMap,As=new WeakMap,Ko=new WeakMap,K0),su=new WM;function Hm(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}function VM(e){return Math.min(1e3*2**e,3e4)}function e_(e){return(e??"online")==="online"?su.isOnline():!0}var t_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lf(e){return e instanceof t_}function n_(e){let t=!1,n=0,s=!1,a;const o=Hm(),i=x=>{var v;s||(f(new t_(x)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Gg.isFocused()&&(e.networkMode==="always"||su.isOnline())&&e.canRun(),u=()=>e_(e.networkMode)&&e.canRun(),h=x=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,x),a==null||a(),o.resolve(x))},f=x=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,x),a==null||a(),o.reject(x))},p=()=>new Promise(x=>{var v;a=y=>{(s||d())&&x(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),w=()=>{if(s)return;let x;const v=n===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var E;if(s)return;const g=e.retry??(Ya?0:3),b=e.retryDelay??VM,j=typeof b=="function"?b(n,y):b,k=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(t||!k){f(y);return}n++,(E=e.onFail)==null||E.call(e,n,y),FM(j).then(()=>d()?void 0:p()).then(()=>{t?f(y):w()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),o)}}var qM=e=>setTimeout(e,0);function HM(){let e=[],t=0,n=l=>{l()},s=l=>{l()},a=qM;const o=l=>{t?e.push(l):a(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Nt=HM(),Aa,Y0,r_=(Y0=class{constructor(){me(this,Aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wm(this.gcTime)&&se(this,Aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ya?1/0:5*60*1e3))}clearGcTimeout(){M(this,Aa)&&(clearTimeout(M(this,Aa)),se(this,Aa,void 0))}},Aa=new WeakMap,Y0),Yo,Oa,Mn,Da,Bt,Zl,Ma,rr,qr,J0,QM=(J0=class extends r_{constructor(t){super();me(this,rr);me(this,Yo);me(this,Oa);me(this,Mn);me(this,Da);me(this,Bt);me(this,Zl);me(this,Ma);se(this,Ma,!1),se(this,Zl,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,Da,t.client),se(this,Mn,M(this,Da).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Yo,GM(this.options)),this.state=t.state??M(this,Yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,Bt))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Zl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Mn).remove(this)}setData(t,n){const s=qm(this.state.data,t,this.options);return Te(this,rr,qr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Te(this,rr,qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=M(this,Bt))==null?void 0:s.promise;return(a=M(this,Bt))==null||a.cancel(t),n?n.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Yo))}isActive(){return this.observers.some(t=>In(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YN(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,Bt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,Bt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,Mn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(M(this,Bt)&&(M(this,Ma)?M(this,Bt).cancel({revert:!0}):M(this,Bt).cancelRetry()),this.scheduleGc()),M(this,Mn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,rr,qr).call(this,{type:"invalidate"})}fetch(t,n){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,Bt))return M(this,Bt).continueRetry(),M(this,Bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(se(this,Ma,!0),s.signal)})},o=()=>{const f=XN(this.options,n),w=(()=>{const x={client:M(this,Da),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return se(this,Ma,!1),this.options.persister?this.options.persister(f,w,this):f(w)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:M(this,Da),state:this.state,fetchFn:o};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),se(this,Oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Te(this,rr,qr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,w,x,v;lf(f)&&f.silent||Te(this,rr,qr).call(this,{type:"error",error:f}),lf(f)||((w=(p=M(this,Mn).config).onError)==null||w.call(p,f,this),(v=(x=M(this,Mn).config).onSettled)==null||v.call(x,this.state.data,f,this)),this.scheduleGc()};return se(this,Bt,n_({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var p,w,x,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(w=(p=M(this,Mn).config).onSuccess)==null||w.call(p,f,this),(v=(x=M(this,Mn).config).onSettled)==null||v.call(x,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{Te(this,rr,qr).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Te(this,rr,qr).call(this,{type:"pause"})},onContinue:()=>{Te(this,rr,qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),M(this,Bt).start()}},Yo=new WeakMap,Oa=new WeakMap,Mn=new WeakMap,Da=new WeakMap,Bt=new WeakMap,Zl=new WeakMap,Ma=new WeakMap,rr=new WeakSet,qr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...s_(s.data,this.options),fetchMeta:t.meta??null};case"success":return se(this,Oa,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return lf(a)&&a.revert&&M(this,Oa)?{...M(this,Oa),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,Mn).notify({query:this,type:"updated",action:t})})},J0);function s_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _r,X0,KM=(X0=class extends Oi{constructor(t={}){super();me(this,_r);this.config=t,se(this,_r,new Map)}build(t,n,s){const a=n.queryKey,o=n.queryHash??Hg(a,n);let i=this.get(o);return i||(i=new QM({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){M(this,_r).has(t.queryHash)||(M(this,_r).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=M(this,_r).get(t.queryHash);n&&(t.destroy(),n===t&&M(this,_r).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Nt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,_r).get(t)}getAll(){return[...M(this,_r).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>By(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>By(t,s)):n}notify(t){Nt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_r=new WeakMap,X0),Sr,Yt,Ia,Cr,js,Z0,YM=(Z0=class extends r_{constructor(t){super();me(this,Cr);me(this,Sr);me(this,Yt);me(this,Ia);this.mutationId=t.mutationId,se(this,Yt,t.mutationCache),se(this,Sr,[]),this.state=t.state||a_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Sr).includes(t)||(M(this,Sr).push(t),this.clearGcTimeout(),M(this,Yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Sr,M(this,Sr).filter(n=>n!==t)),this.scheduleGc(),M(this,Yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():M(this,Yt).remove(this))}continue(){var t;return((t=M(this,Ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,d,u,h,f,p,w,x,v,y,g,b,j,k,E,_,N;const n=()=>{Te(this,Cr,js).call(this,{type:"continue"})};se(this,Ia,n_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,C)=>{Te(this,Cr,js).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{Te(this,Cr,js).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Yt).canRun(this)}));const s=this.state.status==="pending",a=!M(this,Ia).canStart();try{if(s)n();else{Te(this,Cr,js).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(o=M(this,Yt).config).onMutate)==null?void 0:i.call(o,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&Te(this,Cr,js).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const S=await M(this,Ia).start();return await((u=(d=M(this,Yt).config).onSuccess)==null?void 0:u.call(d,S,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,S,t,this.state.context)),await((w=(p=M(this,Yt).config).onSettled)==null?void 0:w.call(p,S,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,S,null,t,this.state.context)),Te(this,Cr,js).call(this,{type:"success",data:S}),S}catch(S){try{throw await((g=(y=M(this,Yt).config).onError)==null?void 0:g.call(y,S,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,S,t,this.state.context)),await((E=(k=M(this,Yt).config).onSettled)==null?void 0:E.call(k,void 0,S,this.state.variables,this.state.context,this)),await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,S,t,this.state.context)),S}finally{Te(this,Cr,js).call(this,{type:"error",error:S})}}finally{M(this,Yt).runNext(this)}}},Sr=new WeakMap,Yt=new WeakMap,Ia=new WeakMap,Cr=new WeakSet,js=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nt.batch(()=>{M(this,Sr).forEach(s=>{s.onMutationUpdate(t)}),M(this,Yt).notify({mutation:this,type:"updated",action:t})})},Z0);function a_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yr,sr,ec,ew,JM=(ew=class extends Oi{constructor(t={}){super();me(this,Yr);me(this,sr);me(this,ec);this.config=t,se(this,Yr,new Set),se(this,sr,new Map),se(this,ec,0)}build(t,n,s){const a=new YM({mutationCache:this,mutationId:++kc(this,ec)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){M(this,Yr).add(t);const n=Kc(t);if(typeof n=="string"){const s=M(this,sr).get(n);s?s.push(t):M(this,sr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(M(this,Yr).delete(t)){const n=Kc(t);if(typeof n=="string"){const s=M(this,sr).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&M(this,sr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Kc(t);if(typeof n=="string"){const s=M(this,sr).get(n),a=s==null?void 0:s.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Kc(t);if(typeof n=="string"){const a=(s=M(this,sr).get(n))==null?void 0:s.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{M(this,Yr).forEach(t=>{this.notify({type:"removed",mutation:t})}),M(this,Yr).clear(),M(this,sr).clear()})}getAll(){return Array.from(M(this,Yr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>zy(n,s))}findAll(t={}){return this.getAll().filter(n=>zy(t,n))}notify(t){Nt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Zt))))}},Yr=new WeakMap,sr=new WeakMap,ec=new WeakMap,ew);function Kc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function qy(e){return{onFetch:(t,n)=>{var u,h,f,p,w;const s=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=XN(t.options,t.fetchOptions),g=async(b,j,k)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(O),O})(),N=await y(_),{maxPages:S}=t.options,C=k?BM:UM;return{pages:C(b.pages,N,S),pageParams:C(b.pageParams,j,S)}};if(a&&o.length){const b=a==="backward",j=b?XM:Hy,k={pages:o,pageParams:i},E=j(s,k);l=await g(k,E,b)}else{const b=e??o.length;do{const j=c===0?i[0]??s.initialPageParam:Hy(s,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Hy(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function XM(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ut,Os,Ds,Jo,Xo,Ms,Zo,ei,tw,ZM=(tw=class{constructor(e={}){me(this,ut);me(this,Os);me(this,Ds);me(this,Jo);me(this,Xo);me(this,Ms);me(this,Zo);me(this,ei);se(this,ut,e.queryCache||new KM),se(this,Os,e.mutationCache||new JM),se(this,Ds,e.defaultOptions||{}),se(this,Jo,new Map),se(this,Xo,new Map),se(this,Ms,0)}mount(){kc(this,Ms)._++,M(this,Ms)===1&&(se(this,Zo,Gg.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,ut).onFocus())})),se(this,ei,su.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,ut).onOnline())})))}unmount(){var e,t;kc(this,Ms)._--,M(this,Ms)===0&&((e=M(this,Zo))==null||e.call(this),se(this,Zo,void 0),(t=M(this,ei))==null||t.call(this),se(this,ei,void 0))}isFetching(e){return M(this,ut).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,Os).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,ut).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=M(this,ut).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return M(this,ut).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=M(this,ut).get(s.queryHash),o=a==null?void 0:a.state.data,i=$M(t,o);if(i!==void 0)return M(this,ut).build(this,s).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Nt.batch(()=>M(this,ut).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,ut).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=M(this,ut);Nt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=M(this,ut);return Nt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Nt.batch(()=>M(this,ut).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Zt).catch(Zt)}invalidateQueries(e,t={}){return Nt.batch(()=>(M(this,ut).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Nt.batch(()=>M(this,ut).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Zt)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Zt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=M(this,ut).build(this,t);return n.isStaleByTime(Zs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zt).catch(Zt)}fetchInfiniteQuery(e){return e.behavior=qy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zt).catch(Zt)}ensureInfiniteQueryData(e){return e.behavior=qy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return su.isOnline()?M(this,Os).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,ut)}getMutationCache(){return M(this,Os)}getDefaultOptions(){return M(this,Ds)}setDefaultOptions(e){se(this,Ds,e)}setQueryDefaults(e,t){M(this,Jo).set(Ja(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Jo).values()],n={};return t.forEach(s=>{ql(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){M(this,Xo).set(Ja(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Xo).values()],n={};return t.forEach(s=>{ql(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Ds).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Ds).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,ut).clear(),M(this,Os).clear()}},ut=new WeakMap,Os=new WeakMap,Ds=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Ms=new WeakMap,Zo=new WeakMap,ei=new WeakMap,tw),cn,ze,tc,Jt,La,ti,Is,Ls,nc,ni,ri,$a,Fa,$s,si,Ge,al,Qm,Gm,Km,Ym,Jm,Xm,Zm,o_,nw,eI=(nw=class extends Oi{constructor(t,n){super();me(this,Ge);me(this,cn);me(this,ze);me(this,tc);me(this,Jt);me(this,La);me(this,ti);me(this,Is);me(this,Ls);me(this,nc);me(this,ni);me(this,ri);me(this,$a);me(this,Fa);me(this,$s);me(this,si,new Set);this.options=n,se(this,cn,t),se(this,Ls,null),se(this,Is,Hm()),this.options.experimental_prefetchInRender||M(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,ze).addObserver(this),Qy(M(this,ze),this.options)?Te(this,Ge,al).call(this):this.updateResult(),Te(this,Ge,Ym).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ep(M(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ep(M(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,Ge,Jm).call(this),Te(this,Ge,Xm).call(this),M(this,ze).removeObserver(this)}setOptions(t){const n=this.options,s=M(this,ze);if(this.options=M(this,cn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof In(this.options.enabled,M(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,Ge,Zm).call(this),M(this,ze).setOptions(this.options),n._defaulted&&!ru(this.options,n)&&M(this,cn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,ze),observer:this});const a=this.hasListeners();a&&Gy(M(this,ze),s,this.options,n)&&Te(this,Ge,al).call(this),this.updateResult(),a&&(M(this,ze)!==s||In(this.options.enabled,M(this,ze))!==In(n.enabled,M(this,ze))||Zs(this.options.staleTime,M(this,ze))!==Zs(n.staleTime,M(this,ze)))&&Te(this,Ge,Qm).call(this);const o=Te(this,Ge,Gm).call(this);a&&(M(this,ze)!==s||In(this.options.enabled,M(this,ze))!==In(n.enabled,M(this,ze))||o!==M(this,$s))&&Te(this,Ge,Km).call(this,o)}getOptimisticResult(t){const n=M(this,cn).getQueryCache().build(M(this,cn),t),s=this.createResult(n,t);return nI(this,s)&&(se(this,Jt,s),se(this,ti,this.options),se(this,La,M(this,ze).state)),s}getCurrentResult(){return M(this,Jt)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(s,a))})}trackProp(t){M(this,si).add(t)}getCurrentQuery(){return M(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,cn).defaultQueryOptions(t),s=M(this,cn).getQueryCache().build(M(this,cn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Te(this,Ge,al).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Jt)))}createResult(t,n){var S;const s=M(this,ze),a=this.options,o=M(this,Jt),i=M(this,La),l=M(this,ti),d=t!==s?t.state:M(this,tc),{state:u}=t;let h={...u},f=!1,p;if(n._optimisticResults){const C=this.hasListeners(),O=!C&&Qy(t,n),R=C&&Gy(t,s,n,a);(O||R)&&(h={...h,...s_(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:v}=h;p=h.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let C;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(C=o.data,y=!0):C=typeof n.placeholderData=="function"?n.placeholderData((S=M(this,ri))==null?void 0:S.state.data,M(this,ri)):n.placeholderData,C!==void 0&&(v="success",p=qm(o==null?void 0:o.data,C,n),f=!0)}if(n.select&&p!==void 0&&!y)if(o&&p===(i==null?void 0:i.data)&&n.select===M(this,nc))p=M(this,ni);else try{se(this,nc,n.select),p=n.select(p),p=qm(o==null?void 0:o.data,p,n),se(this,ni,p),se(this,Ls,null)}catch(C){se(this,Ls,C)}M(this,Ls)&&(w=M(this,Ls),p=M(this,ni),x=Date.now(),v="error");const g=h.fetchStatus==="fetching",b=v==="pending",j=v==="error",k=b&&g,E=p!==void 0,N={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:j&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&E,isStale:Kg(t,n),refetch:this.refetch,promise:M(this,Is),isEnabled:In(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=P=>{N.status==="error"?P.reject(N.error):N.data!==void 0&&P.resolve(N.data)},O=()=>{const P=se(this,Is,N.promise=Hm());C(P)},R=M(this,Is);switch(R.status){case"pending":t.queryHash===s.queryHash&&C(R);break;case"fulfilled":(N.status==="error"||N.data!==R.value)&&O();break;case"rejected":(N.status!=="error"||N.error!==R.reason)&&O();break}}return N}updateResult(){const t=M(this,Jt),n=this.createResult(M(this,ze),this.options);if(se(this,La,M(this,ze).state),se(this,ti,this.options),M(this,La).data!==void 0&&se(this,ri,M(this,ze)),ru(n,t))return;se(this,Jt,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!M(this,si).size)return!0;const i=new Set(o??M(this,si));return this.options.throwOnError&&i.add("error"),Object.keys(M(this,Jt)).some(l=>{const c=l;return M(this,Jt)[c]!==t[c]&&i.has(c)})};Te(this,Ge,o_).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,Ge,Ym).call(this)}},cn=new WeakMap,ze=new WeakMap,tc=new WeakMap,Jt=new WeakMap,La=new WeakMap,ti=new WeakMap,Is=new WeakMap,Ls=new WeakMap,nc=new WeakMap,ni=new WeakMap,ri=new WeakMap,$a=new WeakMap,Fa=new WeakMap,$s=new WeakMap,si=new WeakMap,Ge=new WeakSet,al=function(t){Te(this,Ge,Zm).call(this);let n=M(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Zt)),n},Qm=function(){Te(this,Ge,Jm).call(this);const t=Zs(this.options.staleTime,M(this,ze));if(Ya||M(this,Jt).isStale||!Wm(t))return;const s=YN(M(this,Jt).dataUpdatedAt,t)+1;se(this,$a,setTimeout(()=>{M(this,Jt).isStale||this.updateResult()},s))},Gm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,ze)):this.options.refetchInterval)??!1},Km=function(t){Te(this,Ge,Xm).call(this),se(this,$s,t),!(Ya||In(this.options.enabled,M(this,ze))===!1||!Wm(M(this,$s))||M(this,$s)===0)&&se(this,Fa,setInterval(()=>{(this.options.refetchIntervalInBackground||Gg.isFocused())&&Te(this,Ge,al).call(this)},M(this,$s)))},Ym=function(){Te(this,Ge,Qm).call(this),Te(this,Ge,Km).call(this,Te(this,Ge,Gm).call(this))},Jm=function(){M(this,$a)&&(clearTimeout(M(this,$a)),se(this,$a,void 0))},Xm=function(){M(this,Fa)&&(clearInterval(M(this,Fa)),se(this,Fa,void 0))},Zm=function(){const t=M(this,cn).getQueryCache().build(M(this,cn),this.options);if(t===M(this,ze))return;const n=M(this,ze);se(this,ze,t),se(this,tc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},o_=function(t){Nt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,Jt))}),M(this,cn).getQueryCache().notify({query:M(this,ze),type:"observerResultsUpdated"})})},nw);function tI(e,t){return In(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qy(e,t){return tI(e,t)||e.state.data!==void 0&&ep(e,t,t.refetchOnMount)}function ep(e,t,n){if(In(t.enabled,e)!==!1&&Zs(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Kg(e,t)}return!1}function Gy(e,t,n,s){return(e!==t||In(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Kg(e,n)}function Kg(e,t){return In(t.enabled,e)!==!1&&e.isStaleByTime(Zs(t.staleTime,e))}function nI(e,t){return!ru(e.getCurrentResult(),t)}var Fs,Us,dn,Jr,rs,bd,tp,rw,rI=(rw=class extends Oi{constructor(n,s){super();me(this,rs);me(this,Fs);me(this,Us);me(this,dn);me(this,Jr);se(this,Fs,n),this.setOptions(s),this.bindMethods(),Te(this,rs,bd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=M(this,Fs).defaultMutationOptions(n),ru(this.options,s)||M(this,Fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,dn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ja(s.mutationKey)!==Ja(this.options.mutationKey)?this.reset():((a=M(this,dn))==null?void 0:a.state.status)==="pending"&&M(this,dn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,dn))==null||n.removeObserver(this)}onMutationUpdate(n){Te(this,rs,bd).call(this),Te(this,rs,tp).call(this,n)}getCurrentResult(){return M(this,Us)}reset(){var n;(n=M(this,dn))==null||n.removeObserver(this),se(this,dn,void 0),Te(this,rs,bd).call(this),Te(this,rs,tp).call(this)}mutate(n,s){var a;return se(this,Jr,s),(a=M(this,dn))==null||a.removeObserver(this),se(this,dn,M(this,Fs).getMutationCache().build(M(this,Fs),this.options)),M(this,dn).addObserver(this),M(this,dn).execute(n)}},Fs=new WeakMap,Us=new WeakMap,dn=new WeakMap,Jr=new WeakMap,rs=new WeakSet,bd=function(){var s;const n=((s=M(this,dn))==null?void 0:s.state)??a_();se(this,Us,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tp=function(n){Nt.batch(()=>{var s,a,o,i,l,c,d,u;if(M(this,Jr)&&this.hasListeners()){const h=M(this,Us).variables,f=M(this,Us).context;(n==null?void 0:n.type)==="success"?((a=(s=M(this,Jr)).onSuccess)==null||a.call(s,n.data,h,f),(i=(o=M(this,Jr)).onSettled)==null||i.call(o,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=M(this,Jr)).onError)==null||c.call(l,n.error,h,f),(u=(d=M(this,Jr)).onSettled)==null||u.call(d,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(M(this,Us))})})},rw),i_=m.createContext(void 0),fc=e=>{const t=m.useContext(i_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(i_.Provider,{value:e,children:t})),l_=m.createContext(!1),aI=()=>m.useContext(l_);l_.Provider;function oI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iI=m.createContext(oI()),lI=()=>m.useContext(iI),cI=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dI=e=>{m.useEffect(()=>{e.clearReset()},[e])},uI=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||ZN(n,[e.error,s])),hI=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fI=(e,t)=>e.isLoading&&e.isFetching&&!t,mI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ky=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function pI(e,t,n){var h,f,p,w,x;const s=aI(),a=lI(),o=fc(),i=o.defaultQueryOptions(e);(f=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,i),i._optimisticResults=s?"isRestoring":"optimistic",hI(i),cI(i,a),dI(a);const l=!o.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(o,i)),d=c.getOptimisticResult(i),u=!s&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(v=>{const y=u?c.subscribe(Nt.batchCalls(v)):Zt;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i)},[i,c]),mI(i,d))throw Ky(i,c,a);if(uI({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((w=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,i,d),i.experimental_prefetchInRender&&!Ya&&fI(d,s)){const v=l?Ky(i,c,a):(x=o.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(Zt).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function oo(e,t){return pI(e,eI)}function qo(e,t){const n=fc(),[s]=m.useState(()=>new rI(n,e));m.useEffect(()=>{s.setOptions(e)},[s,e]);const a=m.useSyncExternalStore(m.useCallback(i=>s.subscribe(Nt.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=m.useCallback((i,l)=>{s.mutate(i,l).catch(Zt)},[s]);if(a.error&&ZN(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const We="https://dev-new-admissions.navgurukul.org/api/v1",gI=()=>localStorage.getItem("authToken"),qe=(e=!0)=>{const t=gI();return{...e?{"Content-Type":"application/json"}:{},...t?{Authorization:`Bearer ${t}`}:{}}},xI=async(e,t={})=>{const n=`${We}${e}`,s=qe(),a={...t,headers:{...s,...t.headers}};return fetch(n,a)},vI=async e=>{const t=await fetch(`${We}/users/login`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Login failed");return n},Yy=async(e=1,t=10)=>{const n=await fetch(`${We}/users?page=${e}&limit=${t}`,{method:"GET",headers:qe()}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch users");return s},yI=async e=>{const t=await fetch(`${We}/users/onboard`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to onboard user");return n},c_=async(e,t)=>{const n=await fetch(`${We}/users/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update user");return s},d_=async e=>{const t=await fetch(`${We}/users/${e}`,{method:"DELETE",headers:qe(),body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to delete user")}},wI=async e=>{const t=new FormData;t.append("file",e);const n=await fetch("https://dev-new-admissions.navgurukul.org/api/v1/students/bulkUploadStudents",{method:"POST",body:t});if(!n.ok){const s=await n.text();throw new Error(`Upload failed: ${n.status} ${s}`)}return n.json()},bI=async e=>{const t=await fetch(`${We}/roles/createRoles`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to create role");return n.data},u_=async()=>{var n;const e=await fetch(`${We}/roles/getRoles`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch roles");return((n=t.data)==null?void 0:n.data)||[]},jI=async(e,t)=>{const n=await fetch(`${We}/roles/updateRole/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update role");return s.data??s},NI=async e=>{const t=qe();t["Content-Type"]&&delete t["Content-Type"];const n=await fetch(`${We}/roles/deleteRole/${e}`,{method:"DELETE",headers:t});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete role")}},_I=async e=>{const t=await fetch(`${We}/casts/createCast`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to create cast");return n},Yg=async()=>{const e=await fetch(`${We}/casts/getCasts`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch casts");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.castes&&Array.isArray(t.castes)?t.castes:Array.isArray(t)?t:[]},h_=async(e,t)=>{const n=await fetch(`${We}/casts/updateCast/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update cast");return s},SI=async e=>{const t=qe();t["Content-Type"]&&delete t["Content-Type"];const n=await fetch(`${We}/casts/deleteCast/${e}`,{method:"DELETE",headers:qe(),body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete cast")}},CI=async e=>{const t=await fetch(`${We}/religions/createReligion`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to create religion");return n},Jg=async()=>{const e=await fetch(`${We}/religions/getReligions`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch religions");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.religions&&Array.isArray(t.religions)?t.religions:Array.isArray(t)?t:(console.error("Unexpected API response format:",t),console.error("Data structure:",JSON.stringify(t,null,2)),[])},kI=async(e,t)=>{const n=await fetch(`${We}/religions/updateReligion/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update religion");return s},EI=async e=>{const t=await fetch(`${We}/religions/deleteReligion/${e}`,{method:"DELETE",headers:qe()});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to delete religion")}},PI=async(e=1,t=10)=>{const n=await xI(`/students/getStudents?page=${e}&limit=${t}`,{method:"GET",headers:qe()}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch students");let a=[],o=0;if(s&&s.data)Array.isArray(s.data)?(a=s.data,o=s.totalCount||s.total||a.length):s.data.data&&Array.isArray(s.data.data)&&(a=s.data.data,o=s.data.totalCount||s.data.total||a.length);else if(Array.isArray(s))a=s,o=a.length;else return{data:[],totalCount:0};return{data:a,totalCount:o}},f_=async()=>{const e=await fetch(`${We}/qualifications/getQualifications`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch qualification");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.religions&&Array.isArray(t.religions)?t.religions:Array.isArray(t)?t:[]},TI=async()=>{const e=await fetch(`${We}/current-statuses/currentallstatuses`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch statuses");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.statuses&&Array.isArray(t.statuses)?t.statuses:Array.isArray(t)?t:(console.error("Data structure:",JSON.stringify(t,null,2)),[])},m_=async e=>{const t=await fetch(`${We}/students/createStudent`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to create student");return n},RI=async e=>{const t=await fetch(`${We}/questions/createQuestions`,{method:"POST",headers:qe(),body:JSON.stringify(e)}),n=await t.json();if(console.log("create data ",n),!t.ok)throw new Error(n.message||"Failed to create questions");return n.data},AI=async()=>{const e=await fetch(`${We}/questions/getQuestions`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch Questions");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?(console.log("Get Questions Response: gol",t.data.data),t.data.data):t&&t.data&&Array.isArray(t.data)?t.data:t&&t.statuses&&Array.isArray(t.statuses)?t.statuses:Array.isArray(t)?t:(console.error("Data structure:",JSON.stringify(t,null,2)),[])},OI=async e=>{const t=await fetch(`${We}/questions/deleteQuestions/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to delete question")}},DI=async(e,t)=>{const n=await fetch(`${We}/questions/updateQuestions/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify(t)}),s=await n.json();if(console.log("on api",s),!n.ok)throw new Error(s.message||"Failed to update question");return s.data},MI=async()=>{const e=await fetch(`${We}/stages/getStages`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch stages");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.stages&&Array.isArray(t.stages)?t.stages:Array.isArray(t)?t:[]},II=async()=>{const e=await fetch(`${We}/current-statuses/currentallstatuses`,{method:"GET",headers:qe()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to fetch statuses");return t&&t.data&&t.data.data&&Array.isArray(t.data.data)?t.data.data:t&&t.data&&Array.isArray(t.data)?t.data:t&&t.statuses&&Array.isArray(t.statuses)?t.statuses:Array.isArray(t)?t:[]},p_=async()=>{const t=await(await fetch(`${We}/campuses/getCampuses`)).json();let n=[];return Array.isArray(t)?n=t:t.data&&Array.isArray(t.data)?n=t.data:t.data&&typeof t.data=="object"&&t.data.data&&Array.isArray(t.data.data)?n=t.data.data:t.data&&typeof t.data=="object"&&t.data.campuses&&Array.isArray(t.data.campuses)?n=t.data.campuses:t.data&&typeof t.data=="object"&&t.data.result&&Array.isArray(t.data.result)?n=t.data.result:t.campuses&&Array.isArray(t.campuses)?n=t.campuses:t.result&&Array.isArray(t.result)?n=t.result:n=[],n.map(s=>({id:s.id||s.campus_id,campus_name:s.campus_name||s.name||s.campusName||s.campus||""}))},LI=async e=>{const t=await fetch(`${We}/campuses/createCampus`,{method:"POST",headers:qe(),body:JSON.stringify({campus_name:e})});if(!t.ok)throw await t.text(),new Error(`Failed to create campus: ${t.status} ${t.statusText}`);return t.json()},g_=async(e,t)=>{const n=await fetch(`${We}/campuses/updateCampus/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify({campus_name:t})});if(!n.ok)throw new Error("Failed to update campus");return n.json()},$I=async e=>{const t=await fetch(`${We}/campuses/deleteCampus/${e}`,{method:"DELETE",headers:qe(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to delete campus");return t.json()},FI=async e=>{try{const t=await fetch(`${We}/schools/createSchool`,{method:"POST",headers:qe(),body:JSON.stringify({school_name:e})});if(!t.ok){const n=await t.text();throw new Error(`Failed to create school: ${t.status} ${t.statusText} - ${n}`)}return await t.json()}catch(t){throw t}},x_=async()=>{const t=await(await fetch(`${We}/schools/getSchools`)).json();let n=[];return Array.isArray(t)?n=t:t.data&&Array.isArray(t.data)?n=t.data:t.data&&typeof t.data=="object"&&t.data.data&&Array.isArray(t.data.data)?n=t.data.data:t.data&&typeof t.data=="object"&&t.data.schools&&Array.isArray(t.data.schools)?n=t.data.schools:t.data&&typeof t.data=="object"&&t.data.result&&Array.isArray(t.data.result)?n=t.data.result:t.schools&&Array.isArray(t.schools)?n=t.schools:t.result&&Array.isArray(t.result)?n=t.result:n=[],n.map(s=>({id:s.id||s.school_id,school_name:s.school_name||s.name||s.schoolName||""}))},v_=async(e,t)=>{try{const n=await fetch(`${We}/schools/updateSchool/${e}`,{method:"PUT",headers:qe(),body:JSON.stringify({school_name:t})});if(!n.ok){const s=await n.text();throw new Error(`Failed to update school: ${n.status} ${n.statusText} - ${s}`)}return await n.json()}catch(n){throw n}},UI=async e=>{try{const t=await fetch(`${We}/schools/deleteSchool/${e}`,{method:"DELETE",headers:qe(),body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Failed to delete school: ${t.status} ${t.statusText} - ${n}`)}return await t.json()}catch(t){throw console.error("Error deleting school:",t),t}},BI="654022633429-fv4rgcs654a0f9r0464tl6o8jvjk3dco.apps.googleusercontent.com",On=()=>{const e=Rt(),[t,n]=m.useState({user:null,loading:!0,isAuthenticated:!1}),{toast:s}=De();m.useEffect(()=>{a();const u=()=>{if(document.querySelector('script[src="https://accounts.google.com/gsi/client"]')){window.google&&h();return}const f=document.createElement("script");f.src="https://accounts.google.com/gsi/client",f.async=!0,f.defer=!0,document.head.appendChild(f),f.onload=()=>{h()},f.onerror=()=>{console.error("Failed to load Google OAuth script"),n({user:null,loading:!1,isAuthenticated:!1})}},h=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:BI,callback:o,auto_select:!1,cancel_on_tap_outside:!0})}catch(f){console.error("Error initializing Google OAuth:",f),n({user:null,loading:!1,isAuthenticated:!1})}};u()},[]);const a=()=>{const u=localStorage.getItem("user"),h=localStorage.getItem("authToken");if(u&&h)try{const f=JSON.parse(u),p={id:f.id.toString(),email:f.email,name:f.name,avatar:f.profile_pic||"",provider:"google",role_id:f.user_role_id,role:f.role,role_name:f.role_name,profile_pic:f.profile_pic};n({user:p,isAuthenticated:!0,loading:!1})}catch(f){console.error("Error parsing stored user:",f),localStorage.removeItem("user"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),n({user:null,loading:!1,isAuthenticated:!1})}else n({user:null,loading:!1,isAuthenticated:!1})},o=async u=>{try{n(w=>({...w,loading:!0}));const h=JSON.parse(atob(u.credential.split(".")[1]));console.log("Google JWT payload:",h);const f={iss:h.iss,aud:h.aud,sub:h.sub,email:h.email,email_verified:h.email_verified||!0,name:h.name,iat:h.iat,exp:h.exp,picture:h.picture},p=await vI(f);if(console.log("NG login response:",p),p.success&&p.data){const{user:w,token:x}=p.data;localStorage.setItem("authToken",x),localStorage.setItem("user",JSON.stringify(w)),w.role_name&&localStorage.setItem("userRole",JSON.stringify(w.role_name));const v={id:w.id.toString(),email:w.email,name:w.name,avatar:w.profile_pic||h.picture||"",provider:"google",role_id:w.role_id||w.role_id,role_name:w.role_name,profile_pic:w.profile_pic};n({user:v,loading:!1,isAuthenticated:!0}),s({title:"Welcome!",description:`Successfully signed in as ${w.name}`}),e("/")}else throw new Error(p.message||"Login failed")}catch(h){console.error("Login error:",h),n({user:null,loading:!1,isAuthenticated:!1}),s({title:"Sign In Failed",description:h instanceof Error?h.message:"Failed to sign in. Please try again.",variant:"destructive"})}},i=()=>{if(window.google)try{window.google.accounts.id.disableAutoSelect()}catch(u){console.error("Error disabling Google auto select:",u)}localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("userRole"),localStorage.removeItem("googleUser"),localStorage.removeItem("roleAccess"),n({user:null,loading:!1,isAuthenticated:!1}),s({title:"Signed Out",description:"You have been successfully signed out."})},l=m.useCallback(u=>{if(window.google)try{const h=document.getElementById(u);h&&window.google.accounts.id.renderButton(h,{theme:"outline",size:"large",text:"continue_with",shape:"rectangular",width:250})}catch(h){console.error("Error rendering Google button:",h)}},[]),c=()=>{var u,h;return((h=(u=t.user)==null?void 0:u.role)==null?void 0:h.name)||null};return{...t,signOut:i,renderGoogleSignInButton:l,getUserRole:c,hasRole:u=>{const h=c();return h?h.toLowerCase()===u.toLowerCase():!1}}},y_=m.createContext(void 0);function zI({children:e}){const[t,n]=m.useState(null),[s,a]=m.useState(null),[o,i]=m.useState(!0),{toast:l}=De(),{user:c,isAuthenticated:d,loading:u,getUserRole:h,hasRole:f,signOut:p}=On();m.useEffect(()=>{u||(()=>{c&&d?(c.id,c.email,c.name,c.avatar,h(),c.role_id,c.role_name):(n(null),a(null)),i(!1)})()},[c,d,u,h]);const w=async()=>{try{await p(),n(null),a(null),l({title:"Signed out successfully",description:"You have been logged out from all systems."})}catch(j){console.error("Logout error:",j),l({title:"Logout Error",description:"There was an issue signing you out. Please try again.",variant:"destructive"})}},x=()=>t,v=h(),b={user:t,session:s,loading:o||u,signOut:w,getUserInfo:x,isAuthenticated:d,userRole:v,hasRole:j=>f(j)};return r.jsx(y_.Provider,{value:b,children:e})}function WI(){const e=m.useContext(y_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const VI=[{name:"Admin",href:"/admin",icon:yd},{name:"Dashboard",href:"/",icon:HA},{name:"Donor",href:"/donor",icon:dN},{name:"Partner",href:"/partners",icon:Ga},{name:"Campus",href:"/campus",icon:Ny},{name:"School",href:"/school",icon:Ny},{name:"Owner",href:"/owner",icon:yl},{name:"Interviews",href:"/interviews",icon:ns},{name:"Offer Letters",href:"/offer-letters",icon:zl},{name:"Question Repository",href:"/questions",icon:MA}];function mt(){const{user:e,signOut:t}=WI(),{user:n,signOut:s}=On(),[a,o]=m.useState(null),[i,l]=m.useState(!1);m.useEffect(()=>{const p=localStorage.getItem("userInfo");p&&o(JSON.parse(p))},[e,n]);const c=p=>p.split("@")[0].slice(0,2).toUpperCase(),d=()=>{var p,w;return(n==null?void 0:n.name)||(a==null?void 0:a.name)||((p=e==null?void 0:e.user_metadata)==null?void 0:p.display_name)||((w=e==null?void 0:e.user_metadata)==null?void 0:w.full_name)||"User"},u=()=>(n==null?void 0:n.email)||(e==null?void 0:e.email)||(a==null?void 0:a.email)||"No email",h=()=>{var p;return(n==null?void 0:n.avatar)||(a==null?void 0:a.avatar)||((p=e==null?void 0:e.user_metadata)==null?void 0:p.avatar_url)},f=async()=>{n?s():await t(),window.location.href="/Admission-Dashboard/auth"};return r.jsxs(r.Fragment,{children:[i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>l(!1)}),r.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:r.jsx("button",{onClick:()=>l(!i),className:"p-2 bg-white rounded-lg shadow-lg hover:bg-gray-50 transition-colors",children:r.jsx(d4,{className:"w-6 h-6 text-gray-700"})})}),r.jsxs("div",{className:Z("fixed top-0 left-0 h-full w-64 bg-gradient-sidebar z-50 flex flex-col border-r border-sidebar-medium transition-transform duration-300 ease-in-out","md:translate-x-0 md:rounded-none md:shadow-none",i?"translate-x-0":"-translate-x-full"),children:[r.jsx("div",{className:"md:hidden absolute top-4 right-4",children:r.jsx("button",{onClick:()=>l(!1),className:"p-1 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:r.jsx(pn,{className:"w-5 h-5 text-white"})})}),r.jsx("div",{className:"p-6 border-b border-sidebar-medium",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[h()?r.jsx("img",{src:h(),alt:"User avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-white/20"}):r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl font-semibold",children:u()?c(u()):"U"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-sidebar-text",children:d()}),r.jsx("p",{className:"text-sm text-sidebar-text-muted",children:"View profile"})]})]})}),r.jsx("nav",{className:"px-4 py-6 space-y-1 flex-1",children:VI.map(p=>r.jsxs(Aj,{to:p.href,onClick:()=>l(!1),className:({isActive:w})=>Z("flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 text-white",w?"bg-sidebar-light font-bold text-white border border-primary/20":"text-sidebar-text-muted hover:text-white hover:bg-sidebar-medium"),children:[r.jsx(p.icon,{className:"mr-3 h-5 w-5"}),p.name]},p.name))}),r.jsx("div",{className:"p-4 border-t border-sidebar-medium space-y-2",children:r.jsxs("button",{onClick:f,className:"w-full flex items-center px-3 py-2.5 text-sm font-medium text-sidebar-text-muted hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",children:[r.jsx(a4,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})]})}function qI(){const[e,t]=m.useState({totalApplicants:0,activeApplications:0,interviewsScheduled:0,successfullyOnboarded:0}),[n,s]=m.useState(!0),{user:a}=On(),o=async()=>{try{if(s(!0),!a){console.warn("No active session, skipping metrics fetch");return}const l=[],c=l.length,d=l.filter(f=>f.lr_status&&f.lr_status.trim()!==""||f.cfr_status&&f.cfr_status.trim()!=="").length,u=l.filter(f=>f.offer_letter_status&&f.offer_letter_status.trim()!=="").length,h=l.filter(f=>f.joining_status&&(f.joining_status.toLowerCase().includes("joined")||f.joining_status.toLowerCase().includes("onboarded"))).length;t({totalApplicants:c,activeApplications:d,interviewsScheduled:u,successfullyOnboarded:h})}catch(l){console.error("Error calculating metrics:",l)}finally{s(!1)}};m.useEffect(()=>{o()},[a]);const i=[{title:"Total Applicants",value:n?"...":e.totalApplicants.toLocaleString(),change:"+12%",changeType:"increase",icon:Ga,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Applications",value:n?"...":e.activeApplications.toLocaleString(),change:"+8%",changeType:"increase",icon:Or,color:"text-status-pending",bgColor:"bg-status-pending/10"},{title:"Interviews Scheduled",value:n?"...":e.interviewsScheduled.toLocaleString(),change:"+24%",changeType:"increase",icon:Og,color:"text-status-prospect",bgColor:"bg-status-prospect/10"},{title:"Successfully Onboarded",value:n?"...":e.successfullyOnboarded.toLocaleString(),change:"+16%",changeType:"increase",icon:fi,color:"text-status-active",bgColor:"bg-status-active/10"}];return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(l=>r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:l.title}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:l.value}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx("span",{className:`text-xs font-medium ${l.changeType==="increase"?"text-status-active":"text-status-fail"}`,children:l.change}),r.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"from last month"})]})]}),r.jsx("div",{className:`w-12 h-12 ${l.bgColor} rounded-lg flex items-center justify-center`,children:r.jsx(l.icon,{className:`w-6 h-6 ${l.color}`})})]})},l.title))})}const _e=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Z("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_e.displayName="Card";const Oe=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));Oe.displayName="CardHeader";const Be=m.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));Be.displayName="CardTitle";const bn=m.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));bn.displayName="CardDescription";const Se=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Z("p-6 pt-0",e),...t}));Se.displayName="CardContent";const HI=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Z("flex items-center p-6 pt-0",e),...t}));HI.displayName="CardFooter";const ae=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ae.displayName="Input";const ia=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Z("w-full caption-bottom text-sm min-w-max",e),...t})}));ia.displayName="Table";const la=m.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Z("[&_tr]:border-b",e),...t}));la.displayName="TableHeader";const ca=m.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Z("[&_tr:last-child]:border-0",e),...t}));ca.displayName="TableBody";const QI=m.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));QI.displayName="TableFooter";const St=m.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));St.displayName="TableRow";const je=m.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableHead";const ve=m.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ve.displayName="TableCell";const GI=m.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Z("mt-4 text-sm text-muted-foreground",e),...t}));GI.displayName="TableCaption";function Ju(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xu="Checkbox",[KI,B9]=At(Xu),[YI,Xg]=KI(Xu);function JI(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[f,p]=fr({prop:n,defaultProp:a??!1,onChange:c,caller:Xu}),[w,x]=m.useState(null),[v,y]=m.useState(null),g=m.useRef(!1),b=w?!!i||!!w.closest("form"):!0,j={checked:f,disabled:o,setChecked:p,control:w,setControl:x,name:l,form:i,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:ea(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:y};return r.jsx(YI,{scope:t,...j,children:XI(h)?h(j):s})}var w_="CheckboxTrigger",b_=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:o,value:i,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:w}=Xg(w_,e),x=be(a,u),v=m.useRef(c);return m.useEffect(()=>{const y=o==null?void 0:o.form;if(y){const g=()=>h(v.current);return y.addEventListener("reset",g),()=>y.removeEventListener("reset",g)}},[o,h]),r.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":ea(c)?"mixed":c,"aria-required":d,"data-state":C_(c),"data-disabled":l?"":void 0,disabled:l,value:i,...s,ref:x,onKeyDown:G(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:G(n,y=>{h(g=>ea(g)?!0:!g),w&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});b_.displayName=w_;var Zg=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return r.jsx(JI,{__scopeCheckbox:n,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>r.jsxs(r.Fragment,{children:[r.jsx(b_,{...h,ref:t,__scopeCheckbox:n}),f&&r.jsx(S_,{__scopeCheckbox:n})]})})});Zg.displayName=Xu;var j_="CheckboxIndicator",N_=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,o=Xg(j_,n);return r.jsx(Ct,{present:s||ea(o.checked)||o.checked===!0,children:r.jsx(ie.span,{"data-state":C_(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});N_.displayName=j_;var __="CheckboxBubbleInput",S_=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:p}=Xg(__,e),w=be(n,p),x=Ju(o),v=Hu(s);m.useEffect(()=>{const g=f;if(!g)return;const b=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(b,"checked").set,E=!a.current;if(x!==o&&k){const _=new Event("click",{bubbles:E});g.indeterminate=ea(o),k.call(g,ea(o)?!1:o),g.dispatchEvent(_)}},[f,x,o,a]);const y=m.useRef(ea(o)?!1:o);return r.jsx(ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});S_.displayName=__;function XI(e){return typeof e=="function"}function ea(e){return e==="indeterminate"}function C_(e){return ea(e)?"indeterminate":e?"checked":"unchecked"}const mc=m.forwardRef(({className:e,...t},n)=>r.jsx(Zg,{ref:n,className:Z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(N_,{className:Z("flex items-center justify-center text-current"),children:r.jsx(Pg,{className:"h-4 w-4"})})}));mc.displayName=Zg.displayName;var cf="focusScope.autoFocusOnMount",df="focusScope.autoFocusOnUnmount",Jy={bubbles:!1,cancelable:!0},ZI="FocusScope",pc=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),d=ft(a),u=ft(o),h=m.useRef(null),f=be(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:Ns(h.current,{select:!0})},v=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ns(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&Ns(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),g.disconnect()}}},[s,l,p.paused]),m.useEffect(()=>{if(l){Zy.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(cf,Jy);l.addEventListener(cf,d),l.dispatchEvent(y),y.defaultPrevented||(eL(aL(k_(l)),{select:!0}),document.activeElement===x&&Ns(l))}return()=>{l.removeEventListener(cf,d),setTimeout(()=>{const y=new CustomEvent(df,Jy);l.addEventListener(df,u),l.dispatchEvent(y),y.defaultPrevented||Ns(x??document.body,{select:!0}),l.removeEventListener(df,u),Zy.remove(p)},0)}}},[l,d,u,p]);const w=m.useCallback(x=>{if(!n&&!s||p.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(v&&y){const g=x.currentTarget,[b,j]=tL(g);b&&j?!x.shiftKey&&y===j?(x.preventDefault(),n&&Ns(b,{select:!0})):x.shiftKey&&y===b&&(x.preventDefault(),n&&Ns(j,{select:!0})):y===g&&x.preventDefault()}},[n,s,p.paused]);return r.jsx(ie.div,{tabIndex:-1,...i,ref:f,onKeyDown:w})});pc.displayName=ZI;function eL(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ns(s,{select:t}),document.activeElement!==n)return}function tL(e){const t=k_(e),n=Xy(t,e),s=Xy(t.reverse(),e);return[n,s]}function k_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xy(e,t){for(const n of e)if(!nL(n,{upTo:t}))return n}function nL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rL(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rL(e)&&t&&e.select()}}var Zy=sL();function sL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=e0(e,t),e.unshift(t)},remove(t){var n;e=e0(e,t),(n=e[0])==null||n.resume()}}}function e0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function aL(e){return e.filter(t=>t.tagName!=="A")}var uf=0;function Zu(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t0()),document.body.insertAdjacentElement("beforeend",e[1]??t0()),uf++,()=>{uf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uf--}},[])}function t0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Er=function(){return Er=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Er.apply(this,arguments)};function E_(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function oL(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var jd="right-scroll-bar-position",Nd="width-before-scroll-bar",iL="with-scroll-bars-hidden",lL="--removed-body-scroll-bar-size";function hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cL(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var dL=typeof window<"u"?m.useLayoutEffect:m.useEffect,n0=new WeakMap;function uL(e,t){var n=cL(null,function(s){return e.forEach(function(a){return hf(a,s)})});return dL(function(){var s=n0.get(n);if(s){var a=new Set(s),o=new Set(e),i=n.current;a.forEach(function(l){o.has(l)||hf(l,null)}),o.forEach(function(l){a.has(l)||hf(l,i)})}n0.set(n,e)},[e]),n}function hL(e){return e}function fL(e,t){t===void 0&&(t=hL);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,s);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(s=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){s=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),n}}}};return a}function mL(e){e===void 0&&(e={});var t=fL(null);return t.options=Er({async:!0,ssr:!1},e),t}var P_=function(e){var t=e.sideCar,n=E_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Er({},n))};P_.isSideCarExport=!0;function pL(e,t){return e.useMedium(t),P_}var T_=mL(),ff=function(){},eh=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:ff,onWheelCapture:ff,onTouchMoveCapture:ff}),a=s[0],o=s[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,w=e.noIsolation,x=e.inert,v=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,b=e.gapMode,j=E_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=uL([n,t]),_=Er(Er({},j),a);return m.createElement(m.Fragment,null,u&&m.createElement(k,{sideCar:T_,removeScrollBar:d,shards:h,noRelative:p,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:b}),i?m.cloneElement(m.Children.only(l),Er(Er({},_),{ref:E})):m.createElement(g,Er({},_,{className:c,ref:E}),l))});eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eh.classNames={fullWidth:Nd,zeroRight:jd};var gL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gL();return t&&e.setAttribute("nonce",t),e}function vL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xL())&&(vL(t,n),yL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bL=function(){var e=wL();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},R_=function(){var e=bL(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},jL={left:0,top:0,right:0,gap:0},mf=function(e){return parseInt(e||"",10)||0},NL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[mf(n),mf(s),mf(a)]},_L=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jL;var t=NL(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},SL=R_(),Ho="data-scroll-locked",CL=function(e,t,n,s){var a=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ho,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ho,`] {
    `).concat(lL,": ").concat(l,`px;
  }
`)},r0=function(){var e=parseInt(document.body.getAttribute(Ho)||"0",10);return isFinite(e)?e:0},kL=function(){m.useEffect(function(){return document.body.setAttribute(Ho,(r0()+1).toString()),function(){var e=r0()-1;e<=0?document.body.removeAttribute(Ho):document.body.setAttribute(Ho,e.toString())}},[])},EL=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;kL();var o=m.useMemo(function(){return _L(a)},[a]);return m.createElement(SL,{styles:CL(o,!t,a,n?"":"!important")})},np=!1;if(typeof window<"u")try{var Yc=Object.defineProperty({},"passive",{get:function(){return np=!0,!0}});window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{np=!1}var fo=np?{passive:!1}:!1,PL=function(e){return e.tagName==="TEXTAREA"},A_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PL(e)&&n[t]==="visible")},TL=function(e){return A_(e,"overflowY")},RL=function(e){return A_(e,"overflowX")},s0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=O_(e,s);if(a){var o=D_(e,s),i=o[1],l=o[2];if(i>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},AL=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},OL=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},O_=function(e,t){return e==="v"?TL(t):RL(t)},D_=function(e,t){return e==="v"?AL(t):OL(t)},DL=function(e,t){return e==="h"&&t==="rtl"?-1:1},ML=function(e,t,n,s,a){var o=DL(e,window.getComputedStyle(t).direction),i=o*s,l=n.target,c=t.contains(l),d=!1,u=i>0,h=0,f=0;do{if(!l)break;var p=D_(e,l),w=p[0],x=p[1],v=p[2],y=x-v-o*w;(w||y)&&O_(e,l)&&(h+=y,f+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},a0=function(e){return[e.deltaX,e.deltaY]},o0=function(e){return e&&"current"in e?e.current:e},IL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$L=0,mo=[];function FL(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),a=m.useState($L++)[0],o=m.useState(R_)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=oL([e.lockRef.current],(e.shards||[]).map(o0),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var y=Jc(x),g=n.current,b="deltaX"in x?x.deltaX:g[0]-y[0],j="deltaY"in x?x.deltaY:g[1]-y[1],k,E=x.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&E.type==="range")return!1;var N=s0(_,E);if(!N)return!0;if(N?k=_:(k=_==="v"?"h":"v",N=s0(_,E)),!N)return!1;if(!s.current&&"changedTouches"in x&&(b||j)&&(s.current=k),!k)return!0;var S=s.current||k;return ML(S,v,x,S==="h"?b:j)},[]),c=m.useCallback(function(x){var v=x;if(!(!mo.length||mo[mo.length-1]!==o)){var y="deltaY"in v?a0(v):Jc(v),g=t.current.filter(function(k){return k.name===v.type&&(k.target===v.target||v.target===k.shadowParent)&&IL(k.delta,y)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var b=(i.current.shards||[]).map(o0).filter(Boolean).filter(function(k){return k.contains(v.target)}),j=b.length>0?l(v,b[0]):!i.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=m.useCallback(function(x,v,y,g){var b={name:x,delta:v,target:y,should:g,shadowParent:UL(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=m.useCallback(function(x){n.current=Jc(x),s.current=void 0},[]),h=m.useCallback(function(x){d(x.type,a0(x),x.target,l(x,e.lockRef.current))},[]),f=m.useCallback(function(x){d(x.type,Jc(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return mo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,fo),document.addEventListener("touchmove",c,fo),document.addEventListener("touchstart",u,fo),function(){mo=mo.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,fo),document.removeEventListener("touchmove",c,fo),document.removeEventListener("touchstart",u,fo)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:LL(a)}):null,p?m.createElement(EL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BL=pL(T_,FL);var gc=m.forwardRef(function(e,t){return m.createElement(eh,Er({},e,{ref:t,sideCar:BL}))});gc.classNames=eh.classNames;var zL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},po=new WeakMap,Xc=new WeakMap,Zc={},pf=0,M_=function(e){return e&&(e.host||M_(e.parentNode))},WL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=M_(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},VL=function(e,t,n,s){var a=WL(t,Array.isArray(e)?e:[e]);Zc[n]||(Zc[n]=new WeakMap);var o=Zc[n],i=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var p=f.getAttribute(s),w=p!==null&&p!=="false",x=(po.get(f)||0)+1,v=(o.get(f)||0)+1;po.set(f,x),o.set(f,v),i.push(f),x===1&&w&&Xc.set(f,!0),v===1&&f.setAttribute(n,"true"),w||f.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),pf++,function(){i.forEach(function(h){var f=po.get(h)-1,p=o.get(h)-1;po.set(h,f),o.set(h,p),f||(Xc.has(h)||h.removeAttribute(s),Xc.delete(h)),p||h.removeAttribute(n)}),pf--,pf||(po=new WeakMap,po=new WeakMap,Xc=new WeakMap,Zc={})}},th=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=zL(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),VL(s,a,n,"aria-hidden")):function(){return null}},nh="Dialog",[I_,z9]=At(nh),[qL,wr]=I_(nh),L_=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=fr({prop:s,defaultProp:a??!1,onChange:o,caller:nh});return r.jsx(qL,{scope:t,triggerRef:l,contentRef:c,contentId:ur(),titleId:ur(),descriptionId:ur(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:i,children:n})};L_.displayName=nh;var $_="DialogTrigger",F_=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=wr($_,n),o=be(t,a.triggerRef);return r.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nx(a.open),...s,ref:o,onClick:G(e.onClick,a.onOpenToggle)})});F_.displayName=$_;var ex="DialogPortal",[HL,U_]=I_(ex,{forceMount:void 0}),B_=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,o=wr(ex,t);return r.jsx(HL,{scope:t,forceMount:n,children:m.Children.map(s,i=>r.jsx(Ct,{present:n||o.open,children:r.jsx(ki,{asChild:!0,container:a,children:i})}))})};B_.displayName=ex;var au="DialogOverlay",z_=m.forwardRef((e,t)=>{const n=U_(au,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=wr(au,e.__scopeDialog);return o.modal?r.jsx(Ct,{present:s||o.open,children:r.jsx(GL,{...a,ref:t})}):null});z_.displayName=au;var QL=ra("DialogOverlay.RemoveScroll"),GL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=wr(au,n);return r.jsx(gc,{as:QL,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(ie.div,{"data-state":nx(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Xa="DialogContent",W_=m.forwardRef((e,t)=>{const n=U_(Xa,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,o=wr(Xa,e.__scopeDialog);return r.jsx(Ct,{present:s||o.open,children:o.modal?r.jsx(KL,{...a,ref:t}):r.jsx(YL,{...a,ref:t})})});W_.displayName=Xa;var KL=m.forwardRef((e,t)=>{const n=wr(Xa,e.__scopeDialog),s=m.useRef(null),a=be(t,n.contentRef,s);return m.useEffect(()=>{const o=s.current;if(o)return th(o)},[]),r.jsx(V_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault())})}),YL=m.forwardRef((e,t)=>{const n=wr(Xa,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(V_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),V_=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=wr(Xa,n),c=m.useRef(null),d=be(t,c);return Zu(),r.jsxs(r.Fragment,{children:[r.jsx(pc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:r.jsx(ao,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nx(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(JL,{titleId:l.titleId}),r.jsx(ZL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tx="DialogTitle",q_=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=wr(tx,n);return r.jsx(ie.h2,{id:a.titleId,...s,ref:t})});q_.displayName=tx;var H_="DialogDescription",Q_=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=wr(H_,n);return r.jsx(ie.p,{id:a.descriptionId,...s,ref:t})});Q_.displayName=H_;var G_="DialogClose",K_=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=wr(G_,n);return r.jsx(ie.button,{type:"button",...s,ref:t,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});K_.displayName=G_;function nx(e){return e?"open":"closed"}var Y_="DialogTitleWarning",[W9,J_]=eR(Y_,{contentName:Xa,titleName:tx,docsSlug:"dialog"}),JL=({titleId:e})=>{const t=J_(Y_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},XL="DialogDescriptionWarning",ZL=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J_(XL).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},e3=L_,t3=F_,n3=B_,X_=z_,Z_=W_,e1=q_,t1=Q_,r3=K_;const Qt=e3,s3=t3,a3=n3,n1=m.forwardRef(({className:e,...t},n)=>r.jsx(X_,{ref:n,className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));n1.displayName=X_.displayName;const Gt=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(a3,{children:[r.jsx(n1,{}),r.jsxs(Z_,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(r3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(pn,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gt.displayName=Z_.displayName;const rn=({className:e,...t})=>r.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rn.displayName="DialogHeader";const r1=({className:e,...t})=>r.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});r1.displayName="DialogFooter";const Kt=m.forwardRef(({className:e,...t},n)=>r.jsx(e1,{ref:n,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Kt.displayName=e1.displayName;const s1=m.forwardRef(({className:e,...t},n)=>r.jsx(t1,{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));s1.displayName=t1.displayName;var o3=m.createContext(void 0);function Di(e){const t=m.useContext(o3);return e||t||"ltr"}var gf="rovingFocusGroup.onEntryFocus",i3={bubbles:!1,cancelable:!0},xc="RovingFocusGroup",[rp,a1,l3]=Fu(xc),[c3,Mi]=At(xc,[l3]),[d3,u3]=c3(xc),o1=m.forwardRef((e,t)=>r.jsx(rp.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(rp.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(h3,{...e,ref:t})})}));o1.displayName=xc;var h3=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=m.useRef(null),p=be(t,f),w=Di(o),[x,v]=fr({prop:i,defaultProp:l??null,onChange:c,caller:xc}),[y,g]=m.useState(!1),b=ft(d),j=a1(n),k=m.useRef(!1),[E,_]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(gf,b),()=>N.removeEventListener(gf,b)},[b]),r.jsx(d3,{scope:n,orientation:s,dir:w,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(N=>v(N),[v]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>_(N=>N-1),[]),children:r.jsx(ie.div,{tabIndex:y||E===0?-1:0,"data-orientation":s,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{k.current=!0}),onFocus:G(e.onFocus,N=>{const S=!k.current;if(N.target===N.currentTarget&&S&&!y){const C=new CustomEvent(gf,i3);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const O=j().filter(B=>B.focusable),R=O.find(B=>B.active),P=O.find(B=>B.id===x),z=[R,P,...O].filter(Boolean).map(B=>B.ref.current);c1(z,u)}}k.current=!1}),onBlur:G(e.onBlur,()=>g(!1))})})}),i1="RovingFocusGroupItem",l1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=ur(),d=o||c,u=u3(i1,n),h=u.currentTabStopId===d,f=a1(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:x}=u;return m.useEffect(()=>{if(s)return p(),()=>w()},[s,p,w]),r.jsx(rp.ItemSlot,{scope:n,id:d,focusable:s,active:a,children:r.jsx(ie.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:G(e.onMouseDown,v=>{s?u.onItemFocus(d):v.preventDefault()}),onFocus:G(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:G(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=p3(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=f().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(v.currentTarget);b=u.loop?g3(b,j+1):b.slice(j+1)}setTimeout(()=>c1(b))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:x!=null}):i})})});l1.displayName=i1;var f3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p3(e,t,n){const s=m3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return f3[s]}function c1(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function g3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var rx=o1,sx=l1,rh="Tabs",[x3,V9]=At(rh,[Mi]),d1=Mi(),[v3,ax]=x3(rh),u1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Di(l),[h,f]=fr({prop:s,onChange:a,defaultProp:o??"",caller:rh});return r.jsx(v3,{scope:n,baseId:ur(),value:h,onValueChange:f,orientation:i,dir:u,activationMode:c,children:r.jsx(ie.div,{dir:u,"data-orientation":i,...d,ref:t})})});u1.displayName=rh;var h1="TabsList",f1=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,o=ax(h1,n),i=d1(n);return r.jsx(rx,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(ie.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});f1.displayName=h1;var m1="TabsTrigger",p1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...o}=e,i=ax(m1,n),l=d1(n),c=v1(i.baseId,s),d=y1(i.baseId,s),u=s===i.value;return r.jsx(sx,{asChild:!0,...l,focusable:!a,active:u,children:r.jsx(ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:G(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?i.onValueChange(s):h.preventDefault()}),onKeyDown:G(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(s)}),onFocus:G(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!a&&h&&i.onValueChange(s)})})})});p1.displayName=m1;var g1="TabsContent",x1=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:o,...i}=e,l=ax(g1,n),c=v1(l.baseId,s),d=y1(l.baseId,s),u=s===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(Ct,{present:a||u,children:({present:f})=>r.jsx(ie.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});x1.displayName=g1;function v1(e,t){return`${e}-trigger-${t}`}function y1(e,t){return`${e}-content-${t}`}var y3=u1,w1=f1,b1=p1,j1=x1;const ox=y3,sh=m.forwardRef(({className:e,...t},n)=>r.jsx(w1,{ref:n,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));sh.displayName=w1.displayName;const Un=m.forwardRef(({className:e,...t},n)=>r.jsx(b1,{ref:n,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Un.displayName=b1.displayName;const Bn=m.forwardRef(({className:e,...t},n)=>r.jsx(j1,{ref:n,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Bn.displayName=j1.displayName;const sp=cc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},o)=>{const i=s?nR:"button";return r.jsx(i,{className:Z(sp({variant:t,size:n,className:e})),ref:o,...a})});$.displayName="Button";var w3="Label",N1=m.forwardRef((e,t)=>r.jsx(ie.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));N1.displayName=w3;var _1=N1;const b3=cc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=m.forwardRef(({className:e,...t},n)=>r.jsx(_1,{ref:n,className:Z(b3(),e),...t}));J.displayName=_1.displayName;const Wt=m.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Wt.displayName="Textarea";function ap(e,[t,n]){return Math.min(n,Math.max(t,e))}var j3=[" ","Enter","ArrowUp","ArrowDown"],N3=[" ","Enter"],Za="Select",[ah,oh,_3]=Fu(Za),[Ii,q9]=At(Za,[_3,fa]),ih=fa(),[S3,ma]=Ii(Za),[C3,k3]=Ii(Za),S1=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:w}=e,x=ih(t),[v,y]=m.useState(null),[g,b]=m.useState(null),[j,k]=m.useState(!1),E=Di(d),[_,N]=fr({prop:s,defaultProp:a??!1,onChange:o,caller:Za}),[S,C]=fr({prop:i,defaultProp:l,onChange:c,caller:Za}),O=m.useRef(null),R=v?w||!!v.closest("form"):!0,[P,I]=m.useState(new Set),z=Array.from(P).map(B=>B.props.value).join(";");return r.jsx(Vg,{...x,children:r.jsxs(S3,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:ur(),value:S,onValueChange:C,open:_,onOpenChange:N,dir:E,triggerPointerDownPosRef:O,disabled:f,children:[r.jsx(ah.Provider,{scope:t,children:r.jsx(C3,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{I(D=>new Set(D).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{I(D=>{const T=new Set(D);return T.delete(B),T})},[]),children:n})}),R?r.jsxs(K1,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:S,onChange:B=>C(B.target.value),disabled:f,form:w,children:[S===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},z):null]})})};S1.displayName=Za;var C1="SelectTrigger",k1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,o=ih(n),i=ma(C1,n),l=i.disabled||s,c=be(t,i.onTriggerChange),d=oh(n),u=m.useRef("touch"),[h,f,p]=J1(x=>{const v=d().filter(b=>!b.disabled),y=v.find(b=>b.value===i.value),g=X1(v,x,y);g!==void 0&&i.onValueChange(g.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(hc,{asChild:!0,...o,children:r.jsx(ie.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Y1(i.value)?"":void 0,...a,ref:c,onClick:G(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&w(x)}),onPointerDown:G(a.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:G(a.onKeyDown,x=>{const v=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(v&&x.key===" ")&&j3.includes(x.key)&&(w(),x.preventDefault())})})})});k1.displayName=C1;var E1="SelectValue",P1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:o,placeholder:i="",...l}=e,c=ma(E1,n),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,h=be(t,c.onValueNodeChange);return vt(()=>{d(u)},[d,u]),r.jsx(ie.span,{...l,ref:h,style:{pointerEvents:"none"},children:Y1(c.value)?r.jsx(r.Fragment,{children:i}):o})});P1.displayName=E1;var E3="SelectIcon",T1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return r.jsx(ie.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});T1.displayName=E3;var P3="SelectPortal",R1=e=>r.jsx(ki,{asChild:!0,...e});R1.displayName=P3;var eo="SelectContent",A1=m.forwardRef((e,t)=>{const n=ma(eo,e.__scopeSelect),[s,a]=m.useState();if(vt(()=>{a(new DocumentFragment)},[]),!n.open){const o=s;return o?so.createPortal(r.jsx(O1,{scope:e.__scopeSelect,children:r.jsx(ah.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(D1,{...e,ref:t})});A1.displayName=eo;var tr=10,[O1,pa]=Ii(eo),T3="SelectContentImpl",R3=ra("SelectContent.RemoveScroll"),D1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:v,...y}=e,g=ma(eo,n),[b,j]=m.useState(null),[k,E]=m.useState(null),_=be(t,Q=>j(Q)),[N,S]=m.useState(null),[C,O]=m.useState(null),R=oh(n),[P,I]=m.useState(!1),z=m.useRef(!1);m.useEffect(()=>{if(b)return th(b)},[b]),Zu();const B=m.useCallback(Q=>{const[ne,...oe]=R().map(ue=>ue.ref.current),[de]=oe.slice(-1),ee=document.activeElement;for(const ue of Q)if(ue===ee||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ne&&k&&(k.scrollTop=0),ue===de&&k&&(k.scrollTop=k.scrollHeight),ue==null||ue.focus(),document.activeElement!==ee))return},[R,k]),D=m.useCallback(()=>B([N,b]),[B,N,b]);m.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:T,triggerPointerDownPosRef:A}=g;m.useEffect(()=>{if(b){let Q={x:0,y:0};const ne=de=>{var ee,ue;Q={x:Math.abs(Math.round(de.pageX)-(((ee=A.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ue=A.current)==null?void 0:ue.y)??0))}},oe=de=>{Q.x<=10&&Q.y<=10?de.preventDefault():b.contains(de.target)||T(!1),document.removeEventListener("pointermove",ne),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",oe,{capture:!0})}}},[b,T,A]),m.useEffect(()=>{const Q=()=>T(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[T]);const[F,U]=J1(Q=>{const ne=R().filter(ee=>!ee.disabled),oe=ne.find(ee=>ee.ref.current===document.activeElement),de=X1(ne,Q,oe);de&&setTimeout(()=>de.ref.current.focus())}),V=m.useCallback((Q,ne,oe)=>{const de=!z.current&&!oe;(g.value!==void 0&&g.value===ne||de)&&(S(Q),de&&(z.current=!0))},[g.value]),q=m.useCallback(()=>b==null?void 0:b.focus(),[b]),te=m.useCallback((Q,ne,oe)=>{const de=!z.current&&!oe;(g.value!==void 0&&g.value===ne||de)&&O(Q)},[g.value]),fe=s==="popper"?op:M1,xe=fe===op?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:v}:{};return r.jsx(O1,{scope:n,content:b,viewport:k,onViewportChange:E,itemRefCallback:V,selectedItem:N,onItemLeave:q,itemTextRefCallback:te,focusSelectedItem:D,selectedItemText:C,position:s,isPositioned:P,searchRef:F,children:r.jsx(gc,{as:R3,allowPinchZoom:!0,children:r.jsx(pc,{asChild:!0,trapped:g.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:G(a,Q=>{var ne;(ne=g.trigger)==null||ne.focus({preventScroll:!0}),Q.preventDefault()}),children:r.jsx(ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:r.jsx(fe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Q=>Q.preventDefault(),...y,...xe,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:G(y.onKeyDown,Q=>{const ne=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ne&&Q.key.length===1&&U(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let de=R().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ee=Q.target,ue=de.indexOf(ee);de=de.slice(ue+1)}setTimeout(()=>B(de)),Q.preventDefault()}})})})})})})});D1.displayName=T3;var A3="SelectItemAlignedPosition",M1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,o=ma(eo,n),i=pa(eo,n),[l,c]=m.useState(null),[d,u]=m.useState(null),h=be(t,_=>u(_)),f=oh(n),p=m.useRef(!1),w=m.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&x&&v&&y){const _=o.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),S=o.valueNode.getBoundingClientRect(),C=y.getBoundingClientRect();if(o.dir!=="rtl"){const ee=C.left-N.left,ue=S.left-ee,X=_.left-ue,L=_.width+X,W=Math.max(L,N.width),H=window.innerWidth-tr,pe=ap(ue,[tr,Math.max(tr,H-W)]);l.style.minWidth=L+"px",l.style.left=pe+"px"}else{const ee=N.right-C.right,ue=window.innerWidth-S.right-ee,X=window.innerWidth-_.right-ue,L=_.width+X,W=Math.max(L,N.width),H=window.innerWidth-tr,pe=ap(ue,[tr,Math.max(tr,H-W)]);l.style.minWidth=L+"px",l.style.right=pe+"px"}const O=f(),R=window.innerHeight-tr*2,P=x.scrollHeight,I=window.getComputedStyle(d),z=parseInt(I.borderTopWidth,10),B=parseInt(I.paddingTop,10),D=parseInt(I.borderBottomWidth,10),T=parseInt(I.paddingBottom,10),A=z+B+P+T+D,F=Math.min(v.offsetHeight*5,A),U=window.getComputedStyle(x),V=parseInt(U.paddingTop,10),q=parseInt(U.paddingBottom,10),te=_.top+_.height/2-tr,fe=R-te,xe=v.offsetHeight/2,Q=v.offsetTop+xe,ne=z+B+Q,oe=A-ne;if(ne<=te){const ee=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-x.offsetTop-x.offsetHeight,X=Math.max(fe,xe+(ee?q:0)+ue+D),L=ne+X;l.style.height=L+"px"}else{const ee=O.length>0&&v===O[0].ref.current;l.style.top="0px";const X=Math.max(te,z+x.offsetTop+(ee?V:0)+xe)+oe;l.style.height=X+"px",x.scrollTop=ne-te+x.offsetTop}l.style.margin=`${tr}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,l,d,x,v,y,o.dir,s]);vt(()=>b(),[b]);const[j,k]=m.useState();vt(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const E=m.useCallback(_=>{_&&w.current===!0&&(b(),g==null||g(),w.current=!1)},[b,g]);return r.jsx(D3,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:r.jsx(ie.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});M1.displayName=A3;var O3="SelectPopperPosition",op=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=tr,...o}=e,i=ih(n);return r.jsx(Qu,{...i,...o,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});op.displayName=O3;var[D3,ix]=Ii(eo,{}),ip="SelectViewport",I1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,o=pa(ip,n),i=ix(ip,n),l=be(t,o.onViewportChange),c=m.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(ah.Slot,{scope:n,children:r.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:G(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-tr*2,x=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),y=Math.max(x,v);if(y<w){const g=y+p,b=Math.min(w,g),j=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});I1.displayName=ip;var L1="SelectGroup",[M3,I3]=Ii(L1),L3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ur();return r.jsx(M3,{scope:n,id:a,children:r.jsx(ie.div,{role:"group","aria-labelledby":a,...s,ref:t})})});L3.displayName=L1;var $1="SelectLabel",F1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=I3($1,n);return r.jsx(ie.div,{id:a.id,...s,ref:t})});F1.displayName=$1;var ou="SelectItem",[$3,U1]=Ii(ou),B1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:o,...i}=e,l=ma(ou,n),c=pa(ou,n),d=l.value===s,[u,h]=m.useState(o??""),[f,p]=m.useState(!1),w=be(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,s,a)}),x=ur(),v=m.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx($3,{scope:n,value:s,disabled:a,textId:x,isSelected:d,onItemTextChange:m.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:r.jsx(ah.ItemSlot,{scope:n,value:s,disabled:a,textValue:u,children:r.jsx(ie.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:w,onFocus:G(i.onFocus,()=>p(!0)),onBlur:G(i.onBlur,()=>p(!1)),onClick:G(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:G(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:G(i.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:G(i.onPointerMove,g=>{var b;v.current=g.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(i.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:G(i.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(N3.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});B1.displayName=ou;var ol="SelectItemText",z1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...o}=e,i=ma(ol,n),l=pa(ol,n),c=U1(ol,n),d=k3(ol,n),[u,h]=m.useState(null),f=be(t,y=>h(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=m.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=d;return vt(()=>(x(w),()=>v(w)),[x,v,w]),r.jsxs(r.Fragment,{children:[r.jsx(ie.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?so.createPortal(o.children,i.valueNode):null]})});z1.displayName=ol;var W1="SelectItemIndicator",V1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return U1(W1,n).isSelected?r.jsx(ie.span,{"aria-hidden":!0,...s,ref:t}):null});V1.displayName=W1;var lp="SelectScrollUpButton",q1=m.forwardRef((e,t)=>{const n=pa(lp,e.__scopeSelect),s=ix(lp,e.__scopeSelect),[a,o]=m.useState(!1),i=be(t,s.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Q1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q1.displayName=lp;var cp="SelectScrollDownButton",H1=m.forwardRef((e,t)=>{const n=pa(cp,e.__scopeSelect),s=ix(cp,e.__scopeSelect),[a,o]=m.useState(!1),i=be(t,s.onScrollButtonChange);return vt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?r.jsx(Q1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});H1.displayName=cp;var Q1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,o=pa("SelectScrollButton",n),i=m.useRef(null),l=oh(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),vt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(ie.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:G(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:G(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:G(a.onPointerLeave,()=>{c()})})}),F3="SelectSeparator",G1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ie.div,{"aria-hidden":!0,...s,ref:t})});G1.displayName=F3;var dp="SelectArrow",U3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=ih(n),o=ma(dp,n),i=pa(dp,n);return o.open&&i.position==="popper"?r.jsx(Gu,{...a,...s,ref:t}):null});U3.displayName=dp;var B3="SelectBubbleInput",K1=m.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=m.useRef(null),o=be(s,a),i=Ju(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[i,t]),r.jsx(ie.select,{...n,style:{...Lj,...n.style},ref:o,defaultValue:t})});K1.displayName=B3;function Y1(e){return e===""||e===void 0}function J1(e){const t=ft(e),n=m.useRef(""),s=m.useRef(0),a=m.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,o]}function X1(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=z3(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function z3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var W3=S1,Z1=k1,V3=P1,q3=T1,H3=R1,eS=A1,Q3=I1,tS=F1,nS=B1,G3=z1,K3=V1,rS=q1,sS=H1,aS=G1;const Fe=W3,Ue=V3,Le=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Z1,{ref:s,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(q3,{asChild:!0,children:r.jsx(oN,{className:"h-4 w-4 opacity-50"})})]}));Le.displayName=Z1.displayName;const oS=m.forwardRef(({className:e,...t},n)=>r.jsx(rS,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(yA,{className:"h-4 w-4"})}));oS.displayName=rS.displayName;const iS=m.forwardRef(({className:e,...t},n)=>r.jsx(sS,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(oN,{className:"h-4 w-4"})}));iS.displayName=sS.displayName;const Ve=m.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>r.jsx(H3,{children:r.jsxs(eS,{ref:a,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(oS,{}),r.jsx(Q3,{className:Z("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(iS,{})]})}));Ve.displayName=eS.displayName;const Y3=m.forwardRef(({className:e,...t},n)=>r.jsx(tS,{ref:n,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Y3.displayName=tS.displayName;const re=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(nS,{ref:s,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(K3,{children:r.jsx(Pg,{className:"h-4 w-4"})})}),r.jsx(G3,{children:t})]}));re.displayName=nS.displayName;const J3=m.forwardRef(({className:e,...t},n)=>r.jsx(aS,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));J3.displayName=aS.displayName;function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function Tt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ge(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ae(e){ge(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||gi(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function en(e,t){ge(2,arguments);var n=Ae(e),s=Tt(t);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function xr(e,t){ge(2,arguments);var n=Ae(e),s=Tt(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var a=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+s+1,0);var i=o.getDate();return a>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function X3(e,t){ge(2,arguments);var n=Ae(e).getTime(),s=Tt(t);return new Date(n+s)}var Z3={};function ga(){return Z3}function Mr(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=ga(),h=Tt((n=(s=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ae(e),p=f.getDay(),w=(p<h?7:0)+p-h;return f.setDate(f.getDate()-w),f.setHours(0,0,0,0),f}function to(e){return ge(1,arguments),Mr(e,{weekStartsOn:1})}function e5(e){ge(1,arguments);var t=Ae(e),n=t.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var a=to(s),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var i=to(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function t5(e){ge(1,arguments);var t=e5(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var s=to(n);return s}function Hl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function xi(e){ge(1,arguments);var t=Ae(e);return t.setHours(0,0,0,0),t}var n5=864e5;function es(e,t){ge(2,arguments);var n=xi(e),s=xi(t),a=n.getTime()-Hl(n),o=s.getTime()-Hl(s);return Math.round((a-o)/n5)}function up(e,t){ge(2,arguments);var n=Tt(t),s=n*7;return en(e,s)}function r5(e,t){ge(2,arguments);var n=Tt(t);return xr(e,n*12)}function s5(e){ge(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gi(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(s){var a=Ae(s);(n===void 0||n<a||isNaN(Number(a)))&&(n=a)}),n||new Date(NaN)}function a5(e){ge(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(gi(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(s){var a=Ae(s);(n===void 0||n>a||isNaN(a.getDate()))&&(n=a)}),n||new Date(NaN)}function gn(e,t){ge(2,arguments);var n=xi(e),s=xi(t);return n.getTime()===s.getTime()}function lx(e){return ge(1,arguments),e instanceof Date||gi(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function o5(e){if(ge(1,arguments),!lx(e)&&typeof e!="number")return!1;var t=Ae(e);return!isNaN(Number(t))}function Ql(e,t){ge(2,arguments);var n=Ae(e),s=Ae(t),a=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return a*12+o}var i5=6048e5;function l5(e,t,n){ge(2,arguments);var s=Mr(e,n),a=Mr(t,n),o=s.getTime()-Hl(s),i=a.getTime()-Hl(a);return Math.round((o-i)/i5)}function cx(e){ge(1,arguments);var t=Ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wn(e){ge(1,arguments);var t=Ae(e);return t.setDate(1),t.setHours(0,0,0,0),t}function c5(e){ge(1,arguments);var t=Ae(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dx(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=ga(),h=Tt((n=(s=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ae(e),p=f.getDay(),w=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+w),f.setHours(23,59,59,999),f}function lS(e){return ge(1,arguments),dx(e,{weekStartsOn:1})}function d5(e,t){ge(2,arguments);var n=Tt(t);return X3(e,-n)}var u5=864e5;function h5(e){ge(1,arguments);var t=Ae(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=n-s;return Math.floor(a/u5)+1}function iu(e){ge(1,arguments);var t=1,n=Ae(e),s=n.getUTCDay(),a=(s<t?7:0)+s-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function cS(e){ge(1,arguments);var t=Ae(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=iu(s),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=iu(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function f5(e){ge(1,arguments);var t=cS(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var s=iu(n);return s}var m5=6048e5;function p5(e){ge(1,arguments);var t=Ae(e),n=iu(t).getTime()-f5(t).getTime();return Math.round(n/m5)+1}function lu(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=ga(),h=Tt((n=(s=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ae(e),p=f.getUTCDay(),w=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-w),f.setUTCHours(0,0,0,0),f}function dS(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=Ae(e),h=u.getUTCFullYear(),f=ga(),p=Tt((n=(s=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&s!==void 0?s:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(h+1,0,p),w.setUTCHours(0,0,0,0);var x=lu(w,t),v=new Date(0);v.setUTCFullYear(h,0,p),v.setUTCHours(0,0,0,0);var y=lu(v,t);return u.getTime()>=x.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function g5(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=ga(),h=Tt((n=(s=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=dS(e,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var w=lu(p,t);return w}var x5=6048e5;function v5(e,t){ge(1,arguments);var n=Ae(e),s=lu(n,t).getTime()-g5(n,t).getTime();return Math.round(s/x5)+1}function Ke(e,t){for(var n=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return n+s}var ws={y:function(t,n){var s=t.getUTCFullYear(),a=s>0?s:1-s;return Ke(n==="yy"?a%100:a,n.length)},M:function(t,n){var s=t.getUTCMonth();return n==="M"?String(s+1):Ke(s+1,2)},d:function(t,n){return Ke(t.getUTCDate(),n.length)},a:function(t,n){var s=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,n){return Ke(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ke(t.getUTCHours(),n.length)},m:function(t,n){return Ke(t.getUTCMinutes(),n.length)},s:function(t,n){return Ke(t.getUTCSeconds(),n.length)},S:function(t,n){var s=n.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,s-3));return Ke(o,n.length)}},go={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y5={G:function(t,n,s){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return s.ordinalNumber(o,{unit:"year"})}return ws.y(t,n)},Y:function(t,n,s,a){var o=dS(t,a),i=o>0?o:1-o;if(n==="YY"){var l=i%100;return Ke(l,2)}return n==="Yo"?s.ordinalNumber(i,{unit:"year"}):Ke(i,n.length)},R:function(t,n){var s=cS(t);return Ke(s,n.length)},u:function(t,n){var s=t.getUTCFullYear();return Ke(s,n.length)},Q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Ke(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Ke(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,s){var a=t.getUTCMonth();switch(n){case"M":case"MM":return ws.M(t,n);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,s){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return Ke(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,s,a){var o=v5(t,a);return n==="wo"?s.ordinalNumber(o,{unit:"week"}):Ke(o,n.length)},I:function(t,n,s){var a=p5(t);return n==="Io"?s.ordinalNumber(a,{unit:"week"}):Ke(a,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):ws.d(t,n)},D:function(t,n,s){var a=h5(t);return n==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Ke(a,n.length)},E:function(t,n,s){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,s,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return Ke(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,s,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return Ke(i,n.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,s){var a=t.getUTCDay(),o=a===0?7:a;switch(n){case"i":return String(o);case"ii":return Ke(o,n.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,s){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,s){var a=t.getUTCHours(),o;switch(a===12?o=go.noon:a===0?o=go.midnight:o=a/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,s){var a=t.getUTCHours(),o;switch(a>=17?o=go.evening:a>=12?o=go.afternoon:a>=4?o=go.morning:o=go.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return ws.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ws.H(t,n)},K:function(t,n,s){var a=t.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Ke(a,n.length)},k:function(t,n,s){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?s.ordinalNumber(a,{unit:"hour"}):Ke(a,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ws.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ws.s(t,n)},S:function(t,n){return ws.S(t,n)},X:function(t,n,s,a){var o=a._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return l0(i);case"XXXX":case"XX":return Sa(i);case"XXXXX":case"XXX":default:return Sa(i,":")}},x:function(t,n,s,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(n){case"x":return l0(i);case"xxxx":case"xx":return Sa(i);case"xxxxx":case"xxx":default:return Sa(i,":")}},O:function(t,n,s,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+i0(i,":");case"OOOO":default:return"GMT"+Sa(i,":")}},z:function(t,n,s,a){var o=a._originalDate||t,i=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+i0(i,":");case"zzzz":default:return"GMT"+Sa(i,":")}},t:function(t,n,s,a){var o=a._originalDate||t,i=Math.floor(o.getTime()/1e3);return Ke(i,n.length)},T:function(t,n,s,a){var o=a._originalDate||t,i=o.getTime();return Ke(i,n.length)}};function i0(e,t){var n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),o=s%60;if(o===0)return n+String(a);var i=t;return n+String(a)+i+Ke(o,2)}function l0(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ke(Math.abs(e)/60,2)}return Sa(e,t)}function Sa(e,t){var n=t||"",s=e>0?"-":"+",a=Math.abs(e),o=Ke(Math.floor(a/60),2),i=Ke(a%60,2);return s+o+n+i}var c0=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},uS=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},w5=function(t,n){var s=t.match(/(P+)(p+)?/)||[],a=s[1],o=s[2];if(!o)return c0(t,n);var i;switch(a){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",c0(a,n)).replace("{{time}}",uS(o,n))},b5={p:uS,P:w5},j5=["D","DD"],N5=["YY","YYYY"];function _5(e){return j5.indexOf(e)!==-1}function S5(e){return N5.indexOf(e)!==-1}function d0(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var C5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k5=function(t,n,s){var a,o=C5[t];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function xf(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,s=e.formats[n]||e.formats[e.defaultWidth];return s}}var E5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R5={date:xf({formats:E5,defaultWidth:"full"}),time:xf({formats:P5,defaultWidth:"full"}),dateTime:xf({formats:T5,defaultWidth:"full"})},A5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O5=function(t,n,s,a){return A5[t]};function Yi(e){return function(t,n){var s=n!=null&&n.context?String(n.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):o;a=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var D5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U5=function(t,n){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},B5={ordinalNumber:U5,era:Yi({values:D5,defaultWidth:"wide"}),quarter:Yi({values:M5,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Yi({values:I5,defaultWidth:"wide"}),day:Yi({values:L5,defaultWidth:"wide"}),dayPeriod:Yi({values:$5,defaultWidth:"wide",formattingValues:F5,defaultFormattingWidth:"wide"})};function Ji(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var i=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?W5(l,function(h){return h.test(i)}):z5(l,function(h){return h.test(i)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(i.length);return{value:d,rest:u}}}function z5(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function W5(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function V5(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;var l=t.slice(a.length);return{value:i,rest:l}}}var q5=/^(\d+)(th|st|nd|rd)?/i,H5=/\d+/i,Q5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G5={any:[/^b/i,/^(a|c)/i]},K5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y5={any:[/1/i,/2/i,/3/i,/4/i]},J5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r$={ordinalNumber:V5({matchPattern:q5,parsePattern:H5,valueCallback:function(t){return parseInt(t,10)}}),era:Ji({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:G5,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ji({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),day:Ji({matchPatterns:Z5,defaultMatchWidth:"wide",parsePatterns:e$,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:t$,defaultMatchWidth:"any",parsePatterns:n$,defaultParseWidth:"any"})},hS={code:"en-US",formatDistance:k5,formatLong:R5,formatRelative:O5,localize:B5,match:r$,options:{weekStartsOn:0,firstWeekContainsDate:1}},s$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o$=/^'([^]*?)'?$/,i$=/''/g,l$=/[a-zA-Z]/;function Hn(e,t,n){var s,a,o,i,l,c,d,u,h,f,p,w,x,v,y,g,b,j;ge(2,arguments);var k=String(t),E=ga(),_=(s=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:E.locale)!==null&&s!==void 0?s:hS,N=Tt((o=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&i!==void 0?i:(h=E.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Tt((p=(w=(x=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(y=n.locale)===null||y===void 0||(g=y.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&x!==void 0?x:E.weekStartsOn)!==null&&w!==void 0?w:(b=E.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&p!==void 0?p:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var C=Ae(e);if(!o5(C))throw new RangeError("Invalid time value");var O=Hl(C),R=d5(C,O),P={firstWeekContainsDate:N,weekStartsOn:S,locale:_,_originalDate:C},I=k.match(a$).map(function(z){var B=z[0];if(B==="p"||B==="P"){var D=b5[B];return D(z,_.formatLong)}return z}).join("").match(s$).map(function(z){if(z==="''")return"'";var B=z[0];if(B==="'")return c$(z);var D=y5[B];if(D)return!(n!=null&&n.useAdditionalWeekYearTokens)&&S5(z)&&d0(z,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&_5(z)&&d0(z,t,String(e)),D(R,z,_.localize,P);if(B.match(l$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return z}).join("");return I}function c$(e){var t=e.match(o$);return t?t[1].replace(i$,"'"):e}function d$(e){ge(1,arguments);var t=Ae(e),n=t.getFullYear(),s=t.getMonth(),a=new Date(0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}var u$=6048e5;function h$(e){ge(1,arguments);var t=Ae(e),n=to(t).getTime()-t5(t).getTime();return Math.round(n/u$)+1}function f$(e){ge(1,arguments);var t=Ae(e),n=t.getTime();return n}function m$(e){return ge(1,arguments),Math.floor(f$(e)/1e3)}function p$(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=Ae(e),h=u.getFullYear(),f=ga(),p=Tt((n=(s=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&s!==void 0?s:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(h+1,0,p),w.setHours(0,0,0,0);var x=Mr(w,t),v=new Date(0);v.setFullYear(h,0,p),v.setHours(0,0,0,0);var y=Mr(v,t);return u.getTime()>=x.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function g$(e,t){var n,s,a,o,i,l,c,d;ge(1,arguments);var u=ga(),h=Tt((n=(s=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=p$(e,t),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var w=Mr(p,t);return w}var x$=6048e5;function v$(e,t){ge(1,arguments);var n=Ae(e),s=Mr(n,t).getTime()-g$(n,t).getTime();return Math.round(s/x$)+1}function y$(e){ge(1,arguments);var t=Ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function w$(e,t){return ge(1,arguments),l5(y$(e),wn(e),t)+1}function hp(e,t){ge(2,arguments);var n=Ae(e),s=Ae(t);return n.getTime()>s.getTime()}function fS(e,t){ge(2,arguments);var n=Ae(e),s=Ae(t);return n.getTime()<s.getTime()}function ux(e,t){ge(2,arguments);var n=Ae(e),s=Ae(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function b$(e,t){ge(2,arguments);var n=Ae(e),s=Ae(t);return n.getFullYear()===s.getFullYear()}function vf(e,t){ge(2,arguments);var n=Tt(t);return en(e,-n)}function yf(e,t){ge(2,arguments);var n=Ae(e),s=Tt(t),a=n.getFullYear(),o=n.getDate(),i=new Date(0);i.setFullYear(a,s,15),i.setHours(0,0,0,0);var l=d$(i);return n.setMonth(s,Math.min(o,l)),n}function u0(e,t){ge(2,arguments);var n=Ae(e),s=Tt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(s),n)}var we=function(){return we=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},we.apply(this,arguments)};function j$(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function mS(e,t,n){for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function vc(e){return e.mode==="multiple"}function yc(e){return e.mode==="range"}function lh(e){return e.mode==="single"}var N$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _$(e,t){return Hn(e,"LLLL y",t)}function S$(e,t){return Hn(e,"d",t)}function C$(e,t){return Hn(e,"LLLL",t)}function k$(e){return"".concat(e)}function E$(e,t){return Hn(e,"cccccc",t)}function P$(e,t){return Hn(e,"yyyy",t)}var T$=Object.freeze({__proto__:null,formatCaption:_$,formatDay:S$,formatMonthCaption:C$,formatWeekNumber:k$,formatWeekdayName:E$,formatYearCaption:P$}),R$=function(e,t,n){return Hn(e,"do MMMM (EEEE)",n)},A$=function(){return"Month: "},O$=function(){return"Go to next month"},D$=function(){return"Go to previous month"},M$=function(e,t){return Hn(e,"cccc",t)},I$=function(e){return"Week n. ".concat(e)},L$=function(){return"Year: "},$$=Object.freeze({__proto__:null,labelDay:R$,labelMonthDropdown:A$,labelNext:O$,labelPrevious:D$,labelWeekNumber:I$,labelWeekday:M$,labelYearDropdown:L$});function F$(){var e="buttons",t=N$,n=hS,s={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:T$,labels:$$,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function U$(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return s?o=wn(s):t&&(o=new Date(t,0,1)),a?i=cx(a):n&&(i=new Date(n,11,31)),{fromDate:o?xi(o):void 0,toDate:i?xi(i):void 0}}var pS=m.createContext(void 0);function B$(e){var t,n=e.initialProps,s=F$(),a=U$(n),o=a.fromDate,i=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(lh(n)||vc(n)||yc(n))&&(c=n.onSelect);var d=we(we(we({},s),n),{captionLayout:l,classNames:we(we({},s.classNames),n.classNames),components:we({},n.components),formatters:we(we({},s.formatters),n.formatters),fromDate:o,labels:we(we({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:we(we({},s.modifiers),n.modifiers),modifiersClassNames:we(we({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:we(we({},s.styles),n.styles),toDate:i});return r.jsx(pS.Provider,{value:d,children:e.children})}function et(){var e=m.useContext(pS);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function gS(e){var t=et(),n=t.locale,s=t.classNames,a=t.styles,o=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function z$(e){return r.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xS(e){var t,n,s=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=et(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:z$;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:o}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,r.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function W$(e){var t,n=et(),s=n.fromDate,a=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});var h=[];if(b$(s,a))for(var f=wn(s),p=s.getMonth();p<=a.getMonth();p++)h.push(yf(f,p));else for(var f=wn(new Date),p=0;p<=11;p++)h.push(yf(f,p));var w=function(v){var y=Number(v.target.value),g=yf(wn(e.displayMonth),y);e.onChange(g)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:xS;return r.jsx(x,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(v){return r.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function V$(e){var t,n=e.displayMonth,s=et(),a=s.fromDate,o=s.toDate,i=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,f=[];if(!a)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});for(var p=a.getFullYear(),w=o.getFullYear(),x=p;x<=w;x++)f.push(u0(c5(new Date),x));var v=function(g){var b=u0(wn(n),Number(g.target.value));e.onChange(b)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:xS;return r.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:u(n,{locale:i}),children:f.map(function(g){return r.jsx("option",{value:g.getFullYear(),children:u(g,{locale:i})},g.getFullYear())})})}function q$(e,t){var n=m.useState(e),s=n[0],a=n[1],o=t===void 0?s:t;return[o,a]}function H$(e){var t=e.month,n=e.defaultMonth,s=e.today,a=t||n||s||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&Ql(o,a)<0){var d=-1*(c-1);a=xr(o,d)}return i&&Ql(a,i)<0&&(a=i),wn(a)}function Q$(){var e=et(),t=H$(e),n=q$(t,e.month),s=n[0],a=n[1],o=function(i){var l;if(!e.disableNavigation){var c=wn(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,o]}function G$(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,a=wn(e),o=wn(xr(a,s)),i=Ql(o,a),l=[],c=0;c<i;c++){var d=xr(a,c);l.push(d)}return n&&(l=l.reverse()),l}function K$(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=wn(e);if(!n)return xr(l,i);var c=Ql(n,e);if(!(c<o))return xr(l,i)}}function Y$(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=s?o:1,l=wn(e);if(!n)return xr(l,-i);var c=Ql(l,n);if(!(c<=0))return xr(l,-i)}}var vS=m.createContext(void 0);function J$(e){var t=et(),n=Q$(),s=n[0],a=n[1],o=G$(s,t),i=K$(s,t),l=Y$(s,t),c=function(h){return o.some(function(f){return ux(h,f)})},d=function(h,f){c(h)||(f&&fS(h,f)?a(xr(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:s,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return r.jsx(vS.Provider,{value:u,children:e.children})}function wc(){var e=m.useContext(vS);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function h0(e){var t,n=et(),s=n.classNames,a=n.styles,o=n.components,i=wc().goToMonth,l=function(u){i(xr(u,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:gS,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(W$,{onChange:l,displayMonth:e.displayMonth}),r.jsx(V$,{onChange:l,displayMonth:e.displayMonth})]})}function X$(e){return r.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z$(e){return r.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var cu=m.forwardRef(function(e,t){var n=et(),s=n.classNames,a=n.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var i=o.join(" "),l=we(we({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),r.jsx("button",we({},e,{ref:t,type:"button",className:i,style:l}))});function eF(e){var t,n,s=et(),a=s.dir,o=s.locale,i=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,h=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var f=d(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:o}),x=[i.nav_button,i.nav_button_next].join(" "),v=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Z$,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:X$;return r.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(cu,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?r.jsx(v,{className:i.nav_icon,style:l.nav_icon}):r.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(cu,{name:"next-month","aria-label":w,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?r.jsx(y,{className:i.nav_icon,style:l.nav_icon}):r.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function f0(e){var t=et().numberOfMonths,n=wc(),s=n.previousMonth,a=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(w){return ux(e.displayMonth,w)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){s&&o(s)},p=function(){a&&o(a)};return r.jsx(eF,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:s,onPreviousClick:f,onNextClick:p})}function tF(e){var t,n=et(),s=n.classNames,a=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:gS,d;return a?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=r.jsx(h0,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(h0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(f0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(f0,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:o.caption,children:d})}function nF(e){var t=et(),n=t.footer,s=t.styles,a=t.classNames.tfoot;return n?r.jsx("tfoot",{className:a,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function rF(e,t,n){for(var s=n?to(new Date):Mr(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=en(s,o);a.push(i)}return a}function sF(){var e=et(),t=e.classNames,n=e.styles,s=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=rF(a,o,i);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,h){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function aF(){var e,t=et(),n=t.classNames,s=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:sF;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(o,{})})}function oF(e){var t=et(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var hx=m.createContext(void 0);function iF(e){if(!vc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(hx.Provider,{value:t,children:e.children})}return r.jsx(lF,{initialProps:e.initialProps,children:e.children})}function lF(e){var t=e.initialProps,n=e.children,s=t.selected,a=t.min,o=t.max,i=function(d,u,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var w=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!w){var x=!!(!u.selected&&o&&(s==null?void 0:s.length)===o);if(!x){var v=s?mS([],s):[];if(u.selected){var y=v.findIndex(function(g){return gn(d,g)});v.splice(y,1)}else v.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,v,d,u,h)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=o&&s.length>o-1,h=s.some(function(f){return gn(f,d)});return!!(u&&!h)});var c={selected:s,onDayClick:i,modifiers:l};return r.jsx(hx.Provider,{value:c,children:n})}function fx(){var e=m.useContext(hx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function cF(e,t){var n=t||{},s=n.from,a=n.to;return s&&a?gn(a,e)&&gn(s,e)?void 0:gn(a,e)?{from:a,to:void 0}:gn(s,e)?void 0:hp(s,e)?{from:e,to:a}:{from:s,to:e}:a?hp(e,a)?{from:a,to:e}:{from:e,to:a}:s?fS(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var mx=m.createContext(void 0);function dF(e){if(!yc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(mx.Provider,{value:t,children:e.children})}return r.jsx(uF,{initialProps:e.initialProps,children:e.children})}function uF(e){var t=e.initialProps,n=e.children,s=t.selected,a=s||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(p,w,x){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,p,w,x);var g=cF(p,s);(y=t.onSelect)===null||y===void 0||y.call(t,g,p,w,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],gn(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:vf(o,l-1),before:en(o,l-1)}),o&&i&&u.disabled.push({after:o,before:en(o,l-1)}),!o&&i&&u.disabled.push({after:vf(i,l-1),before:en(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:en(o,-c+1)}),u.disabled.push({after:en(o,c-1)})),o&&i){var h=es(i,o)+1,f=c-h;u.disabled.push({before:vf(o,f)}),u.disabled.push({after:en(i,f)})}!o&&i&&(u.disabled.push({before:en(i,-c+1)}),u.disabled.push({after:en(i,c-1)}))}return r.jsx(mx.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:n})}function px(){var e=m.useContext(mx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function _d(e){return Array.isArray(e)?mS([],e):e!==void 0?[e]:[]}function hF(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],a=n[1];t[s]=_d(a)}),t}var vr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vr||(vr={}));var fF=vr.Selected,zr=vr.Disabled,mF=vr.Hidden,pF=vr.Today,wf=vr.RangeEnd,bf=vr.RangeMiddle,jf=vr.RangeStart,gF=vr.Outside;function xF(e,t,n){var s,a=(s={},s[fF]=_d(e.selected),s[zr]=_d(e.disabled),s[mF]=_d(e.hidden),s[pF]=[e.today],s[wf]=[],s[bf]=[],s[jf]=[],s[gF]=[],s);return e.fromDate&&a[zr].push({before:e.fromDate}),e.toDate&&a[zr].push({after:e.toDate}),vc(e)?a[zr]=a[zr].concat(t.modifiers[zr]):yc(e)&&(a[zr]=a[zr].concat(n.modifiers[zr]),a[jf]=n.modifiers[jf],a[bf]=n.modifiers[bf],a[wf]=n.modifiers[wf]),a}var yS=m.createContext(void 0);function vF(e){var t=et(),n=fx(),s=px(),a=xF(t,n,s),o=hF(t.modifiers),i=we(we({},a),o);return r.jsx(yS.Provider,{value:i,children:e.children})}function wS(){var e=m.useContext(yS);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function yF(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function wF(e){return!!(e&&typeof e=="object"&&"from"in e)}function bF(e){return!!(e&&typeof e=="object"&&"after"in e)}function jF(e){return!!(e&&typeof e=="object"&&"before"in e)}function NF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function _F(e,t){var n,s=t.from,a=t.to;if(s&&a){var o=es(a,s)<0;o&&(n=[a,s],s=n[0],a=n[1]);var i=es(e,s)>=0&&es(a,e)>=0;return i}return a?gn(a,e):s?gn(s,e):!1}function SF(e){return lx(e)}function CF(e){return Array.isArray(e)&&e.every(lx)}function kF(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(SF(n))return gn(e,n);if(CF(n))return n.includes(e);if(wF(n))return _F(e,n);if(NF(n))return n.dayOfWeek.includes(e.getDay());if(yF(n)){var s=es(n.before,e),a=es(n.after,e),o=s>0,i=a<0,l=hp(n.before,n.after);return l?i&&o:o||i}return bF(n)?es(e,n.after)>0:jF(n)?es(n.before,e)>0:typeof n=="function"?n(e):!1})}function gx(e,t,n){var s=Object.keys(t).reduce(function(o,i){var l=t[i];return kF(e,l)&&o.push(i),o},[]),a={};return s.forEach(function(o){return a[o]=!0}),n&&!ux(e,n)&&(a.outside=!0),a}function EF(e,t){for(var n=wn(e[0]),s=cx(e[e.length-1]),a,o,i=n;i<=s;){var l=gx(i,t),c=!l.disabled&&!l.hidden;if(!c){i=en(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=en(i,1)}return o||a}var PF=365;function bS(e,t){var n=t.moveBy,s=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,f={day:en,week:up,month:xr,year:r5,startOfWeek:function(v){return a.ISOWeek?to(v):Mr(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?lS(v):dx(v,{locale:h,weekStartsOn:c})}},p=f[n](e,s==="after"?1:-1);s==="before"&&d?p=s5([d,p]):s==="after"&&u&&(p=a5([u,p]));var w=!0;if(o){var x=gx(p,o);w=!x.disabled&&!x.hidden}return w?p:l.count>PF?l.lastFocused:bS(p,{moveBy:n,direction:s,context:a,modifiers:o,retry:we(we({},l),{count:l.count+1})})}var jS=m.createContext(void 0);function TF(e){var t=wc(),n=wS(),s=m.useState(),a=s[0],o=s[1],i=m.useState(),l=i[0],c=i[1],d=EF(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),o(void 0)},f=function(v){o(v)},p=et(),w=function(v,y){if(a){var g=bS(a,{moveBy:v,direction:y,context:p,modifiers:n});gn(a,g)||(t.goToDate(g,a),f(g))}},x={focusedDay:a,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return r.jsx(jS.Provider,{value:x,children:e.children})}function xx(){var e=m.useContext(jS);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function RF(e,t){var n=wS(),s=gx(e,n,t);return s}var vx=m.createContext(void 0);function AF(e){if(!lh(e.initialProps)){var t={selected:void 0};return r.jsx(vx.Provider,{value:t,children:e.children})}return r.jsx(OF,{initialProps:e.initialProps,children:e.children})}function OF(e){var t=e.initialProps,n=e.children,s=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:s};return r.jsx(vx.Provider,{value:a,children:n})}function NS(){var e=m.useContext(vx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function DF(e,t){var n=et(),s=NS(),a=fx(),o=px(),i=xx(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,h=i.blur,f=i.focus,p=i.focusMonthBefore,w=i.focusMonthAfter,x=i.focusYearBefore,v=i.focusYearAfter,y=i.focusStartOfWeek,g=i.focusEndOfWeek,b=function(D){var T,A,F,U;lh(n)?(T=s.onDayClick)===null||T===void 0||T.call(s,e,t,D):vc(n)?(A=a.onDayClick)===null||A===void 0||A.call(a,e,t,D):yc(n)?(F=o.onDayClick)===null||F===void 0||F.call(o,e,t,D):(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,D)},j=function(D){var T;f(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,D)},k=function(D){var T;h(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,D)},E=function(D){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,D)},_=function(D){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,D)},N=function(D){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,D)},S=function(D){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,D)},C=function(D){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,D)},O=function(D){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,D)},R=function(D){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,D)},P=function(D){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,D)},I=function(D){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,D)},z=function(D){var T;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?x():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?v():w();break;case"Home":D.preventDefault(),D.stopPropagation(),y();break;case"End":D.preventDefault(),D.stopPropagation(),g();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,D)},B={onClick:b,onFocus:j,onBlur:k,onKeyDown:z,onKeyUp:I,onMouseEnter:E,onMouseLeave:_,onPointerEnter:N,onPointerLeave:S,onTouchCancel:C,onTouchEnd:O,onTouchMove:R,onTouchStart:P};return B}function MF(){var e=et(),t=NS(),n=fx(),s=px(),a=lh(e)?t.selected:vc(e)?n.selected:yc(e)?s.selected:void 0;return a}function IF(e){return Object.values(vr).includes(e)}function LF(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)n.push(a);else if(IF(s)){var o=e.classNames["day_".concat(s)];o&&n.push(o)}}),n}function $F(e,t){var n=we({},e.styles.day);return Object.keys(t).forEach(function(s){var a;n=we(we({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function FF(e,t,n){var s,a,o,i=et(),l=xx(),c=RF(e,t),d=DF(e,c),u=MF(),h=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var E;c.outside||l.focusedDay&&h&&gn(l.focusedDay,e)&&((E=n.current)===null||E===void 0||E.focus())},[l.focusedDay,e,n,h,c.outside]);var f=LF(i,c).join(" "),p=$F(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:oF,v=r.jsx(x,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:f,children:v,role:"gridcell"},g=l.focusTarget&&gn(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&gn(l.focusedDay,e),j=we(we(we({},y),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=b||g?0:-1,s)),d),k={isButton:h,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:y};return k}function UF(e){var t=m.useRef(null),n=FF(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(cu,we({name:"day",ref:t},n.buttonProps)):r.jsx("div",we({},n.divProps))}function BF(e){var t=e.number,n=e.dates,s=et(),a=s.onWeekNumberClick,o=s.styles,i=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return r.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(p){a(t,n,p)};return r.jsx(cu,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:f,children:u})}function zF(e){var t,n,s=et(),a=s.styles,o=s.classNames,i=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:UF,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:BF,u;return i&&(u=r.jsx("td",{className:o.cell,style:a.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(h){return r.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:h})},m$(h))})]})}function m0(e,t,n){for(var s=n!=null&&n.ISOWeek?lS(t):dx(t,n),a=n!=null&&n.ISOWeek?to(e):Mr(e,n),o=es(s,a),i=[],l=0;l<=o;l++)i.push(en(a,l));var c=i.reduce(function(d,u){var h=n!=null&&n.ISOWeek?h$(u):v$(u,n),f=d.find(function(p){return p.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function WF(e,t){var n=m0(wn(e),cx(e),t);if(t!=null&&t.useFixedWeeks){var s=w$(e,t);if(s<6){var a=n[n.length-1],o=a.dates[a.dates.length-1],i=up(o,6-s),l=m0(up(o,1),i,t);n.push.apply(n,l)}}return n}function VF(e){var t,n,s,a=et(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,p=a.ISOWeek,w=WF(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:h,firstWeekContainsDate:f}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:aF,v=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:zF,y=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:nF;return r.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(x,{}),r.jsx("tbody",{className:i.tbody,style:l.tbody,children:w.map(function(g){return r.jsx(v,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),r.jsx(y,{displayMonth:e.displayMonth})]})}function qF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var HF=qF()?m.useLayoutEffect:m.useEffect,Nf=!1,QF=0;function p0(){return"react-day-picker-".concat(++QF)}function GF(e){var t,n=e??(Nf?p0():null),s=m.useState(n),a=s[0],o=s[1];return HF(function(){a===null&&o(p0())},[]),m.useEffect(function(){Nf===!1&&(Nf=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function KF(e){var t,n,s=et(),a=s.dir,o=s.classNames,i=s.styles,l=s.components,c=wc().displayMonths,d=GF(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],f=i.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,x=!p&&!w;a==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(h.push(o.caption_start),f=we(we({},f),i.caption_start)),w&&(h.push(o.caption_end),f=we(we({},f),i.caption_end)),x&&(h.push(o.caption_between),f=we(we({},f),i.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:tF;return r.jsxs("div",{className:h.join(" "),style:f,children:[r.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(VF,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function YF(e){var t=et(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function JF(e){var t,n,s=e.initialProps,a=et(),o=xx(),i=wc(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=we(we({},a.styles.root),a.style),f=Object.keys(s).filter(function(w){return w.startsWith("data-")}).reduce(function(w,x){var v;return we(we({},w),(v={},v[x]=s[x],v))},{}),p=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:YF;return r.jsx("div",we({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:r.jsx(p,{children:i.displayMonths.map(function(w,x){return r.jsx(KF,{displayIndex:x,displayMonth:w},x)})})}))}function XF(e){var t=e.children,n=j$(e,["children"]);return r.jsx(B$,{initialProps:n,children:r.jsx(J$,{children:r.jsx(AF,{initialProps:n,children:r.jsx(iF,{initialProps:n,children:r.jsx(dF,{initialProps:n,children:r.jsx(vF,{children:r.jsx(TF,{children:t})})})})})})})}function ZF(e){return r.jsx(XF,we({},e,{children:r.jsx(JF,{initialProps:e})}))}function Gl({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(ZF,{showOutsideDays:n,className:Z("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Z(sp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Z(sp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>r.jsx(gA,{className:"h-4 w-4"}),IconRight:({...a})=>r.jsx(iN,{className:"h-4 w-4"})},...s})}Gl.displayName="Calendar";var ch="Popover",[_S,H9]=At(ch,[fa]),bc=fa(),[e6,xa]=_S(ch),SS=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=bc(t),c=m.useRef(null),[d,u]=m.useState(!1),[h,f]=fr({prop:s,defaultProp:a??!1,onChange:o,caller:ch});return r.jsx(Vg,{...l,children:r.jsx(e6,{scope:t,contentId:ur(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:i,children:n})})};SS.displayName=ch;var CS="PopoverAnchor",t6=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=xa(CS,n),o=bc(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(i(),()=>l()),[i,l]),r.jsx(hc,{...o,...s,ref:t})});t6.displayName=CS;var kS="PopoverTrigger",ES=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=xa(kS,n),o=bc(n),i=be(t,a.triggerRef),l=r.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":OS(a.open),...s,ref:i,onClick:G(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:r.jsx(hc,{asChild:!0,...o,children:l})});ES.displayName=kS;var yx="PopoverPortal",[n6,r6]=_S(yx,{forceMount:void 0}),PS=e=>{const{__scopePopover:t,forceMount:n,children:s,container:a}=e,o=xa(yx,t);return r.jsx(n6,{scope:t,forceMount:n,children:r.jsx(Ct,{present:n||o.open,children:r.jsx(ki,{asChild:!0,container:a,children:s})})})};PS.displayName=yx;var vi="PopoverContent",TS=m.forwardRef((e,t)=>{const n=r6(vi,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,o=xa(vi,e.__scopePopover);return r.jsx(Ct,{present:s||o.open,children:o.modal?r.jsx(a6,{...a,ref:t}):r.jsx(o6,{...a,ref:t})})});TS.displayName=vi;var s6=ra("PopoverContent.RemoveScroll"),a6=m.forwardRef((e,t)=>{const n=xa(vi,e.__scopePopover),s=m.useRef(null),a=be(t,s),o=m.useRef(!1);return m.useEffect(()=>{const i=s.current;if(i)return th(i)},[]),r.jsx(gc,{as:s6,allowPinchZoom:!0,children:r.jsx(RS,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),o6=m.forwardRef((e,t)=>{const n=xa(vi,e.__scopePopover),s=m.useRef(!1),a=m.useRef(!1);return r.jsx(RS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),RS=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=xa(vi,n),p=bc(n);return Zu(),r.jsx(pc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:o,children:r.jsx(ao,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:r.jsx(Qu,{"data-state":OS(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AS="PopoverClose",i6=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=xa(AS,n);return r.jsx(ie.button,{type:"button",...s,ref:t,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});i6.displayName=AS;var l6="PopoverArrow",c6=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,a=bc(n);return r.jsx(Gu,{...a,...s,ref:t})});c6.displayName=l6;function OS(e){return e?"open":"closed"}var d6=SS,u6=ES,h6=PS,DS=TS;const du=d6,uu=u6,Kl=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>r.jsx(h6,{children:r.jsx(DS,{ref:a,align:t,sideOffset:n,className:Z("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Kl.displayName=DS.displayName;const _f=(...e)=>e.filter(Boolean).join(" "),g0=(e,t)=>t==="PPP"?e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):t==="yyyy-MM-dd"?e.toISOString().split("T")[0]:e.toLocaleDateString();function f6({isOpen:e,onClose:t,onSuccess:n,campusList:s,schoolList:a,currentstatusList:o,religionList:i}){const[l,c]=m.useState(!1),[d,u]=m.useState("basic"),[h,f]=m.useState(),{toast:p}=De(),[w,x]=m.useState({}),[v,y]=m.useState([]),[g,b]=m.useState([]),[j,k]=m.useState({first_name:"",middle_name:"",last_name:"",mobile_no:"",whatsapp_number:"",email:"",dob:"",city:"",block:"",state:"",district:"",pin_code:"",cast_id:"",gender:"",qualification_id:"",current_work_id:"",unique_number:"",religion_id:"",campus_id:"",school_id:"",set_name:"",exam_centre:"",date_of_testing:"",final_marks:"",qualifying_school:"",lr_status:"",lr_comments:"",cfr_status:"",cfr_comments:"",offer_letter_status:"",allotted_school:"",joining_status:"",final_notes:"",triptis_notes:"",stage_id:"",status_id:"",screening_status:"",interviews_status:"",decision_status:""}),E=()=>{k({first_name:"",middle_name:"",last_name:"",mobile_no:"",whatsapp_number:"",email:"",dob:"",city:"",block:"",state:"",district:"",pin_code:"",cast_id:"",gender:"",campus_id:"",school_id:"",qualification_id:"",current_work_id:"",unique_number:"",set_name:"",exam_centre:"",date_of_testing:"",final_marks:"",qualifying_school:"",lr_status:"",lr_comments:"",cfr_status:"",cfr_comments:"",offer_letter_status:"",allotted_school:"",joining_status:"",final_notes:"",triptis_notes:"",stage_id:"",status_id:"",screening_status:"",interviews_status:"",decision_status:"",religion_id:""}),f(void 0),u("basic"),x({})};m.useEffect(()=>{(async()=>{try{const I=await Yg();y(I||[])}catch(I){console.error("Error fetching castes:",I)}})()},[]),m.useEffect(()=>{(async()=>{try{const I=await f_();b(I||[])}catch(I){console.error("Error fetching qualifications:",I)}})()},[]);const _=(P,I)=>{k(z=>({...z,[P]:I})),w[P]&&x(z=>{const B={...z};return delete B[P],B})},N=()=>{const P={};return j.first_name.trim()||(P.name="Name is required"),j.mobile_no.trim()?/^\d{10}$/.test(j.mobile_no)||(P.mobile_no="Mobile number must be 10 digits"):P.mobile_no="Mobile number is required",x(P),Object.keys(P).length===0},S=async()=>{var P,I,z,B;if(!N()){p({title:"Validation Error",description:"Please fix the errors before submitting",variant:"destructive"});return}c(!0);try{const D={first_name:j.first_name,middle_name:j.middle_name,last_name:j.last_name,gender:j.gender||null,dob:j.dob||null,email:j.email||`${j.mobile_no}@example.com`,phone_number:j.mobile_no,whatsapp_number:j.whatsapp_number||null,state:j.state||null,city:j.city||null,block:j.block||null,district:j.district||null,pin_code:j.pin_code||null,cast_id:j.cast_id?Number(j.cast_id):null,qualification_id:j.qualification_id?Number(j.qualification_id):null,current_status_id:j.current_work_id?Number(j.current_work_id):null,campus_id:j.campus_id?Number(j.campus_id):null,school_id:j.school_id?Number(j.school_id):null,religion_id:j.religion_id?Number(j.religion_id):null,evaluation:null,redflag:null,image_url:null,gps_lat:null,gps_long:null,school_medium:null,percentage_in10th:null,math_marks_in10th:null,percentage_in12th:null,math_marks_in12th:null,partner_id:null,other_activities:null,last_updated:null,current_owner_id:null,partner_refer:null,school_stage_id:null},T=await m_(D),A={id:T.id,name:T.first_name+(T.middle_name?` ${T.middle_name}`:"")+(T.last_name?` ${T.last_name}`:""),mobile_no:T.phone_number,whatsapp_number:T.whatsapp_number,email:T.email,city:T.city,campus_id:T.campus_id,campus:((P=s==null?void 0:s.find(F=>Number(F.id)===Number(T.campus_id)))==null?void 0:P.campus_name)||"",school_id:T.school_id,school:((I=a==null?void 0:a.find(F=>F.id===T.school_id))==null?void 0:I.school_name)||"",gender:T.gender,qualification_id:T.qualification_id,qualification:((z=g==null?void 0:g.find(F=>F.id===T.qualification_id))==null?void 0:z.name)||"",current_status_id:T.current_status_id,current_work:((B=o==null?void 0:o.find(F=>F.id===T.current_status_id))==null?void 0:B.current_status_name)||""};p({title:"Success! ",description:"Applicant created successfully"}),n(A),E(),t()}catch(D){console.error("Error creating student:",D),p({title:"Error",description:D.message||"Failed to create student",variant:"destructive"})}finally{c(!1)}},C=P=>({basic:dr,screening:za,interviews:ns,final:rf})[P]||Rg,O=P=>{switch(P){case"basic":return j.first_name&&j.mobile_no&&j.stage_id;case"screening":return j.stage_id!=="screening"||j.screening_status;case"interviews":return j.stage_id!=="interviews"||j.interviews_status;case"final":return j.stage_id!=="decision"||j.decision_status;default:return!1}},R=()=>{E(),t()};return r.jsx(Qt,{open:e,onOpenChange:R,children:r.jsxs(Gt,{className:"w-[95vw] max-w-5xl h-[95vh] max-h-[95vh] overflow-hidden flex flex-col p-0 sm:p-6",children:[r.jsxs(rn,{className:"pb-4 sm:pb-6 px-4 sm:px-0 pt-4 sm:pt-0 flex-shrink-0",children:[r.jsx(Kt,{className:"text-xl sm:text-2xl font-bold text-center",children:"Add New Applicant"}),r.jsx("div",{className:"flex justify-center mt-3 sm:mt-4",children:r.jsx("div",{className:"flex space-x-2 sm:space-x-4",children:["basic","screening","interviews","final"].map((P,I)=>{const z=C(P),B=O(P),D=d===P;return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:_f("flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 transition-colors",D||B?"bg-orange-500 border-orange-500 text-white":"border-gray-300 text-gray-400"),children:B?r.jsx(lN,{className:"w-3 h-3 sm:w-5 sm:h-5"}):r.jsx(z,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),I<3&&r.jsx("div",{className:_f("w-6 sm:w-12 h-0.5 mx-1 sm:mx-2",B?"bg-orange-400":"bg-orange-300")})]},P)})})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-0",children:r.jsxs(ox,{value:d,onValueChange:u,className:"w-full",children:[r.jsxs(sh,{className:"grid w-full grid-cols-2 sm:grid-cols-4 mb-4 sm:mb-8 h-auto",children:[r.jsxs(Un,{value:"basic",className:"flex flex-col sm:flex-row items-center space-y-1 sm:space-y-0 sm:space-x-2 p-2 sm:p-3",children:[r.jsx(dr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Basic"})]}),r.jsxs(Un,{value:"screening",className:"flex flex-col sm:flex-row items-center space-y-1 sm:space-y-0 sm:space-x-2 p-2 sm:p-3",children:[r.jsx(za,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Screening"})]}),r.jsxs(Un,{value:"interviews",className:"flex flex-col sm:flex-row items-center space-y-1 sm:space-y-0 sm:space-x-2 p-2 sm:p-3",children:[r.jsx(ns,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Interviews"})]}),r.jsxs(Un,{value:"final",className:"flex flex-col sm:flex-row items-center space-y-1 sm:space-y-0 sm:space-x-2 p-2 sm:p-3",children:[r.jsx(rf,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Final"})]})]}),r.jsxs(Bn,{value:"basic",className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-indigo-50 p-4 sm:p-6 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(dr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Applicant Information"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"first_name",className:"text-sm font-medium",children:"First Name *"}),r.jsx(ae,{id:"first_name",value:j.first_name,onChange:P=>_("first_name",P.target.value),placeholder:"Enter first name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"middle_name",className:"text-sm font-medium",children:"Middle Name"}),r.jsx(ae,{id:"middle_name",value:j.middle_name,onChange:P=>_("middle_name",P.target.value),placeholder:"Enter middle name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"last_name",className:"text-sm font-medium",children:"Last Name *"}),r.jsx(ae,{id:"last_name",value:j.last_name,onChange:P=>_("last_name",P.target.value),placeholder:"Enter last name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"mobile",className:"text-sm font-medium",children:"Phone Number *"}),r.jsx(ae,{id:"mobile",value:j.mobile_no,onChange:P=>_("mobile_no",P.target.value),placeholder:"Enter 10-digit phone number",maxLength:10,className:w.mobile_no?"border-red-500":""}),w.mobile_no&&r.jsxs("p",{className:"text-red-500 text-xs flex items-center",children:[r.jsx(Tg,{className:"w-3 h-3 mr-1"}),w.mobile_no]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"whatsapp",className:"text-sm font-medium",children:"WhatsApp Number"}),r.jsx(ae,{id:"whatsapp",value:j.whatsapp_number,onChange:P=>_("whatsapp_number",P.target.value),placeholder:"Enter WhatsApp number",maxLength:10})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),r.jsx(ae,{id:"email",type:"email",value:j.email,onChange:P=>_("email",P.target.value),placeholder:"Enter email address"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"dob",className:"text-sm font-medium",children:"Date of Birth"}),r.jsx(ae,{id:"dob",type:"date",value:j.dob,onChange:P=>_("dob",P.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"gender",className:"text-sm font-medium",children:"Gender"}),r.jsxs(Fe,{value:j.gender,onValueChange:P=>_("gender",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select gender"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"male",children:"Male"}),r.jsx(re,{value:"female",children:"Female"}),r.jsx(re,{value:"other",children:"Other"})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-emerald-50 p-4 sm:p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Location Details"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"state",className:"text-sm font-medium",children:"State"}),r.jsx(ae,{id:"state",value:j.state,onChange:P=>_("state",P.target.value),placeholder:"Enter state"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"district",className:"text-sm font-medium",children:"District"}),r.jsx(ae,{id:"district",value:j.district,onChange:P=>_("district",P.target.value),placeholder:"Enter district"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"city",className:"text-sm font-medium",children:"City"}),r.jsx(ae,{id:"city",value:j.city,onChange:P=>_("city",P.target.value),placeholder:"Enter city"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"block",className:"text-sm font-medium",children:"Block"}),r.jsx(ae,{id:"block",value:j.block,onChange:P=>_("block",P.target.value),placeholder:"Enter block"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"pin_code",className:"text-sm font-medium",children:"PIN Code"}),r.jsx(ae,{id:"pin_code",value:j.pin_code,onChange:P=>_("pin_code",P.target.value),placeholder:"Enter PIN code",maxLength:6})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 p-4 sm:p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"caste_id",className:"text-sm font-medium",children:"Caste"}),r.jsxs(Fe,{value:j.cast_id?String(j.cast_id):"",onValueChange:P=>_("cast_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select caste"})}),r.jsx(Ve,{children:v==null?void 0:v.map(P=>r.jsx(re,{value:String(P.id),children:P.cast_name},P.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"qualification_id",className:"text-sm font-medium",children:"Qualification"}),r.jsxs(Fe,{value:j.qualification_id?String(j.qualification_id):"",onValueChange:P=>_("qualification_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select qualification"})}),r.jsx(Ve,{children:g==null?void 0:g.map(P=>r.jsx(re,{value:String(P.id),children:P.qualification_name},P.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"current_work",className:"text-sm font-medium",children:"Current Work"}),r.jsxs(Fe,{value:j.current_work_id?String(j.current_work_id):"",onValueChange:P=>_("current_work_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select current work"})}),r.jsx(Ve,{children:o==null?void 0:o.map(P=>r.jsx(re,{value:String(P.id),children:P.current_status_name},P.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"school_id",className:"text-sm font-medium",children:"School"}),r.jsxs(Fe,{value:j.school_id?String(j.school_id):"",onValueChange:P=>_("school_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select school"})}),r.jsx(Ve,{children:a==null?void 0:a.map(P=>r.jsx(re,{value:String(P.id),children:P.school_name},P.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"campus_id",className:"text-sm font-medium",children:"Campus"}),r.jsxs(Fe,{value:j.campus_id?String(j.campus_id):"",onValueChange:P=>_("campus_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select Campus"})}),r.jsx(Ve,{side:"bottom",align:"end",children:s==null?void 0:s.map(P=>r.jsx(re,{value:String(P.id),children:P.campus_name},P.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"religion_id",className:"text-sm font-medium",children:"Religion"}),r.jsxs(Fe,{value:j.religion_id?String(j.religion_id):"",onValueChange:P=>_("religion_id",P),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select religion"})}),r.jsx(Ve,{children:i==null?void 0:i.map(P=>r.jsx(re,{value:String(P.id),children:P.religion_name},P.id))})]})]})]}),r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsx(J,{htmlFor:"triptis_notes",className:"text-sm font-medium",children:"Communication Notes"}),r.jsx(Wt,{id:"triptis_notes",value:j.triptis_notes,onChange:P=>_("triptis_notes",P.target.value),placeholder:"Enter communication notes",rows:3,className:"resize-none"})]})]})]}),r.jsx(Bn,{value:"screening",className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 sm:p-6 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(za,{className:"w-5 h-5 mr-2 text-orange-600"}),"Screening Details"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"screening_status",className:"text-sm font-medium",children:"Screening Status"}),r.jsx(Fe,{value:j.screening_status,onValueChange:P=>_("screening_status",P),children:r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select screening status"})})})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"set_name",className:"text-sm font-medium",children:"Set Name"}),r.jsx(ae,{id:"set_name",value:j.set_name,onChange:P=>_("set_name",P.target.value),placeholder:"Enter set name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"exam_centre",className:"text-sm font-medium",children:"Exam Centre"}),r.jsx(ae,{id:"exam_centre",value:j.exam_centre,onChange:P=>_("exam_centre",P.target.value),placeholder:"Enter exam centre"})]}),r.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[r.jsx(J,{className:"text-sm font-medium",children:"Date of Testing"}),r.jsxs(du,{children:[r.jsx(uu,{asChild:!0,children:r.jsxs($,{variant:"outline",className:_f("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[r.jsx(mr,{className:"mr-2 h-4 w-4"}),h?g0(h,"PPP"):r.jsx("span",{children:"Pick a date"})]})}),r.jsx(Kl,{className:"w-auto p-0",children:r.jsx(Gl,{mode:"single",selected:h,onSelect:P=>{f(P),_("date_of_testing",P?g0(P,"yyyy-MM-dd"):"")},initialFocus:!0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"final_marks",className:"text-sm font-medium",children:"Final Marks"}),r.jsx(ae,{id:"final_marks",type:"number",value:j.final_marks,onChange:P=>_("final_marks",P.target.value),placeholder:"Enter final marks",min:"0",max:"100"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"qualifying_school",className:"text-sm font-medium",children:"Qualifying School"}),r.jsx(ae,{id:"qualifying_school",value:j.qualifying_school,onChange:P=>_("qualifying_school",P.target.value),placeholder:"Enter qualifying school"})]})]})]})}),r.jsx(Bn,{value:"interviews",className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 p-4 sm:p-6 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(ns,{className:"w-5 h-5 mr-2 text-teal-600"}),"Interview Details"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"interviews_status",className:"text-sm font-medium",children:"Interview Status"}),r.jsx(Fe,{value:j.interviews_status,onValueChange:P=>_("interviews_status",P),children:r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select interview status"})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"lr_status",className:"text-sm font-medium",children:"Learner Round Status"}),r.jsx(ae,{id:"lr_status",value:j.lr_status,onChange:P=>_("lr_status",P.target.value),placeholder:"Enter learner round status"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"lr_comments",className:"text-sm font-medium",children:"Learner Round Feedback"}),r.jsx(Wt,{id:"lr_comments",value:j.lr_comments,onChange:P=>_("lr_comments",P.target.value),placeholder:"Enter learner round feedback",rows:3})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"cfr_status",className:"text-sm font-medium",children:"Cultural Fit Round Status"}),r.jsx(ae,{id:"cfr_status",value:j.cfr_status,onChange:P=>_("cfr_status",P.target.value),placeholder:"Enter cultural fit round status"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"cfr_comments",className:"text-sm font-medium",children:"Cultural Fit Round Feedback"}),r.jsx(Wt,{id:"cfr_comments",value:j.cfr_comments,onChange:P=>_("cfr_comments",P.target.value),placeholder:"Enter cultural fit round Feedback",rows:3})]})]})]})]})}),r.jsx(Bn,{value:"final",className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-4 sm:p-6 rounded-lg",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(rf,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Final Stage Details"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"decision_status",className:"text-sm font-medium",children:"Final Decision Status"}),r.jsx(Fe,{value:j.decision_status,onValueChange:P=>_("decision_status",P),children:r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select decision status"})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"offer_letter_status",className:"text-sm font-medium",children:"Offer Letter Status"}),r.jsx(ae,{id:"offer_letter_status",value:j.offer_letter_status,onChange:P=>_("offer_letter_status",P.target.value),placeholder:"Enter offer letter status"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"allotted_school",className:"text-sm font-medium",children:"Allotted School"}),r.jsx(ae,{id:"allotted_school",value:j.allotted_school,onChange:P=>_("allotted_school",P.target.value),placeholder:"Enter allotted school"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"joining_status",className:"text-sm font-medium",children:"Joining Status"}),r.jsx(ae,{id:"joining_status",value:j.joining_status,onChange:P=>_("joining_status",P.target.value),placeholder:"Enter joining status"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"final_notes",className:"text-sm font-medium",children:"Final Notes"}),r.jsx(Wt,{id:"final_notes",value:j.final_notes,onChange:P=>_("final_notes",P.target.value),placeholder:"Enter final notes",rows:3})]})]})]})]})})]})}),r.jsxs("div",{className:"flex-shrink-0 flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 p-4 sm:pt-4 border-t bg-white",children:[r.jsx($,{variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancel"}),r.jsx($,{onClick:S,disabled:l,className:"w-full sm:w-auto",children:l?"Saving...":"Save Applicant"})]})]})})}const m6={contact:[],screening:["pass","fail","pending"],interviews:["booked","pending","rescheduled","lr_qualified","lr_failed","cfr_qualified","cfr_failed"],decision:["offer_pending","offer_sent","offer_rejected","offer_accepted"]};function MS({isOpen:e,onClose:t,onApplyFilters:n,currentFilters:s,students:a}){const[o,i]=m.useState(s),[l,c]=m.useState({partners:[],districts:[],markets:[]});De(),m.useEffect(()=>{if(e){i(s);const p=[...new Set(a.map(v=>v.partner).filter(Boolean))],w=[...new Set(a.map(v=>v.district).filter(Boolean))],x=[...new Set(a.map(v=>v.market).filter(Boolean))];c({partners:p,districts:w,markets:x})}},[e,s,a]);const d=(p,w,x)=>{i(v=>({...v,[p]:x?[...v[p],w]:v[p].filter(y=>y!==w)}))},u=()=>{i({stage:"all",status:"all",examMode:"all",interviewMode:"all",partner:[],district:[],market:[],dateRange:{type:"application"}})},h=()=>{n(o),t()},f=o.stage&&o.stage!=="all"?m6[o.stage]||[]:[];return r.jsx(Qt,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsx(rn,{className:"flex-shrink-0",children:r.jsxs(Kt,{className:"flex items-center gap-2",children:[r.jsx(Ei,{className:"w-5 h-5"}),"Advanced Filters"]})}),r.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold",children:"Stage & Status"}),r.jsxs("div",{children:[r.jsx(J,{children:"Stage"}),r.jsxs(Fe,{value:o.stage,onValueChange:p=>i(w=>({...w,stage:p,status:"all"})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select stage"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"all",children:"All Stages"}),r.jsx(re,{value:"contact",children:"Contact"}),r.jsx(re,{value:"screening",children:"Screening"}),r.jsx(re,{value:"interviews",children:"Interviews"}),r.jsx(re,{value:"decision",children:"Decision"})]})]})]}),f.length>0&&r.jsxs("div",{children:[r.jsx(J,{children:"Status"}),r.jsxs(Fe,{value:o.status,onValueChange:p=>i(w=>({...w,status:p})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select status"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"all",children:"All Statuses"}),f.map(p=>r.jsx(re,{value:p,children:p.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase())},p))]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold",children:"Mode"}),r.jsxs("div",{children:[r.jsx(J,{children:"Exam Mode"}),r.jsxs(Fe,{value:o.examMode,onValueChange:p=>i(w=>({...w,examMode:p})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select exam mode"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"all",children:"All Modes"}),r.jsx(re,{value:"online",children:"Online"}),r.jsx(re,{value:"offline",children:"Offline"})]})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Interview Mode"}),r.jsxs(Fe,{value:o.interviewMode,onValueChange:p=>i(w=>({...w,interviewMode:p})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select interview mode"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"all",children:"All Modes"}),r.jsx(re,{value:"online",children:"Online"}),r.jsx(re,{value:"offline",children:"Offline"})]})]})]})]}),["partners","districts","markets"].map(p=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold",children:p.charAt(0).toUpperCase()+p.slice(1)}),r.jsx("div",{className:"max-h-32 overflow-y-auto border rounded p-2",children:l[p].length===0?r.jsxs("p",{className:"text-sm text-muted-foreground",children:["No ",p," available"]}):l[p].map(w=>r.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[r.jsx(mc,{id:`${p}-${w}`,checked:Array.isArray(o[p.replace("s","")])?o[p.replace("s","")].includes(w):!1,onCheckedChange:x=>d(p.replace("s",""),w,!!x)}),r.jsx(J,{htmlFor:`${p}-${w}`,className:"text-sm",children:w})]},w))})]},p)),r.jsxs("div",{className:"space-y-4 col-span-full",children:[r.jsx("h3",{className:"font-semibold",children:"Date Range"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{children:"Date Type"}),r.jsxs(Fe,{value:o.dateRange.type,onValueChange:p=>i(w=>({...w,dateRange:{...w.dateRange,type:p}})),children:[r.jsx(Le,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"application",children:"Application Date"}),r.jsx(re,{value:"lastUpdate",children:"Last Update"}),r.jsx(re,{value:"interview",children:"Interview Date"})]})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"From Date"}),r.jsxs(du,{children:[r.jsx(uu,{asChild:!0,children:r.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(mr,{className:"mr-2 h-4 w-4"}),o.dateRange.from?Hn(o.dateRange.from,"PPP"):"Pick a date"]})}),r.jsx(Kl,{className:"w-auto p-0",children:r.jsx(Gl,{mode:"single",selected:o.dateRange.from,onSelect:p=>i(w=>({...w,dateRange:{...w.dateRange,from:p}})),initialFocus:!0})})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"To Date"}),r.jsxs(du,{children:[r.jsx(uu,{asChild:!0,children:r.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(mr,{className:"mr-2 h-4 w-4"}),o.dateRange.to?Hn(o.dateRange.to,"PPP"):"Pick a date"]})}),r.jsx(Kl,{className:"w-auto p-0",children:r.jsx(Gl,{mode:"single",selected:o.dateRange.to,onSelect:p=>i(w=>({...w,dateRange:{...w.dateRange,to:p}})),initialFocus:!0})})]})]})]})]})]})}),r.jsxs("div",{className:"flex justify-between pt-4 border-t border-border flex-shrink-0",children:[r.jsx($,{variant:"outline",onClick:u,children:"Reset All"}),r.jsxs("div",{className:"space-x-2",children:[r.jsx($,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx($,{onClick:h,className:"bg-primary text-primary-foreground",children:"Apply Filters"})]})]})]})})}const p6="modulepreload",g6=function(e){return"/Admission-Dashboard/"+e},x0={},jc=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=g6(c),c in x0)return;x0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":p6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},x6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jc(async()=>{const{default:s}=await Promise.resolve().then(()=>Li);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class wx extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class v6 extends wx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v0 extends wx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class y0 extends wx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fp||(fp={}));var y6=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class w6{constructor(t,{headers:n={},customFetch:s,region:a=fp.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=x6(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return y6(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(x=>{throw new v6(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new v0(h);if(!h.ok)throw new y0(h);let p=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield h.json():p==="application/octet-stream"?w=yield h.blob():p==="text/event-stream"?w=h:p==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof y0||a instanceof v0?a.context:void 0}}})}}var fn={},bx={},dh={},Nc={},uh={},hh={},b6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yi=b6();const j6=yi.fetch,IS=yi.fetch.bind(yi),LS=yi.Headers,N6=yi.Request,_6=yi.Response,Li=Object.freeze(Object.defineProperty({__proto__:null,Headers:LS,Request:N6,Response:_6,default:IS,fetch:j6},Symbol.toStringTag,{value:"Module"})),S6=wE(Li);var fh={};Object.defineProperty(fh,"__esModule",{value:!0});let C6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fh.default=C6;var $S=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hh,"__esModule",{value:!0});const k6=$S(S6),E6=$S(fh);let P6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=k6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let d=null,u=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),v=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await o.text();try{d=JSON.parse(x),Array.isArray(d)&&o.status===404&&(u=[],d=null,f=200,p="OK")}catch{o.status===404&&x===""?(f=204,p="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,p="OK"),d&&this.shouldThrowOnError)throw new E6.default(d)}return{error:d,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};hh.default=P6;var T6=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});const R6=T6(hh);let A6=class extends R6.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};uh.default=A6;var O6=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});const D6=O6(uh);let M6=class extends D6.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Nc.default=M6;var I6=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dh,"__esModule",{value:!0});const Xi=I6(Nc);let L6=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),s&&(this.headers.Prefer=`count=${s}`),new Xi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Xi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Xi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dh.default=L6;var mh={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.version=void 0;ph.version="0.0.0-automated";Object.defineProperty(mh,"__esModule",{value:!0});mh.DEFAULT_HEADERS=void 0;const $6=ph;mh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$6.version}`};var FS=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bx,"__esModule",{value:!0});const F6=FS(dh),U6=FS(Nc),B6=mh;let z6=class US{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},B6.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new F6.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new US(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(i=s?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(i="POST",c=n);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new U6.default({method:i,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};bx.default=z6;var $i=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const BS=$i(bx);fn.PostgrestClient=BS.default;const zS=$i(dh);fn.PostgrestQueryBuilder=zS.default;const WS=$i(Nc);fn.PostgrestFilterBuilder=WS.default;const VS=$i(uh);fn.PostgrestTransformBuilder=VS.default;const qS=$i(hh);fn.PostgrestBuilder=qS.default;const HS=$i(fh);fn.PostgrestError=HS.default;var W6=fn.default={PostgrestClient:BS.default,PostgrestQueryBuilder:zS.default,PostgrestFilterBuilder:WS.default,PostgrestTransformBuilder:VS.default,PostgrestBuilder:qS.default,PostgrestError:HS.default};const{PostgrestClient:V6,PostgrestQueryBuilder:X9,PostgrestFilterBuilder:Z9,PostgrestTransformBuilder:eW,PostgrestBuilder:tW,PostgrestError:nW}=W6;function q6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const H6=q6(),Q6="2.11.15",G6=`realtime-js/${Q6}`,K6="1.0.0",QS=1e4,Y6=1e3;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var Ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ut||(Ut={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var mp;(function(e){e.websocket="websocket"})(mp||(mp={}));var ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ka||(ka={}));class J6{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=s.decode(t.slice(i,i+a));i=i+a;const c=s.decode(t.slice(i,i+o));i=i+o;const d=JSON.parse(s.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class GS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xe||(Xe={}));const w0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((o,i)=>(o[i]=X6(i,e,t,a),o),{})},X6=(e,t,n,s)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=n[e];return o&&!s.includes(o)?KS(o,i):pp(i)},KS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nU(t,n)}switch(e){case Xe.bool:return Z6(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return eU(t);case Xe.json:case Xe.jsonb:return tU(t);case Xe.timestamp:return rU(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return pp(t);default:return pp(t)}},pp=e=>e,Z6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>KS(t,l))}return e},rU=e=>typeof e=="string"?e.replace(" ","T"):e,YS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Sf{constructor(t,n,s={},a=QS){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var b0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(b0||(b0={}));class bl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=bl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bl.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(d,u)=>{i[d]||(c[d]=u)}),this.map(i,(d,u)=>{const h=o[d];if(h){const f=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),w=u.filter(v=>p.indexOf(v.presence_ref)<0),x=h.filter(v=>f.indexOf(v.presence_ref)<0);w.length>0&&(l[d]=w),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}s(l,u,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(j0||(j0={}));var N0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(N0||(N0={}));var Gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gr||(Gr={}));class jx{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sf(this,or.join,this.params,this.timeout),this.rejoinTimer=new GS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new bl(this),this.broadcastEndpointURL=YS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Gr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Gr.CLOSED));const c={},d={broadcast:o,presence:i,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Gr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let x=0;x<p;x++){const v=f[x],{filter:{event:y,schema:g,table:b,filter:j}}=v,k=u&&u[x];if(k&&k.event===y&&k.schema===g&&k.table===b&&k.filter===j)w.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=Ut.errored,t==null||t(Gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Gr.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ut.errored,t==null||t(Gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Sf(this,or.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const a=new AbortController,o=setTimeout(()=>a.abort(),s),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),i}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sf(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=or;if(s&&[l,c,d,u].indexOf(i)>=0&&s!==this._joinRef())return;let f=this._onMessage(i,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,x,v;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(x=p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(f,s)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var w,x,v,y,g,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,k=(w=p.filter)===null||w===void 0?void 0:w.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:v,commit_timestamp:y,type:g,errors:b}=w;f=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:y,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(f,s)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),o={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&jx.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=w0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=w0(t.columns,t.old_record)),n}}const _0=()=>{},sU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aU{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=QS,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_0,this.ref=0,this.logger=_0,this.conn=null,this.sendBuffer=[],this.serializer=new J6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>jc(async()=>{const{default:c}=await Promise.resolve().then(()=>Li);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${mp.websocket}`,this.httpEndpoint=YS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new GS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=H6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K6}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return ka.Connecting;case wl.open:return ka.Open;case wl.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===s);if(a)return a;{const o=new jx(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:s,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:G6};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(or.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Y6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:o,ref:i}=n;s==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${s} ${a} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([sU],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Nx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oU extends Nx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gp extends Nx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var iU=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jc(async()=>{const{default:s}=await Promise.resolve().then(()=>Li);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},lU=()=>iU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jc(()=>Promise.resolve().then(()=>Li),void 0)).Response:Response}),xp=e=>{if(Array.isArray(e))return e.map(n=>xp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=xp(s)}),t};var io=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Cf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cU=(e,t,n)=>io(void 0,void 0,void 0,function*(){const s=yield lU();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new oU(Cf(a),e.status||500))}).catch(a=>{t(new gp(Cf(a),a))}):t(new gp(Cf(e),e))}),dU=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function _c(e,t,n,s,a,o){return io(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,dU(t,s,a,o)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>cU(c,l,s))})})}function hu(e,t,n,s){return io(this,void 0,void 0,function*(){return _c(e,"GET",t,n,s)})}function ks(e,t,n,s,a){return io(this,void 0,void 0,function*(){return _c(e,"POST",t,s,a,n)})}function uU(e,t,n,s,a){return io(this,void 0,void 0,function*(){return _c(e,"PUT",t,s,a,n)})}function hU(e,t,n,s){return io(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function XS(e,t,n,s,a){return io(this,void 0,void 0,function*(){return _c(e,"DELETE",t,s,a,n)})}var ln=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const fU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mU{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=JS(a)}uploadOrUpdate(t,n,s,a){return ln(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},S0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=s,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}upload(t,n,s){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return ln(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:S0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield ks(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Nx("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}update(t,n,s){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return ln(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}copy(t,n,s){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield ks(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return ln(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield ks(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return ln(this,void 0,void 0,function*(){try{const a=yield ks(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}download(t,n){return ln(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield hu(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}info(t){return ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield hu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xp(s),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}exists(t){return ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(kt(s)&&s instanceof gp){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return ln(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(t,n,s){return ln(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fU),n),{prefix:t||""});return{data:yield ks(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const pU="2.7.1",gU={"X-Client-Info":`storage-js/${pU}`};var xo=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class xU{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},gU),n),this.fetch=JS(s)}listBuckets(){return xo(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return xo(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xo(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return xo(this,void 0,void 0,function*(){try{return{data:yield uU(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return xo(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xo(this,void 0,void 0,function*(){try{return{data:yield XS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class vU extends xU{constructor(t,n={},s){super(t,n,s)}from(t){return new mU(this.url,this.headers,t,this.fetch)}}const yU="2.51.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const wU={"X-Client-Info":`supabase-js-${il}/${yU}`},bU={headers:wU},jU={schema:"public"},NU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_U={};var SU=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const CU=e=>{let t;return e?t=e:typeof fetch>"u"?t=IS:t=fetch,(...n)=>t(...n)},kU=()=>typeof Headers>"u"?LS:Headers,EU=(e,t,n)=>{const s=CU(n),a=kU();return(o,i)=>SU(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(o,Object.assign(Object.assign({},i),{headers:d}))})};var PU=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function TU(e){return e.endsWith("/")?e:e+"/"}function RU(e,t){var n,s;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>PU(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ZS="2.71.0",No=30*1e3,vp=3,kf=vp*No,AU="http://localhost:9999",OU="supabase.auth.token",DU={"X-Client-Info":`gotrue-js/${ZS}`},yp="X-Supabase-Api-Version",eC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IU=10*60*1e3;class _x extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LU extends _x{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function $U(e){return ke(e)&&e.name==="AuthApiError"}class tC extends _x{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class va extends _x{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class _s extends va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FU(e){return ke(e)&&e.name==="AuthSessionMissingError"}class ed extends va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nd extends va{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UU(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class C0 extends va{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wp extends va{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ef(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class k0 extends va{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class bp extends va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E0=` 	
\r=`.split(""),BU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<E0.length;t+=1)e[E0[t].charCodeAt(0)]=-2;for(let t=0;t<fu.length;t+=1)e[fu[t].charCodeAt(0)]=t;return e})();function P0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(fu[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(fu[s]),t.queuedBits-=6}}function nC(e,t,n){const s=BU[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function T0(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{VU(i,s,n)};for(let i=0;i<e.length;i+=1)nC(e.charCodeAt(i),a,o);return t.join("")}function zU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WU(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}zU(s,t)}}function VU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qU(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)nC(e.charCodeAt(a),n,s);return new Uint8Array(t)}function HU(e){const t=[];return WU(e,n=>t.push(n)),new Uint8Array(t)}function QU(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>P0(a,n,s)),P0(null,n,s),t.join("")}function GU(e){return Math.round(Date.now()/1e3)+e}function KU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",ba={tested:!1,writable:!1},rC=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ba.tested)return ba.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ba.tested=!0,ba.writable=!0}catch{ba.tested=!0,ba.writable=!1}return ba.writable};function YU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const sC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jc(async()=>{const{default:s}=await Promise.resolve().then(()=>Li);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},JU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_o=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ja=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bs=async(e,t)=>{await e.removeItem(t)};class gh{constructor(){this.promise=new gh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gh.promiseConstructor=Promise;function Pf(e){const t=e.split(".");if(t.length!==3)throw new bp("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!MU.test(t[s]))throw new bp("JWT not in base64url format");return{header:JSON.parse(T0(t[0])),payload:JSON.parse(T0(t[1])),signature:qU(t[2]),raw:{header:t[0],payload:t[1]}}}async function XU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZU(e,t){return new Promise((s,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){s(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function e8(e){return("0"+e.toString(16)).substr(-2)}function t8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,e8).join("")}async function n8(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function r8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await n8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vo(e,t,n=!1){const s=t8();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await _o(e,`${t}-code-verifier`,a);const o=await r8(s);return[o,s===o?"plain":"s256"]}const s8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a8(e){const t=e.headers.get(yp);if(!t||!t.match(s8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function o8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(e){if(!l8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var c8=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const Ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d8=[502,503,504];async function R0(e){var t;if(!JU(e))throw new wp(Ca(e),0);if(d8.includes(e.status))throw new wp(Ca(e),e.status);let n;try{n=await e.json()}catch(o){throw new tC(Ca(o),o)}let s;const a=a8(e);if(a&&a.getTime()>=eC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new k0(Ca(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new _s}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new k0(Ca(n),e.status,n.weak_password.reasons);throw new LU(Ca(n),e.status||500,s)}const u8=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Ie(e,t,n,s){var a;const o=Object.assign({},s==null?void 0:s.headers);o[yp]||(o[yp]=eC["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await h8(e,t,n+l,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function h8(e,t,n,s,a,o){const i=u8(t,s,a,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new wp(Ca(c),0)}if(l.ok||await R0(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await R0(c)}}function Hr(e){var t;let n=null;g8(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=GU(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function A0(e){const t=Hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f8(e){return{data:e,error:null}}function m8(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:o}=e,i=c8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function p8(e){return e}function g8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rf=["global","local","others"];var x8=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class v8{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=sC(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Rf[0]){if(Rf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rf.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=x8(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:m8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,o,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:p8});if(u.error)throw u.error;const h=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);d[`${v}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ke(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){yo(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yo(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ts})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){yo(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){yo(t.userId);try{const{data:n,error:s}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function O0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function y8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wo={debug:!!(globalThis&&rC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class w8 extends aC{}async function b8(e,t,n){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new w8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}y8();const j8={url:AU,storageKey:OU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D0(e,t,n){return await n()}const bo={};class Yl{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yl.nextInstanceID,Yl.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},j8),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new v8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sC(a.fetch),this.lock=a.lock||D0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:er()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=b8:this.lock=D0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=O0(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=bo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=bo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=YU(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),er()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),UU(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new tC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Hr}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,s,a;try{let o;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await vo(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:Hr})}else if("phone"in t){const{phone:u,password:h,options:f}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hr})}else throw new td("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A0})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A0})}else throw new td("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ed}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,o,i,l,c,d,u,h,f,p;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:v,wallet:y,statement:g,options:b}=t;let j;if(er())if(typeof y=="object")j=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))j=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const k=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const E=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let _;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")_=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)_=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)w=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const E=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=E}}try{const{data:v,error:y}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:QU(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Hr});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ed}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(ke(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await ja(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:o,error:i}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Hr});if(await bs(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ed}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(ke(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:o,nonce:i}=t,l=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ed}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await vo(this.storage,this.storageKey));const{error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new td("You must provide either an email or phone number.")}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let a,o;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Hr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await vo(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:f8})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new _s;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:o}=t,{error:i}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:s,type:a,options:o}=t,{data:i,error:l}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new td("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<kf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const i=await ja(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Tf()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async n=>{var s,a,o;const{data:i,error:l}=n;if(l)throw l;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Ts})})}catch(n){if(ke(n))return FU(n)&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:o}=s;if(o)throw o;if(!a.session)throw new _s;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vo(this.storage,this.storageKey));const{data:d,error:u}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ts});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(ke(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _s;const n=Date.now()/1e3;let s=n,a=!0,o=null;const{payload:i}=Pf(t.access_token);if(i.exp&&(s=i.exp,a=s<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new _s;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!er())throw new nd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new C0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new C0("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=t;if(!o||!l||!i||!d)throw new nd("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,u);const{data:x,error:v}=await this._getUser(o);if(v)throw v;const y={provider_token:s,provider_refresh_token:a,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(s){if(ke(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:o}=n;if(o)return{error:o};const i=(s=a.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!($U(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=KU(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:o},error:i}=n;if(i)throw i;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await vo(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async o=>{var i,l,c,d,u;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return er()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ke(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:o,error:i}=n;if(i)throw i;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await ZU(async a=>(a>0&&await XU(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hr})),(a,o)=>{const i=200*Math.pow(2,a);return o&&Ef(o)&&Date.now()+i-s<No})}catch(s){if(this._debug(n,"error",s),ke(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),er()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ja(this.storage,this.storageKey);if(a&&this.userStorage){let i=await ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await _o(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Tf()}else if(a&&!a.user&&!a.user){const i=await ja(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await bs(this.storage,this.storageKey+"-user"),await _o(this.storage,this.storageKey,a)):a.user=Tf()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kf;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${kf}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Ef(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new gh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new _s;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),ke(o)){const i={session:null,error:o};return Ef(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await _o(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=structuredClone(a);await _o(this.storage,this.storageKey,o)}else{const a=structuredClone(n);await _o(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await bs(this.storage,this.storageKey),await bs(this.storage,this.storageKey+"-code-verifier"),await bs(this.storage,this.storageKey+"-user"),this.userStorage&&await bs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${No}ms, refresh threshold is ${vp} ticks`),a<=vp&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await vo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);a.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;return o?{data:null,error:o}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=s.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:s,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pf(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+IU>a)return s;const{data:o,error:i}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,s=o.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};s=p.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=Pf(s);n!=null&&n.allowExpired||o8(o.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:o,header:a,signature:i},error:null}}const u=i8(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,HU(`${l}.${c}`)))throw new bp("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}}}Yl.nextInstanceID=0;const N8=Yl;class _8 extends N8{constructor(t){super(t)}}var S8=function(e,t,n,s){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{d(s.next(u))}catch(h){i(h)}}function c(u){try{d(s.throw(u))}catch(h){i(h)}}function d(u){u.done?o(u.value):a(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class C8{constructor(t,n,s){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=TU(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:jU,realtime:_U,auth:Object.assign(Object.assign({},NU),{storageKey:d}),global:bU},h=RU(s??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=EU(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new V6(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new w6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vU(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return S8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:o,flowType:i,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,flowType:i,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k8=(e,t,n)=>new C8(e,t,n),E8="https://prqzcsajwpipfeqnqhlf.supabase.co",P8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycXpjc2Fqd3BpcGZlcW5xaGxmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMDExNjksImV4cCI6MjA2NzU3NzE2OX0.vb18DnFwvqxCxVIF32FDsB8jY5sJ8iOZEEtrgNELGQQ",ye=k8(E8,P8),oC="admission_dashboard_applicants",T8=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Sx=()=>new Date().toISOString(),Cx=()=>{try{const e=localStorage.getItem(oC),t=e?JSON.parse(e):[];return console.log("getApplicants called, found",t.length,"applicants in localStorage"),t}catch(e){return console.error("Error reading from localStorage:",e),[]}},kx=e=>{try{localStorage.setItem(oC,JSON.stringify(e)),console.log("saveApplicants: saved",e.length,"applicants to localStorage")}catch(t){console.error("Error saving to localStorage:",t)}},R8=e=>{const t=Cx(),n=Sx(),s=e.map(o=>({...o,id:T8(),created_at:n,updated_at:n})),a=[...t,...s];return console.log("addApplicants: adding",e.length,"applicants to",t.length,"existing =",a.length,"total"),kx(a),a},iC=(e,t)=>{const s=Cx().map(a=>a.id===e?{...a,...t,updated_at:Sx()}:a);return kx(s),s},A8=(e,t)=>{const s=Cx().map(a=>e.includes(a.id)?{...a,...t,updated_at:Sx()}:a);return kx(s),s},O8={contact:[],screening:[{value:"pending",label:"Pending"},{value:"pass",label:"Pass"},{value:"fail",label:"Fail"}],interviews:[{value:"pending",label:"Pending"},{value:"booked",label:"Booked"},{value:"rescheduled",label:"Rescheduled"},{value:"lr_qualified",label:"LR Qualified"},{value:"lr_failed",label:"LR Failed"},{value:"cfr_qualified",label:"CFR Qualified"},{value:"cfr_failed",label:"CFR Failed"}],decision:[{value:"offer_pending",label:"Offer Pending"},{value:"offer_sent",label:"Offer Sent"},{value:"offer_rejected",label:"Offer Rejected"},{value:"offer_accepted",label:"Offer Accepted"}]};function D8({selectedApplicants:e,isOpen:t,onClose:n,onSuccess:s}){const[a,o]=m.useState({stage:"no_change",status:"no_change",campus:"no_change"}),[i,l]=m.useState([]),[c,d]=m.useState(!1),{toast:u}=De();m.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const{data:x,error:v}=await ye.from("campus_options").select("*").eq("is_active",!0).order("name");if(v)throw v;l(x||[])}catch(x){console.error("Error fetching campus options:",x)}},f=x=>{o(v=>({...v,stage:x,status:x==="contact"?"no_change":"pending"}))},p=async()=>{if(a.stage==="no_change"&&a.campus==="no_change"){u({title:"Error",description:"Please select at least a stage or campus to update",variant:"destructive"});return}d(!0);try{const x={last_updated:new Date().toISOString()};a.stage!=="no_change"&&(x.stage=a.stage,a.status!=="no_change"&&a.stage!=="contact"?x.status=a.status:a.stage==="contact"&&(x.status=null)),a.campus!=="no_change"&&(x.campus=a.campus==="unassigned"?null:a.campus),A8(e,x);const{error:v}=await ye.from("admission_dashboard").update(x).in("id",e);v&&console.warn("Supabase bulk update failed, but data saved to localStorage:",v),u({title:"Success",description:`Updated ${e.length} applicant(s) successfully and saved to localStorage`}),s(),n(),o({stage:"no_change",status:"no_change",campus:"no_change"})}catch(x){console.error("Error bulk updating applicants:",x),u({title:"Error",description:"Failed to update applicants",variant:"destructive"})}finally{d(!1)}},w=O8[a.stage]||[];return r.jsx(Qt,{open:t,onOpenChange:n,children:r.jsxs(Gt,{className:"max-w-md",children:[r.jsx(rn,{children:r.jsxs(Kt,{className:"flex items-center gap-2",children:[r.jsx(Ga,{className:"w-5 h-5"}),"Bulk Update - ",e.length," Applicant(s)"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will update the selected fields for ",e.length," selected applicant(s). Leave fields empty to keep them unchanged."]})}),r.jsxs("div",{children:[r.jsx(J,{children:"Stage (Optional)"}),r.jsxs(Fe,{value:a.stage,onValueChange:f,children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select new stage (optional)"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"no_change",children:"No change"}),r.jsx(re,{value:"contact",children:"Contact"}),r.jsx(re,{value:"screening",children:"Screening"}),r.jsx(re,{value:"interviews",children:"Interviews"}),r.jsx(re,{value:"decision",children:"Decision"})]})]})]}),w.length>0&&a.stage!=="no_change"&&r.jsxs("div",{children:[r.jsx(J,{children:"Status"}),r.jsxs(Fe,{value:a.status,onValueChange:x=>o(v=>({...v,status:x})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select new status"})}),r.jsx(Ve,{children:w.map(x=>r.jsx(re,{value:x.value,children:x.label},x.value))})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Campus (Optional)"}),r.jsxs(Fe,{value:a.campus,onValueChange:x=>o(v=>({...v,campus:x})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select new campus (optional)"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"no_change",children:"No change"}),r.jsx(re,{value:"unassigned",children:"Not assigned"}),i.map(x=>r.jsx(re,{value:x.name,children:x.name},x.id))]})]})]}),a.stage==="contact"&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-700",children:"Contact stage doesn't have status options. Status will be cleared for selected applicants."})}),r.jsx("div",{className:"flex items-center justify-center py-2",children:r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:"Bulk Update"}),r.jsx(aA,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:a.stage!=="no_change"||a.campus!=="no_change"?`${a.stage!=="no_change"?`Stage: ${a.stage.charAt(0).toUpperCase()+a.stage.slice(1)}`:""}${a.stage!=="no_change"&&a.campus!=="no_change"?", ":""}${a.campus!=="no_change"?`Campus: ${a.campus==="unassigned"?"Not assigned":a.campus}`:""}`:"Select fields to update"})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),r.jsx($,{onClick:p,disabled:c||a.stage==="no_change"&&a.campus==="no_change",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):`Update ${e.length} Applicant(s)`})]})]})})}const M8={contact:[],screening:[{value:"pending",label:"Pending"},{value:"pass",label:"Pass"},{value:"fail",label:"Fail"}],interviews:[{value:"pending",label:"Pending"},{value:"booked",label:"Booked"},{value:"rescheduled",label:"Rescheduled"},{value:"lr_qualified",label:"LR Qualified"},{value:"lr_failed",label:"LR Failed"},{value:"offer_pending",label:"Offer Pending"},{value:"cfr_failed",label:"CFR Failed"}],decision:[{value:"offer_pending",label:"Offer Pending"},{value:"offer_sent",label:"Offer Sent"},{value:"offer_rejected",label:"Offer Rejected"},{value:"offer_accepted",label:"Offer Accepted"}]};function I8({applicant:e,isOpen:t,onClose:n,onSuccess:s}){const[a,o]=m.useState({name:"",mobile_no:"",whatsapp_number:"",city:"",stage:"contact",status:"none",campus:"none"}),[i,l]=m.useState(a),[c,d]=m.useState([]),[u,h]=m.useState(!1),[f,p]=m.useState(!1),[w,x]=m.useState(null),{toast:v}=De();m.useEffect(()=>{if(e&&t){const _={name:e.name||"",mobile_no:e.mobile_no||"",whatsapp_number:e.whatsapp_number||"",city:e.city||"",stage:e.stage||"contact",status:e.status||"none",campus:e.campus||"none"};o(_),l(_),p(!1),w&&(clearTimeout(w),x(null))}},[e,t]),m.useEffect(()=>{t&&y()},[t]);const y=async()=>{try{const{data:_,error:N}=await ye.from("campus_options").select("*").eq("is_active",!0).order("name");if(N)throw N;d(_||[])}catch(_){console.error("Error fetching campus options:",_)}},g=(_,N)=>{o(S=>({...S,[_]:N}))},b=_=>{o(N=>({...N,stage:_,status:_==="contact"?"none":"pending"}))},j=async()=>{if(e){h(!0);try{const{error:_}=await ye.from("admission_dashboard").update({name:a.name||null,mobile_no:a.mobile_no,whatsapp_number:a.whatsapp_number||null,city:a.city||null,stage:a.stage,status:a.status==="none"?null:a.status,campus:a.campus==="none"?null:a.campus,last_updated:new Date().toISOString()}).eq("id",e.id);if(_)throw _;v({title:"Success",description:"Applicant updated successfully"}),p(!0);const N=setTimeout(()=>{p(!1),x(null)},5e3);x(N),s(),n()}catch(_){console.error("Error updating applicant:",_),v({title:"Error",description:"Failed to update applicant",variant:"destructive"})}finally{h(!1)}}},k=async()=>{if(e)try{const{error:_}=await ye.from("admission_dashboard").update({name:i.name||null,mobile_no:i.mobile_no,whatsapp_number:i.whatsapp_number||null,city:i.city||null,stage:i.stage,status:i.status==="none"?null:i.status,campus:i.campus==="none"?null:i.campus,last_updated:new Date().toISOString()}).eq("id",e.id);if(_)throw _;v({title:"Undone",description:"Changes have been reverted"}),p(!1),w&&(clearTimeout(w),x(null)),s()}catch(_){console.error("Error undoing changes:",_),v({title:"Error",description:"Failed to undo changes",variant:"destructive"})}},E=M8[a.stage]||[];return r.jsxs(r.Fragment,{children:[r.jsx(Qt,{open:t,onOpenChange:n,children:r.jsxs(Gt,{className:"max-w-md",children:[r.jsx(rn,{children:r.jsxs(Kt,{children:["Quick Edit - ",(e==null?void 0:e.name)||"Applicant"]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(J,{htmlFor:"name",children:"Name"}),r.jsx(ae,{id:"name",value:a.name,onChange:_=>g("name",_.target.value),placeholder:"Enter name"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"mobile",children:"Mobile Number"}),r.jsx(ae,{id:"mobile",value:a.mobile_no,onChange:_=>g("mobile_no",_.target.value),placeholder:"Enter mobile number",required:!0})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"whatsapp",children:"WhatsApp Number"}),r.jsx(ae,{id:"whatsapp",value:a.whatsapp_number,onChange:_=>g("whatsapp_number",_.target.value),placeholder:"Enter WhatsApp number"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"city",children:"City"}),r.jsx(ae,{id:"city",value:a.city,onChange:_=>g("city",_.target.value),placeholder:"Enter city"})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Stage"}),r.jsxs(Fe,{value:a.stage,onValueChange:b,children:[r.jsx(Le,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"contact",children:"Contact"}),r.jsx(re,{value:"screening",children:"Screening"}),r.jsx(re,{value:"interviews",children:"Interviews"}),r.jsx(re,{value:"decision",children:"Decision"})]})]})]}),E.length>0&&r.jsxs("div",{children:[r.jsx(J,{children:"Status"}),r.jsxs(Fe,{value:a.status,onValueChange:_=>g("status",_),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select status"})}),r.jsx(Ve,{children:E.map(_=>r.jsx(re,{value:_.value,children:_.label},_.value))})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Campus"}),r.jsxs(Fe,{value:a.campus,onValueChange:_=>g("campus",_),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select campus"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"none",children:"Not assigned"}),c.map(_=>r.jsx(re,{value:_.name,children:_.name},_.id))]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),r.jsx($,{onClick:j,disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dc,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})}),f&&r.jsxs("div",{className:"fixed bottom-4 right-4 bg-card border border-border rounded-lg shadow-lg p-4 flex items-center space-x-3 z-50",children:[r.jsx("span",{className:"text-sm",children:"Changes saved successfully"}),r.jsxs($,{variant:"outline",size:"sm",onClick:k,children:[r.jsx(A4,{className:"w-4 h-4 mr-1"}),"Undo"]}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>p(!1),children:r.jsx(pn,{className:"w-4 h-4"})})]})]})}var lC={exports:{}},cC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=m;function L8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $8=typeof Object.is=="function"?Object.is:L8,F8=wi.useState,U8=wi.useEffect,B8=wi.useLayoutEffect,z8=wi.useDebugValue;function W8(e,t){var n=t(),s=F8({inst:{value:n,getSnapshot:t}}),a=s[0].inst,o=s[1];return B8(function(){a.value=n,a.getSnapshot=t,Af(a)&&o({inst:a})},[e,n,t]),U8(function(){return Af(a)&&o({inst:a}),e(function(){Af(a)&&o({inst:a})})},[e]),z8(n),n}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$8(e,n)}catch{return!0}}function V8(e,t){return t()}var q8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V8:W8;cC.useSyncExternalStore=wi.useSyncExternalStore!==void 0?wi.useSyncExternalStore:q8;lC.exports=cC;var H8=lC.exports;function Q8(){return H8.useSyncExternalStore(G8,()=>!0,()=>!1)}function G8(){return()=>{}}var Ex="Avatar",[K8,rW]=At(Ex),[Y8,dC]=K8(Ex),uC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,o]=m.useState("idle");return r.jsx(Y8,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:r.jsx(ie.span,{...s,ref:t})})});uC.displayName=Ex;var hC="AvatarImage",fC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...o}=e,i=dC(hC,n),l=J8(s,o),c=ft(d=>{a(d),i.onImageLoadingStatusChange(d)});return vt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ie.img,{...o,ref:t,src:s}):null});fC.displayName=hC;var mC="AvatarFallback",pC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,o=dC(mC,n),[i,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),i&&o.imageLoadingStatus!=="loaded"?r.jsx(ie.span,{...a,ref:t}):null});pC.displayName=mC;function M0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function J8(e,{referrerPolicy:t,crossOrigin:n}){const s=Q8(),a=m.useRef(null),o=s?(a.current||(a.current=new window.Image),a.current):null,[i,l]=m.useState(()=>M0(o,e));return vt(()=>{l(M0(o,e))},[o,e]),vt(()=>{const c=h=>()=>{l(h)};if(!o)return;const d=c("loaded"),u=c("error");return o.addEventListener("load",d),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",u)}},[o,n,t]),i}var gC=uC,xC=fC,vC=pC;const Px=m.forwardRef(({className:e,...t},n)=>r.jsx(gC,{ref:n,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Px.displayName=gC.displayName;const yC=m.forwardRef(({className:e,...t},n)=>r.jsx(xC,{ref:n,className:Z("aspect-square h-full w-full",e),...t}));yC.displayName=xC.displayName;const Tx=m.forwardRef(({className:e,...t},n)=>r.jsx(vC,{ref:n,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Tx.displayName=vC.displayName;const wC=({applicantId:e,applicantName:t,isOpen:n,onClose:s})=>{const[a,o]=m.useState(""),[i,l]=m.useState(null),{toast:c}=De();fc();const{user:d}=On();m.useEffect(()=>{(async()=>{d&&l({id:d.id,name:d.name||d.email||"Unknown User"})})()},[d]);const{data:u,refetch:h}=oo({queryKey:["applicant-comments",e],queryFn:async()=>{const{data:x,error:v}=await ye.from("applicant_comments").select("*").eq("applicant_id",e).order("created_at",{ascending:!1});if(v)throw v;return x},enabled:n}),f=qo({mutationFn:async x=>{if(!i)throw new Error("User not authenticated");const{error:v}=await ye.from("applicant_comments").insert({applicant_id:e,user_id:i.id,user_name:i.name,comment_text:x});if(v)throw v;await ye.from("system_logs").insert({user_id:i.id,user_name:i.name,action_type:"comment_added",entity_type:"applicant",entity_id:e,description:`Added comment to applicant ${t}`,metadata:{comment_text:x}})},onSuccess:()=>{c({title:"Comment Added",description:"Your comment has been successfully added"}),o(""),h()},onError:()=>{c({title:"Error",description:"Failed to add comment",variant:"destructive"})}}),p=qo({mutationFn:async x=>{const{error:v}=await ye.from("applicant_comments").delete().eq("id",x);if(v)throw v;i&&await ye.from("system_logs").insert({user_id:i.id,user_name:i.name,action_type:"comment_deleted",entity_type:"applicant",entity_id:e,description:`Deleted comment from applicant ${t}`})},onSuccess:()=>{c({title:"Comment Deleted",description:"Comment has been successfully deleted"}),h()},onError:()=>{c({title:"Error",description:"Failed to delete comment",variant:"destructive"})}}),w=()=>{a.trim()&&i&&f.mutate(a.trim())};return r.jsx(Qt,{open:n,onOpenChange:s,children:r.jsxs(Gt,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsx(rn,{children:r.jsxs(Kt,{className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-5 w-5"}),"Comments for ",t]})}),r.jsx("div",{className:"flex-1 overflow-auto space-y-4",children:(u==null?void 0:u.length)===0?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No comments yet. Be the first to add one!"}):u==null?void 0:u.map(x=>r.jsxs(_e,{children:[r.jsx(Oe,{className:"pb-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Px,{className:"h-8 w-8",children:r.jsx(Tx,{children:x.user_name.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:x.user_name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()})]})]}),(i==null?void 0:i.id)===x.user_id&&r.jsx($,{variant:"ghost",size:"sm",onClick:()=>p.mutate(x.id),disabled:p.isPending,children:r.jsx(Ht,{className:"h-4 w-4"})})]})}),r.jsx(Se,{children:r.jsx("p",{className:"text-sm",children:x.comment_text})})]},x.id))}),r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsx(Wt,{placeholder:"Add a comment...",value:a,onChange:x=>o(x.target.value),className:"min-h-[80px]"}),r.jsx("div",{className:"flex justify-end",children:r.jsxs($,{onClick:w,disabled:!a.trim()||f.isPending,children:[r.jsx(w4,{className:"h-4 w-4 mr-2"}),f.isPending?"Adding...":"Add Comment"]})})]})]})})},Of={sourcing:["Enrollment Key Generated","Basic Details Entered","Duplicate","Unreachable","Became Disinterested"],screening:["Pending","Screening Test Pass","Screening Test Fail","Created Student Without Exam"],interviews:["Pending Booking","Learner Round Pass","Learner Round Fail","Cultural Fit Interview Pass","Cultural Fit Interview Fail","Reschedule","No Show"],decision:["Offer Pending","Offer Sent","Offer Accepted","Offer Declined","Waitlisted","Selected but not joined"],onboarded:["Onboarded"]},bC={sourcing:"Enrollment Key Generated",screening:"Pending",interviews:"Pending Booking",decision:"Offer Pending",onboarded:"Onboarded"},X8=({applicant:e,onUpdate:t})=>{const{toast:n}=De(),s=e.stage||"sourcing",a=m.useMemo(()=>{console.log("Current stage:",s);const f=Of[s]||Of.sourcing;return console.log("Available statuses for stage:",f),f},[s]),o=async f=>{console.log("Changing status to:",f);try{iC(e.id,{status:f});const{error:p}=await ye.from("admission_dashboard").update({status:f,last_updated:new Date().toISOString()}).eq("id",e.id);p&&console.warn("Supabase update failed, but data saved to localStorage:",p),n({title:"Status Updated",description:"Status updated and saved to localStorage"}),t()}catch(p){console.error("Error updating status:",p),n({title:"Error",description:"Failed to update status",variant:"destructive"})}},i=f=>f?(console.log("Raw status from database:",f),Object.values(Of).flat().includes(f)?(console.log("Status already in display format:",f),f):(console.log("No mapping found, returning original:",f),f)):(console.log("No status found, returning empty string"),""),l=e.status,c=i(l||""),d=a.includes(c);let u=c;!d&&c?console.log("Status does not belong to current stage, keeping current status:",c):c||(u=bC[s]||"");const h=[...a];return c&&!a.includes(c)&&h.unshift(c+" (Current)"),console.log("=== STATUS DROPDOWN DEBUG ==="),console.log("Applicant ID:",e.id),console.log("Current stage:",s),console.log("Raw status from DB:",l),console.log("Normalized status:",c),console.log("Status belongs to stage:",d),console.log("Final display status:",u),console.log("Final available statuses:",h),console.log("==============================="),r.jsxs(Fe,{value:u,onValueChange:o,children:[r.jsx(Le,{className:"w-full h-8 text-xs bg-white border border-gray-300 hover:bg-gray-50",children:r.jsx(Ue,{placeholder:"Select status"})}),r.jsx(Ve,{className:"bg-white border border-gray-300 shadow-lg z-[9999] max-h-[200px] overflow-y-auto",children:h.map(f=>{const p=f.replace(" (Current)",""),w=f.includes("(Current)");return r.jsx(re,{value:p,className:`text-xs cursor-pointer hover:bg-gray-100 focus:bg-gray-100 ${w?"bg-blue-50 text-blue-700":""}`,children:f},f)})})]})},Z8=Y.memo(X8),eB=[{value:"sourcing",label:"Sourcing"},{value:"screening",label:"Screening"},{value:"interviews",label:"Interviews"},{value:"decision",label:"Final Decision"},{value:"onboarded",label:"Onboarded"}],tB=({applicant:e,onUpdate:t})=>{const{toast:n}=De(),s=async o=>{console.log("Changing stage to:",o);try{const i=bC[o];console.log("Setting default status to:",i),iC(e.id,{stage:o,status:i});const{error:l}=await ye.from("admission_dashboard").update({stage:o,status:i,last_updated:new Date().toISOString()}).eq("id",e.id);l&&console.warn("Supabase update failed, but data saved to localStorage:",l),n({title:"Stage Updated",description:"Stage updated and saved to localStorage"}),t()}catch(i){console.error("Error updating stage:",i),n({title:"Error",description:"Failed to update stage",variant:"destructive"})}},a=e.stage||"sourcing";return console.log("Current stage:",a),r.jsxs(Fe,{value:a,onValueChange:s,children:[r.jsx(Le,{className:"w-full h-8 text-xs bg-background border border-border",children:r.jsx(Ue,{placeholder:"Select a stage"})}),r.jsx(Ve,{className:"bg-background border border-border shadow-lg z-50",children:eB.map(o=>r.jsx(re,{value:o.value,className:"text-xs cursor-pointer hover:bg-accent hover:text-accent-foreground",children:o.label},o.value))})]})},nB=Y.memo(tB);function Re({applicant:e,field:t,displayValue:n,onUpdate:s,showPencil:a=!1}){const[o,i]=m.useState(null),[l,c]=m.useState(n||""),{toast:d}=De(),u=(w,x,v)=>{i({id:w,field:x}),c(v||"")},h=async()=>{if(o)try{switch(t){case"school_name":case"school_id":await v_(o.id,{[t]:l});break;case"campus_name":case"campus_id":await g_(o.id,{[t]:l});break;case"caste":await h_(o.id,{[t]:l});break;default:await c_(o.id,{[t]:l})}d({title:"Success",description:"Field updated successfully"}),i(null),c(""),s()}catch(w){console.error("Error updating field:",w),d({title:"Error",description:(w==null?void 0:w.message)||"Failed to update field",variant:"destructive"})}},f=()=>{i(null),c("")};return(o==null?void 0:o.id)===e.id&&(o==null?void 0:o.field)===t?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ae,{value:l,onChange:w=>c(w.target.value),onKeyDown:w=>{w.key==="Enter"&&h(),w.key==="Escape"&&f()},className:"h-8 text-xs",autoFocus:!0}),r.jsx($,{size:"sm",onClick:h,className:"h-6 px-2",children:""}),r.jsx($,{size:"sm",variant:"outline",onClick:f,className:"h-6 px-2",children:""})]}):r.jsxs("div",{className:"cursor-pointer hover:bg-muted/50 p-1 rounded min-h-[24px] flex items-center gap-2 group",onClick:()=>u(e.id,t,n),title:"Click to edit",children:[r.jsx("span",{className:"flex-1 whitespace-nowrap overflow-hidden text-ellipsis",children:n||"Click to add"}),a&&r.jsx(sa,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]})}function rB({applicant:e,isOpen:t,onClose:n}){const[s,a]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(0);if(!e)return null;const d=()=>{a(!0)},u=()=>{i(!0)},h=()=>{a(!1),c(p=>p+1)},f=()=>{c(p=>p+1)};return r.jsxs(r.Fragment,{children:[r.jsx(Qt,{open:t,onOpenChange:n,children:r.jsxs(Gt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(rn,{className:"flex flex-row items-center justify-between",children:[r.jsx(Kt,{children:"Applicant Details"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($,{variant:"outline",size:"sm",onClick:u,className:"flex items-center gap-2",children:[r.jsx(ns,{className:"h-4 w-4"}),"Comments"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4"}),"Edit Details"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),r.jsx(Re,{applicant:e,field:"name",displayValue:e.name||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile Number"}),r.jsx(Re,{applicant:e,field:"mobile_no",displayValue:e.mobile_no,onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"WhatsApp Number"}),r.jsx(Re,{applicant:e,field:"whatsapp_number",displayValue:e.whatsapp_number||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),r.jsx(Re,{applicant:e,field:"gender",displayValue:e.gender||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Caste"}),r.jsx(Re,{applicant:e,field:"caste",displayValue:e.caste||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"City"}),r.jsx(Re,{applicant:e,field:"city",displayValue:e.city||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Block"}),r.jsx(Re,{applicant:e,field:"block",displayValue:e.block||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"District"}),r.jsx(Re,{applicant:e,field:"district",displayValue:e.district||"Not provided",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Academic Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Qualification"}),r.jsx(Re,{applicant:e,field:"qualification",displayValue:e.qualification||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Work"}),r.jsx(Re,{applicant:e,field:"current_work",displayValue:e.current_work||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Qualifying School"}),r.jsx(Re,{applicant:e,field:"qualifying_school",displayValue:e.qualifying_school||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Final Marks"}),r.jsx(Re,{applicant:e,field:"final_marks",displayValue:e.final_marks||"Not provided",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Application Status"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Stage"}),r.jsx(nB,{applicant:e,onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx(Z8,{applicant:e,onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Campus"}),r.jsx(Re,{applicant:e,field:"campus",displayValue:e.campus||"Not assigned",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Unique Number"}),r.jsx(Re,{applicant:e,field:"unique_number",displayValue:e.unique_number||"Not provided",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Exam Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Set Name"}),r.jsx(Re,{applicant:e,field:"set_name",displayValue:e.set_name||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exam Centre"}),r.jsx(Re,{applicant:e,field:"exam_centre",displayValue:e.exam_centre||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date of Testing"}),r.jsx(Re,{applicant:e,field:"date_of_testing",displayValue:e.date_of_testing||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exam Mode"}),r.jsx(Re,{applicant:e,field:"exam_mode",displayValue:e.exam_mode||"Not provided",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4 md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Interview Information"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"LR Status"}),r.jsx(Re,{applicant:e,field:"lr_status",displayValue:e.lr_status||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"CFR Status"}),r.jsx(Re,{applicant:e,field:"cfr_status",displayValue:e.cfr_status||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interview Mode"}),r.jsx(Re,{applicant:e,field:"interview_mode",displayValue:e.interview_mode||"Not provided",onUpdate:f})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"LR Comments"}),r.jsx(Re,{applicant:e,field:"lr_comments",displayValue:e.lr_comments||"No comments",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"CFR Comments"}),r.jsx(Re,{applicant:e,field:"cfr_comments",displayValue:e.cfr_comments||"No comments",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4 md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Offer & Final Status"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Offer Letter Status"}),r.jsx(Re,{applicant:e,field:"offer_letter_status",displayValue:e.offer_letter_status||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Allotted School"}),r.jsx(Re,{applicant:e,field:"allotted_school",displayValue:e.allotted_school||"Not provided",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Joining Status"}),r.jsx(Re,{applicant:e,field:"joining_status",displayValue:e.joining_status||"Not provided",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4 md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Final Notes"}),r.jsx(Re,{applicant:e,field:"final_notes",displayValue:e.final_notes||"No final notes",onUpdate:f})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Triptis Notes"}),r.jsx(Re,{applicant:e,field:"triptis_notes",displayValue:e.triptis_notes||"No triptis notes",onUpdate:f})]})]})]}),r.jsxs("div",{className:"space-y-4 md:col-span-2",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Timestamps"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),r.jsx("p",{className:"text-sm",children:e.created_at?new Date(e.created_at).toLocaleString():"Not available"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),r.jsx("p",{className:"text-sm",children:e.updated_at?new Date(e.updated_at).toLocaleString():"Not available"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),r.jsx("p",{className:"text-sm",children:e.last_updated?new Date(e.last_updated).toLocaleString():"Not available"})]})]})]})]})]})}),s&&r.jsx(I8,{applicant:e,isOpen:s,onClose:()=>a(!1),onSuccess:h}),o&&r.jsx(wC,{applicantId:e.id||"",applicantName:e.name||"",isOpen:o,onClose:()=>i(!1)})]})}var jC={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,s)=>{e.exports=s()})(Pn,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,o=!s.document&&!!s.postMessage,i=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function u(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var C=k(S);C.chunkSize=parseInt(C.chunkSize),S.step||S.chunk||(C.chunkSize=null),this._handle=new x(C),(this._handle.streamer=this)._config=C}).call(this,N),this.parseChunk=function(S,C){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let P=this._config.newline;P||(R=this._config.quoteChar||'"',P=this._handle.guessLineEndings(S,R)),S=[...S.split(P).slice(O)].join(P)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(S))!==void 0&&(S=R),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+S,R=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=R.meta.cursor,O=(this._finished||(this._partialLine=O.substring(S-this._baseIndex),this._baseIndex=S),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)s.postMessage({results:R,workerId:d.WORKER_ID,finished:O});else if(_(this._config.chunk)&&!C){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!O||!_(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(S){_(this._config.error)?this._config.error(S):i&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:S,finished:!1})}}function h(N){var S;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),u.call(this,N),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),o||(S.onload=E(this._chunkLoaded,this),S.onerror=E(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var C,O=this._config.downloadRequestHeaders;for(C in O)S.setRequestHeader(C,O[C])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+R));try{S.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}o&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(C){C=S.statusText||C,this._sendError(new Error(C))}}function f(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),u.call(this,N);var S,C,O=typeof FileReader<"u";this.stream=function(R){this._input=R,C=R.slice||R.webkitSlice||R.mozSlice,O?((S=new FileReader).onload=E(this._chunkLoaded,this),S.onerror=E(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),R=C.call(R,this._start,P)),S.readAsText(R,this._config.encoding));O||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(N){var S;u.call(this,N=N||{}),this.stream=function(C){return S=C,this._nextChunk()},this._nextChunk=function(){var C,O;if(!this._finished)return C=this._config.chunkSize,S=C?(O=S.substring(0,C),S.substring(C)):(O=S,""),this._finished=!S,this.parseChunk(O)}}function w(N){u.call(this,N=N||{});var S=[],C=!0,O=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):C=!0},this._streamData=E(function(R){try{S.push(typeof R=="string"?R:R.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(P){this._streamError(P)}},this),this._streamError=E(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=E(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(N){var S,C,O,R,P=Math.pow(2,53),I=-P,z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,T=0,A=0,F=!1,U=!1,V=[],q={data:[],errors:[],meta:{}};function te(ne){return N.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function fe(){if(q&&O&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(q.data=q.data.filter(function(ue){return!te(ue)})),xe()){let ue=function(X,L){_(N.transformHeader)&&(X=N.transformHeader(X,L)),V.push(X)};var ee=ue;if(q)if(Array.isArray(q.data[0])){for(var ne=0;xe()&&ne<q.data.length;ne++)q.data[ne].forEach(ue);q.data.splice(0,1)}else q.data.forEach(ue)}function oe(ue,X){for(var L=N.header?{}:[],W=0;W<ue.length;W++){var H=W,pe=ue[W],pe=((he,Ce)=>(Me=>(N.dynamicTypingFunction&&N.dynamicTyping[Me]===void 0&&(N.dynamicTyping[Me]=N.dynamicTypingFunction(Me)),(N.dynamicTyping[Me]||N.dynamicTyping)===!0))(he)?Ce==="true"||Ce==="TRUE"||Ce!=="false"&&Ce!=="FALSE"&&((Me=>{if(z.test(Me)&&(Me=parseFloat(Me),I<Me&&Me<P))return 1})(Ce)?parseFloat(Ce):B.test(Ce)?new Date(Ce):Ce===""?null:Ce):Ce)(H=N.header?W>=V.length?"__parsed_extra":V[W]:H,pe=N.transform?N.transform(pe,H):pe);H==="__parsed_extra"?(L[H]=L[H]||[],L[H].push(pe)):L[H]=pe}return N.header&&(W>V.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+W,A+X):W<V.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+W,A+X)),L}var de;q&&(N.header||N.dynamicTyping||N.transform)&&(de=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(oe),de=q.data.length):q.data=oe(q.data,0),N.header&&q.meta&&(q.meta.fields=V),A+=de)}function xe(){return N.header&&V.length===0}function Q(ne,oe,de,ee){ne={type:ne,code:oe,message:de},ee!==void 0&&(ne.row=ee),q.errors.push(ne)}_(N.step)&&(R=N.step,N.step=function(ne){q=ne,xe()?fe():(fe(),q.data.length!==0&&(T+=ne.data.length,N.preview&&T>N.preview?C.abort():(q.data=q.data[0],R(q,D))))}),this.parse=function(ne,oe,de){var ee=N.quoteChar||'"',ee=(N.newline||(N.newline=this.guessLineEndings(ne,ee)),O=!1,N.delimiter?_(N.delimiter)&&(N.delimiter=N.delimiter(ne),q.meta.delimiter=N.delimiter):((ee=((ue,X,L,W,H)=>{var pe,he,Ce,Me;H=H||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var pt=0;pt<H.length;pt++){for(var It,Lt=H[pt],yt=0,Dn=0,Qe=0,gt=(Ce=void 0,new y({comments:W,delimiter:Lt,newline:X,preview:10}).parse(ue)),Gn=0;Gn<gt.data.length;Gn++)L&&te(gt.data[Gn])?Qe++:(It=gt.data[Gn].length,Dn+=It,Ce===void 0?Ce=It:0<It&&(yt+=Math.abs(It-Ce),Ce=It));0<gt.data.length&&(Dn/=gt.data.length-Qe),(he===void 0||yt<=he)&&(Me===void 0||Me<Dn)&&1.99<Dn&&(he=yt,pe=Lt,Me=Dn)}return{successful:!!(N.delimiter=pe),bestDelimiter:pe}})(ne,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=ee.bestDelimiter:(O=!0,N.delimiter=d.DefaultDelimiter),q.meta.delimiter=N.delimiter),k(N));return N.preview&&N.header&&ee.preview++,S=ne,C=new y(ee),q=C.parse(S,oe,de),fe(),F?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,C.abort(),S=_(N.chunk)?"":S.substring(C.getCharIndex())},this.resume=function(){D.streamer._halted?(F=!1,D.streamer.parseChunk(S,!0)):setTimeout(D.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,C.abort(),q.meta.aborted=!0,_(N.complete)&&N.complete(q),S=""},this.guessLineEndings=function(ue,ee){ue=ue.substring(0,1048576);var ee=new RegExp(v(ee)+"([^]*?)"+v(ee),"gm"),de=(ue=ue.replace(ee,"")).split("\r"),ee=ue.split(`
`),ue=1<ee.length&&ee[0].length<de[0].length;if(de.length===1||ue)return`
`;for(var X=0,L=0;L<de.length;L++)de[L][0]===`
`&&X++;return X>=de.length/2?`\r
`:"\r"}}function v(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(N){var S=(N=N||{}).delimiter,C=N.newline,O=N.comments,R=N.step,P=N.preview,I=N.fastMode,z=null,B=!1,D=N.quoteChar==null?'"':N.quoteChar,T=D;if(N.escapeChar!==void 0&&(T=N.escapeChar),(typeof S!="string"||-1<d.BAD_DELIMITERS.indexOf(S))&&(S=","),O===S)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<d.BAD_DELIMITERS.indexOf(O))&&(O=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var A=0,F=!1;this.parse=function(U,V,q){if(typeof U!="string")throw new Error("Input must be a string");var te=U.length,fe=S.length,xe=C.length,Q=O.length,ne=_(R),oe=[],de=[],ee=[],ue=A=0;if(!U)return yt();if(I||I!==!1&&U.indexOf(D)===-1){for(var X=U.split(C),L=0;L<X.length;L++){if(ee=X[L],A+=ee.length,L!==X.length-1)A+=C.length;else if(q)return yt();if(!O||ee.substring(0,Q)!==O){if(ne){if(oe=[],Me(ee.split(S)),Dn(),F)return yt()}else Me(ee.split(S));if(P&&P<=L)return oe=oe.slice(0,P),yt(!0)}}return yt()}for(var W=U.indexOf(S,A),H=U.indexOf(C,A),pe=new RegExp(v(T)+v(D),"g"),he=U.indexOf(D,A);;)if(U[A]===D)for(he=A,A++;;){if((he=U.indexOf(D,he+1))===-1)return q||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:A}),It();if(he===te-1)return It(U.substring(A,he).replace(pe,D));if(D===T&&U[he+1]===T)he++;else if(D===T||he===0||U[he-1]!==T){W!==-1&&W<he+1&&(W=U.indexOf(S,he+1));var Ce=pt((H=H!==-1&&H<he+1?U.indexOf(C,he+1):H)===-1?W:Math.min(W,H));if(U.substr(he+1+Ce,fe)===S){ee.push(U.substring(A,he).replace(pe,D)),U[A=he+1+Ce+fe]!==D&&(he=U.indexOf(D,A)),W=U.indexOf(S,A),H=U.indexOf(C,A);break}if(Ce=pt(H),U.substring(he+1+Ce,he+1+Ce+xe)===C){if(ee.push(U.substring(A,he).replace(pe,D)),Lt(he+1+Ce+xe),W=U.indexOf(S,A),he=U.indexOf(D,A),ne&&(Dn(),F))return yt();if(P&&oe.length>=P)return yt(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:A}),he++}}else if(O&&ee.length===0&&U.substring(A,A+Q)===O){if(H===-1)return yt();A=H+xe,H=U.indexOf(C,A),W=U.indexOf(S,A)}else if(W!==-1&&(W<H||H===-1))ee.push(U.substring(A,W)),A=W+fe,W=U.indexOf(S,A);else{if(H===-1)break;if(ee.push(U.substring(A,H)),Lt(H+xe),ne&&(Dn(),F))return yt();if(P&&oe.length>=P)return yt(!0)}return It();function Me(Qe){oe.push(Qe),ue=A}function pt(Qe){var gt=0;return gt=Qe!==-1&&(Qe=U.substring(he+1,Qe))&&Qe.trim()===""?Qe.length:gt}function It(Qe){return q||(Qe===void 0&&(Qe=U.substring(A)),ee.push(Qe),A=te,Me(ee),ne&&Dn()),yt()}function Lt(Qe){A=Qe,Me(ee),ee=[],H=U.indexOf(C,A)}function yt(Qe){if(N.header&&!V&&oe.length&&!B){var gt=oe[0],Gn=Object.create(null),Fi=new Set(gt);let ya=!1;for(let fs=0;fs<gt.length;fs++){let jn=gt[fs];if(Gn[jn=_(N.transformHeader)?N.transformHeader(jn,fs):jn]){let Fr,Ur=Gn[jn];for(;Fr=jn+"_"+Ur,Ur++,Fi.has(Fr););Fi.add(Fr),gt[fs]=Fr,Gn[jn]++,ya=!0,(z=z===null?{}:z)[Fr]=jn}else Gn[jn]=1,gt[fs]=jn;Fi.add(jn)}ya&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:oe,errors:de,meta:{delimiter:S,linebreak:C,aborted:F,truncated:!!Qe,cursor:ue+(V||0),renamedHeaders:z}}}function Dn(){R(yt()),oe=[],de=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return A}}function g(N){var S=N.data,C=l[S.workerId],O=!1;if(S.error)C.userError(S.error,S.file);else if(S.results&&S.results.data){var R={abort:function(){O=!0,b(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(_(C.userStep)){for(var P=0;P<S.results.data.length&&(C.userStep({data:S.results.data[P],errors:S.results.errors,meta:S.results.meta},R),!O);P++);delete S.results}else _(C.userChunk)&&(C.userChunk(S.results,R,S.file),delete S.results)}S.finished&&!O&&b(S.workerId,S.results)}function b(N,S){var C=l[N];_(C.userComplete)&&C.userComplete(S),C.terminate(),delete l[N]}function j(){throw new Error("Not implemented.")}function k(N){if(typeof N!="object"||N===null)return N;var S,C=Array.isArray(N)?[]:{};for(S in N)C[S]=k(N[S]);return C}function E(N,S){return function(){N.apply(S,arguments)}}function _(N){return typeof N=="function"}return d.parse=function(N,S){var C=(S=S||{}).dynamicTyping||!1;if(_(C)&&(S.dynamicTypingFunction=C,C={}),S.dynamicTyping=C,S.transform=!!_(S.transform)&&S.transform,!S.worker||!d.WORKERS_SUPPORTED)return C=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),C=new(S.download?h:p)(S)):N.readable===!0&&_(N.read)&&_(N.on)?C=new w(S):(s.File&&N instanceof File||N instanceof Object)&&(C=new f(S)),C.stream(N);(C=(()=>{var O;return!!d.WORKERS_SUPPORTED&&(O=(()=>{var R=s.URL||s.webkitURL||null,P=n.toString();return d.BLOB_URL||(d.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(O=new s.Worker(O)).onmessage=g,O.id=c++,l[O.id]=O)})()).userStep=S.step,C.userChunk=S.chunk,C.userComplete=S.complete,C.userError=S.error,S.step=_(S.step),S.chunk=_(S.chunk),S.complete=_(S.complete),S.error=_(S.error),delete S.worker,C.postMessage({input:N,config:S,workerId:C.id})},d.unparse=function(N,S){var C=!1,O=!0,R=",",P=`\r
`,I='"',z=I+I,B=!1,D=null,T=!1,A=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||d.BAD_DELIMITERS.filter(function(V){return S.delimiter.indexOf(V)!==-1}).length||(R=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(C=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(B=S.skipEmptyLines),typeof S.newline=="string"&&(P=S.newline),typeof S.quoteChar=="string"&&(I=S.quoteChar),typeof S.header=="boolean"&&(O=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");D=S.columns}S.escapeChar!==void 0&&(z=S.escapeChar+I),S.escapeFormulae instanceof RegExp?T=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(I),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return F(null,N,B);if(typeof N[0]=="object")return F(D||Object.keys(N[0]),N,B)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||D),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),F(N.fields||[],N.data||[],B);throw new Error("Unable to serialize unrecognized input");function F(V,q,te){var fe="",xe=(typeof V=="string"&&(V=JSON.parse(V)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(V)&&0<V.length),Q=!Array.isArray(q[0]);if(xe&&O){for(var ne=0;ne<V.length;ne++)0<ne&&(fe+=R),fe+=U(V[ne],ne);0<q.length&&(fe+=P)}for(var oe=0;oe<q.length;oe++){var de=(xe?V:q[oe]).length,ee=!1,ue=xe?Object.keys(q[oe]).length===0:q[oe].length===0;if(te&&!xe&&(ee=te==="greedy"?q[oe].join("").trim()==="":q[oe].length===1&&q[oe][0].length===0),te==="greedy"&&xe){for(var X=[],L=0;L<de;L++){var W=Q?V[L]:L;X.push(q[oe][W])}ee=X.join("").trim()===""}if(!ee){for(var H=0;H<de;H++){0<H&&!ue&&(fe+=R);var pe=xe&&Q?V[H]:H;fe+=U(q[oe][pe],H)}oe<q.length-1&&(!te||0<de&&!ue)&&(fe+=P)}}return fe}function U(V,q){var te,fe;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(fe=!1,T&&typeof V=="string"&&T.test(V)&&(V="'"+V,fe=!0),te=V.toString().replace(A,z),(fe=fe||C===!0||typeof C=="function"&&C(V,q)||Array.isArray(C)&&C[q]||((xe,Q)=>{for(var ne=0;ne<Q.length;ne++)if(-1<xe.indexOf(Q[ne]))return!0;return!1})(te,d.BAD_DELIMITERS)||-1<te.indexOf(R)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?I+te+I:te)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!o&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=y,d.ParserHandle=x,d.NetworkStreamer=h,d.FileStreamer=f,d.StringStreamer=p,d.ReadableStreamStreamer=w,s.jQuery&&((a=s.jQuery).fn.parse=function(N){var S=N.config||{},C=[];return this.each(function(P){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)C.push({file:this.files[I],inputElem:this,instanceConfig:a.extend({},S)})}),O(),this;function O(){if(C.length===0)_(N.complete)&&N.complete();else{var P,I,z,B,D=C[0];if(_(N.before)){var T=N.before(D.file,D.inputElem);if(typeof T=="object"){if(T.action==="abort")return P="AbortError",I=D.file,z=D.inputElem,B=T.reason,void(_(N.error)&&N.error({name:P},I,z,B));if(T.action==="skip")return void R();typeof T.config=="object"&&(D.instanceConfig=a.extend(D.instanceConfig,T.config))}else if(T==="skip")return void R()}var A=D.instanceConfig.complete;D.instanceConfig.complete=function(F){_(A)&&A(F,D.file,D.inputElem),R()},d.parse(D.file,D.instanceConfig)}}function R(){C.splice(0,1),O()}}),i&&(s.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(s.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&s.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(w.prototype=Object.create(u.prototype)).constructor=w,d})})(jC);var sB=jC.exports;const NC=Cp(sB);var Rx="Progress",Ax=100,[aB,sW]=At(Rx),[oB,iB]=aB(Rx),_C=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:o=lB,...i}=e;(a||a===0)&&!I0(a)&&console.error(cB(`${a}`,"Progress"));const l=I0(a)?a:Ax;s!==null&&!L0(s,l)&&console.error(dB(`${s}`,"Progress"));const c=L0(s,l)?s:null,d=mu(c)?o(c,l):void 0;return r.jsx(oB,{scope:n,value:c,max:l,children:r.jsx(ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":kC(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});_C.displayName=Rx;var SC="ProgressIndicator",CC=m.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=iB(SC,n);return r.jsx(ie.div,{"data-state":kC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});CC.displayName=SC;function lB(e,t){return`${Math.round(e/t*100)}%`}function kC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mu(e){return typeof e=="number"}function I0(e){return mu(e)&&!isNaN(e)&&e>0}function L0(e,t){return mu(e)&&!isNaN(e)&&e<=t&&e>=0}function cB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ax}\`.`}function dB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ax} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EC=_C,uB=CC;const Ox=m.forwardRef(({className:e,value:t,...n},s)=>r.jsx(EC,{ref:s,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(uB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ox.displayName=EC.displayName;const hB=({isOpen:e,onClose:t,onSuccess:n})=>{const[s,a]=m.useState(null),[o,i]=m.useState([]),[l,c]=m.useState(null),[d,u]=m.useState(!1),[h,f]=m.useState(0),[p,w]=m.useState(!1),[x,v]=m.useState(0);De();const y=k=>{c(null),w(!1),f(0),v(0);const E=k.target.files&&k.target.files[0];E&&E.type==="text/csv"?a(E):(a(null),c("Please select a valid CSV file."))},g=async()=>{if(!s){c("Please select a CSV file.");return}await wI(s),u(!0),NC.parse(s,{header:!0,skipEmptyLines:!0,dynamicTyping:!1,complete:k=>{i(k.data),j(k.data)},error:k=>{c(k.message),u(!1)}})},b=k=>{if(!k||k.trim()==="")return null;const E=k.trim();if(E.includes("/")){const N=E.split("/");if(N.length===2){const S=parseFloat(N[0]),C=parseFloat(N[1]);if(!isNaN(S)&&!isNaN(C)&&C!==0){const O=S/C;return console.log(`Converted ${E} to ${O}`),O}}}const _=parseFloat(E);return isNaN(_)?(console.log(`Could not parse ${E} as number, returning null`),null):(console.log(`Parsed ${E} as ${_}`),_)},j=async k=>{try{u(!0);const E=k.map((_,N)=>{var C,O,R,P;console.log(`Processing row ${N+1}:`,_);const S={mobile_no:((C=_["Mobile No."])==null?void 0:C.toString())||"",unique_number:((O=_["Unique Number"])==null?void 0:O.toString())||null,name:_.Name||null,city:_.City||null,block:_.Block||null,caste:_.Caste||null,gender:_.Gender||null,qualification:_.Qualification||null,current_work:_["Current Work"]||null,qualifying_school:_["Qualifying SOP/SOB"]||null,whatsapp_number:((R=_["WA NO."])==null?void 0:R.toString())||null,set_name:_.Set||null,exam_centre:_["Offline Exam Centre"]||null,date_of_testing:_["Date of Testing"]||null,final_marks:b((P=_["Final Marks"])==null?void 0:P.toString()),final_notes:_["Final Notes"]||null,triptis_notes:_["Triptis Notes"]||null};return console.log(`Processed row ${N+1} final_marks:`,S.final_marks),S});R8(E),f(E.length),w(!0),n()}catch(E){console.error("Import error:",E),c(E instanceof Error?E.message:"Unknown error occurred")}finally{u(!1)}};return r.jsx(Qt,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"sm:max-w-[425px]",children:[r.jsxs(rn,{children:[r.jsx(Kt,{children:"Import Applicants from CSV"}),r.jsx(s1,{children:"Upload a CSV file to add multiple applicants at once. Duplicate mobile numbers are now allowed."})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[r.jsx(J,{htmlFor:"file",className:"text-right",children:"CSV File"}),r.jsx(ae,{type:"file",id:"file",className:"col-span-3",accept:".csv",onChange:y})]}),l&&r.jsxs("div",{className:"flex items-center text-sm text-destructive",children:[r.jsx(Tg,{className:"mr-2 h-4 w-4"}),l]}),d&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing CSV data..."}),r.jsx(Ox,{value:x})]}),p&&r.jsxs("div",{className:"flex items-center text-sm text-green-500",children:[r.jsx(fi,{className:"mr-2 h-4 w-4"}),"Successfully imported ",h," applicants!"]})]}),r.jsx($,{onClick:g,disabled:!s||d,children:d?"Importing...":"Import"})]})})},fB=cc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tn({className:e,variant:t,...n}){return r.jsx("div",{className:Z(fB({variant:t}),e),...n})}const mB=({selectedRowsCount:e,onBulkUpdate:t,onSendOfferLetters:n,onBulkDelete:s})=>e===0?null:r.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[r.jsxs(tn,{variant:"secondary",children:[e," selected"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:t,children:[r.jsx(hs,{className:"h-4 w-4 mr-2"}),"Bulk Update"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:n,children:[r.jsx(zl,{className:"h-4 w-4 mr-2"}),"Send Offer Letters"]}),r.jsxs($,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),pB=({onCSVImport:e,onExportCSV:t,onShowFilters:n,onAddApplicant:s})=>r.jsxs(r.Fragment,{children:[r.jsxs($,{onClick:e,variant:"outline",size:"sm",children:[r.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs($,{onClick:t,variant:"outline",size:"sm",children:[r.jsx(zu,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs($,{onClick:n,variant:"outline",size:"sm",children:[r.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Filters"]}),r.jsxs($,{onClick:s,size:"sm",children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Add Applicant"]})]});var jp=["Enter"," "],gB=["ArrowDown","PageUp","Home"],PC=["ArrowUp","PageDown","End"],xB=[...gB,...PC],vB={ltr:[...jp,"ArrowRight"],rtl:[...jp,"ArrowLeft"]},yB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sc="Menu",[Jl,wB,bB]=Fu(Sc),[lo,TC]=At(Sc,[bB,fa,Mi]),xh=fa(),RC=Mi(),[jB,co]=lo(Sc),[NB,Cc]=lo(Sc),AC=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:o,modal:i=!0}=e,l=xh(t),[c,d]=m.useState(null),u=m.useRef(!1),h=ft(o),f=Di(a);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Vg,{...l,children:r.jsx(jB,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(NB,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:i,children:s})})})};AC.displayName=Sc;var _B="MenuAnchor",Dx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=xh(n);return r.jsx(hc,{...a,...s,ref:t})});Dx.displayName=_B;var Mx="MenuPortal",[SB,OC]=lo(Mx,{forceMount:void 0}),DC=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,o=co(Mx,t);return r.jsx(SB,{scope:t,forceMount:n,children:r.jsx(Ct,{present:n||o.open,children:r.jsx(ki,{asChild:!0,container:a,children:s})})})};DC.displayName=Mx;var Wn="MenuContent",[CB,Ix]=lo(Wn),MC=m.forwardRef((e,t)=>{const n=OC(Wn,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,o=co(Wn,e.__scopeMenu),i=Cc(Wn,e.__scopeMenu);return r.jsx(Jl.Provider,{scope:e.__scopeMenu,children:r.jsx(Ct,{present:s||o.open,children:r.jsx(Jl.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(kB,{...a,ref:t}):r.jsx(EB,{...a,ref:t})})})})}),kB=m.forwardRef((e,t)=>{const n=co(Wn,e.__scopeMenu),s=m.useRef(null),a=be(t,s);return m.useEffect(()=>{const o=s.current;if(o)return th(o)},[]),r.jsx(Lx,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),EB=m.forwardRef((e,t)=>{const n=co(Wn,e.__scopeMenu);return r.jsx(Lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PB=ra("MenuContent.ScrollLock"),Lx=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:w,...x}=e,v=co(Wn,n),y=Cc(Wn,n),g=xh(n),b=RC(n),j=wB(n),[k,E]=m.useState(null),_=m.useRef(null),N=be(t,_,v.onContentChange),S=m.useRef(0),C=m.useRef(""),O=m.useRef(0),R=m.useRef(null),P=m.useRef("right"),I=m.useRef(0),z=w?gc:m.Fragment,B=w?{as:PB,allowPinchZoom:!0}:void 0,D=A=>{var Q,ne;const F=C.current+A,U=j().filter(oe=>!oe.disabled),V=document.activeElement,q=(Q=U.find(oe=>oe.ref.current===V))==null?void 0:Q.textValue,te=U.map(oe=>oe.textValue),fe=BB(te,F,q),xe=(ne=U.find(oe=>oe.textValue===fe))==null?void 0:ne.ref.current;(function oe(de){C.current=de,window.clearTimeout(S.current),de!==""&&(S.current=window.setTimeout(()=>oe(""),1e3))})(F),xe&&setTimeout(()=>xe.focus())};m.useEffect(()=>()=>window.clearTimeout(S.current),[]),Zu();const T=m.useCallback(A=>{var U,V;return P.current===((U=R.current)==null?void 0:U.side)&&WB(A,(V=R.current)==null?void 0:V.area)},[]);return r.jsx(CB,{scope:n,searchRef:C,onItemEnter:m.useCallback(A=>{T(A)&&A.preventDefault()},[T]),onItemLeave:m.useCallback(A=>{var F;T(A)||((F=_.current)==null||F.focus(),E(null))},[T]),onTriggerLeave:m.useCallback(A=>{T(A)&&A.preventDefault()},[T]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(A=>{R.current=A},[]),children:r.jsx(z,{...B,children:r.jsx(pc,{asChild:!0,trapped:a,onMountAutoFocus:G(o,A=>{var F;A.preventDefault(),(F=_.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(ao,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:r.jsx(rx,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:E,onEntryFocus:G(c,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Qu,{role:"menu","aria-orientation":"vertical","data-state":JC(v.open),"data-radix-menu-content":"",dir:y.dir,...g,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:G(x.onKeyDown,A=>{const U=A.target.closest("[data-radix-menu-content]")===A.currentTarget,V=A.ctrlKey||A.altKey||A.metaKey,q=A.key.length===1;U&&(A.key==="Tab"&&A.preventDefault(),!V&&q&&D(A.key));const te=_.current;if(A.target!==te||!xB.includes(A.key))return;A.preventDefault();const xe=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);PC.includes(A.key)&&xe.reverse(),FB(xe)}),onBlur:G(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(S.current),C.current="")}),onPointerMove:G(e.onPointerMove,Xl(A=>{const F=A.target,U=I.current!==A.clientX;if(A.currentTarget.contains(F)&&U){const V=A.clientX>I.current?"right":"left";P.current=V,I.current=A.clientX}}))})})})})})})});MC.displayName=Wn;var TB="MenuGroup",$x=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ie.div,{role:"group",...s,ref:t})});$x.displayName=TB;var RB="MenuLabel",IC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ie.div,{...s,ref:t})});IC.displayName=RB;var pu="MenuItem",$0="menu.itemSelect",vh=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,o=m.useRef(null),i=Cc(pu,e.__scopeMenu),l=Ix(pu,e.__scopeMenu),c=be(t,o),d=m.useRef(!1),u=()=>{const h=o.current;if(!n&&h){const f=new CustomEvent($0,{bubbles:!0,cancelable:!0});h.addEventListener($0,p=>s==null?void 0:s(p),{once:!0}),Sg(h,f),f.defaultPrevented?d.current=!1:i.onClose()}};return r.jsx(LC,{...a,ref:c,disabled:n,onClick:G(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:G(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:G(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||jp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});vh.displayName=pu;var LC=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...o}=e,i=Ix(pu,n),l=RC(n),c=m.useRef(null),d=be(t,c),[u,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[o.children]),r.jsx(Jl.ItemSlot,{scope:n,disabled:s,textValue:a??f,children:r.jsx(sx,{asChild:!0,...l,focusable:!s,children:r.jsx(ie.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:d,onPointerMove:G(e.onPointerMove,Xl(w=>{s?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,Xl(w=>i.onItemLeave(w))),onFocus:G(e.onFocus,()=>h(!0)),onBlur:G(e.onBlur,()=>h(!1))})})})}),AB="MenuCheckboxItem",$C=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return r.jsx(WC,{scope:e.__scopeMenu,checked:n,children:r.jsx(vh,{role:"menuitemcheckbox","aria-checked":gu(n)?"mixed":n,...a,ref:t,"data-state":Ux(n),onSelect:G(a.onSelect,()=>s==null?void 0:s(gu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$C.displayName=AB;var FC="MenuRadioGroup",[OB,DB]=lo(FC,{value:void 0,onValueChange:()=>{}}),UC=m.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,o=ft(s);return r.jsx(OB,{scope:e.__scopeMenu,value:n,onValueChange:o,children:r.jsx($x,{...a,ref:t})})});UC.displayName=FC;var BC="MenuRadioItem",zC=m.forwardRef((e,t)=>{const{value:n,...s}=e,a=DB(BC,e.__scopeMenu),o=n===a.value;return r.jsx(WC,{scope:e.__scopeMenu,checked:o,children:r.jsx(vh,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Ux(o),onSelect:G(s.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,n)},{checkForDefaultPrevented:!1})})})});zC.displayName=BC;var Fx="MenuItemIndicator",[WC,MB]=lo(Fx,{checked:!1}),VC=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,o=MB(Fx,n);return r.jsx(Ct,{present:s||gu(o.checked)||o.checked===!0,children:r.jsx(ie.span,{...a,ref:t,"data-state":Ux(o.checked)})})});VC.displayName=Fx;var IB="MenuSeparator",qC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});qC.displayName=IB;var LB="MenuArrow",HC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=xh(n);return r.jsx(Gu,{...a,...s,ref:t})});HC.displayName=LB;var $B="MenuSub",[aW,QC]=lo($B),ll="MenuSubTrigger",GC=m.forwardRef((e,t)=>{const n=co(ll,e.__scopeMenu),s=Cc(ll,e.__scopeMenu),a=QC(ll,e.__scopeMenu),o=Ix(ll,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(Dx,{asChild:!0,...d,children:r.jsx(LC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":JC(n.open),...e,ref:$u(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,Xl(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:G(e.onPointerLeave,Xl(h=>{var p,w;u();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const x=(w=n.content)==null?void 0:w.dataset.side,v=x==="right",y=v?-5:5,g=f[v?"left":"right"],b=f[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:g,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:g,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,h=>{var p;const f=o.searchRef.current!=="";e.disabled||f&&h.key===" "||vB[s.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});GC.displayName=ll;var KC="MenuSubContent",YC=m.forwardRef((e,t)=>{const n=OC(Wn,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,o=co(Wn,e.__scopeMenu),i=Cc(Wn,e.__scopeMenu),l=QC(KC,e.__scopeMenu),c=m.useRef(null),d=be(t,c);return r.jsx(Jl.Provider,{scope:e.__scopeMenu,children:r.jsx(Ct,{present:s||o.open,children:r.jsx(Jl.Slot,{scope:e.__scopeMenu,children:r.jsx(Lx,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:G(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:G(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),f=yB[i.dir].includes(u.key);h&&f&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});YC.displayName=KC;function JC(e){return e?"open":"closed"}function gu(e){return e==="indeterminate"}function Ux(e){return gu(e)?"indeterminate":e?"checked":"unchecked"}function FB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function UB(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function BB(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=UB(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function zB(e,t){const{x:n,y:s}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,h=c.x,f=c.y;u>s!=f>s&&n<(h-d)*(s-u)/(f-u)+d&&(a=!a)}return a}function WB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zB(n,t)}function Xl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var VB=AC,qB=Dx,HB=DC,QB=MC,GB=$x,KB=IC,YB=vh,JB=$C,XB=UC,ZB=zC,ez=VC,tz=qC,nz=HC,rz=GC,sz=YC,yh="DropdownMenu",[az,oW]=At(yh,[TC]),on=TC(),[oz,XC]=az(yh),ZC=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=on(t),d=m.useRef(null),[u,h]=fr({prop:a,defaultProp:o??!1,onChange:i,caller:yh});return r.jsx(oz,{scope:t,triggerId:ur(),triggerRef:d,contentId:ur(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:r.jsx(VB,{...c,open:u,onOpenChange:h,dir:s,modal:l,children:n})})};ZC.displayName=yh;var ek="DropdownMenuTrigger",tk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,o=XC(ek,n),i=on(n);return r.jsx(qB,{asChild:!0,...i,children:r.jsx(ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:$u(t,o.triggerRef),onPointerDown:G(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:G(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tk.displayName=ek;var iz="DropdownMenuPortal",nk=e=>{const{__scopeDropdownMenu:t,...n}=e,s=on(t);return r.jsx(HB,{...s,...n})};nk.displayName=iz;var rk="DropdownMenuContent",sk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=XC(rk,n),o=on(n),i=m.useRef(!1);return r.jsx(QB,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...s,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:G(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sk.displayName=rk;var lz="DropdownMenuGroup",cz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(GB,{...a,...s,ref:t})});cz.displayName=lz;var dz="DropdownMenuLabel",ak=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(KB,{...a,...s,ref:t})});ak.displayName=dz;var uz="DropdownMenuItem",ok=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(YB,{...a,...s,ref:t})});ok.displayName=uz;var hz="DropdownMenuCheckboxItem",ik=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(JB,{...a,...s,ref:t})});ik.displayName=hz;var fz="DropdownMenuRadioGroup",mz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(XB,{...a,...s,ref:t})});mz.displayName=fz;var pz="DropdownMenuRadioItem",lk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(ZB,{...a,...s,ref:t})});lk.displayName=pz;var gz="DropdownMenuItemIndicator",ck=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(ez,{...a,...s,ref:t})});ck.displayName=gz;var xz="DropdownMenuSeparator",dk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(tz,{...a,...s,ref:t})});dk.displayName=xz;var vz="DropdownMenuArrow",yz=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(nz,{...a,...s,ref:t})});yz.displayName=vz;var wz="DropdownMenuSubTrigger",uk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(rz,{...a,...s,ref:t})});uk.displayName=wz;var bz="DropdownMenuSubContent",hk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=on(n);return r.jsx(sz,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hk.displayName=bz;var jz=ZC,Nz=tk,_z=nk,fk=sk,mk=ak,pk=ok,gk=ik,xk=lk,vk=ck,yk=dk,wk=uk,bk=hk;const Sz=jz,Cz=Nz,kz=m.forwardRef(({className:e,inset:t,children:n,...s},a)=>r.jsxs(wk,{ref:a,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(iN,{className:"ml-auto h-4 w-4"})]}));kz.displayName=wk.displayName;const Ez=m.forwardRef(({className:e,...t},n)=>r.jsx(bk,{ref:n,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ez.displayName=bk.displayName;const jk=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(_z,{children:r.jsx(fk,{ref:s,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jk.displayName=fk.displayName;const Np=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(pk,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Np.displayName=pk.displayName;const Pz=m.forwardRef(({className:e,children:t,checked:n,...s},a)=>r.jsxs(gk,{ref:a,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(vk,{children:r.jsx(Pg,{className:"h-4 w-4"})})}),t]}));Pz.displayName=gk.displayName;const Tz=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(xk,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(vk,{children:r.jsx(Rg,{className:"h-2 w-2 fill-current"})})}),t]}));Tz.displayName=xk.displayName;const Rz=m.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(mk,{ref:s,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Rz.displayName=mk.displayName;const Az=m.forwardRef(({className:e,...t},n)=>r.jsx(yk,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));Az.displayName=yk.displayName;const Oz=({applicant:e,isSelected:t,onSelect:n,onUpdate:s,onViewDetails:a,onViewComments:o,onCampusChange:i})=>{const l=[e.first_name,e.middle_name,e.last_name].filter(Boolean).join(" ")||e.name||"No name",c=d=>d.split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2);return r.jsxs(St,{children:[r.jsx(ve,{className:"w-12",children:r.jsx(mc,{checked:t,onCheckedChange:()=>n(e.id),"aria-label":`Select ${l}`})}),r.jsx(ve,{className:"w-16",children:r.jsxs(Px,{className:"h-8 w-8",children:[r.jsx(yC,{src:e.image,alt:l}),r.jsx(Tx,{className:"text-xs",children:c(l)})]})}),r.jsx(ve,{className:"min-w-[200px] max-w-[250px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"first_name",displayValue:l,onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"min-w-[140px] max-w-[180px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"phone_number",displayValue:e.phone_number||e.mobile_no||"No phone",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"min-w-[140px] max-w-[180px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"whatsapp_number",displayValue:e.whatsapp_number||"No WhatsApp",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"min-w-[120px] max-w-[160px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"gender",displayValue:e.gender||"Not specified",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"min-w-[120px] max-w-[160px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"city",displayValue:e.city||"Not specified",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"min-w-[180px] max-w-[220px]",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"state",displayValue:e.state||"Not specified",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"pin_code",displayValue:e.pin_code||"N/A",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"school_name",displayValue:e.school_name||"N/A",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"campus_name",displayValue:e.campus_name||"N/A",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"current_status",displayValue:e.current_status_name||"N/A",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsx("div",{className:"truncate",children:r.jsx(Re,{applicant:e,field:"campus_name",displayValue:e.religion_name||"N/A",onUpdate:s,showPencil:!0})})}),r.jsx(ve,{className:"w-24",children:r.jsxs(Sz,{children:[r.jsx(Cz,{asChild:!0,children:r.jsx($,{variant:"ghost",size:"sm",children:r.jsx(AA,{className:"h-4 w-4"})})}),r.jsxs(jk,{align:"end",side:"bottom",sideOffset:5,className:"bg-background border border-border shadow-lg z-50",children:[r.jsx(Np,{onClick:()=>a(e),children:"View Details"}),r.jsx(Np,{onClick:()=>o(e),children:"Comments"})]})]})})]},e.id)},Nk=()=>{const[e,t]=m.useState(!1),[n,s]=m.useState(!1),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(null),[f,p]=m.useState([]),[w,x]=m.useState([]),[v,y]=m.useState([]),[g,b]=m.useState([]),[j,k]=m.useState([]),[E,_]=m.useState(""),[N,S]=m.useState([]),[C,O]=m.useState({stage:"all",status:"all",examMode:"all",interviewMode:"all",partner:[],district:[],market:[],dateRange:{type:"application"}}),{toast:R}=De(),[P,I]=m.useState(1),z=10,{data:B,isLoading:D,refetch:T}=oo({queryKey:["students"],queryFn:async()=>{const X=await PI();return console.log("Fetched data:",X),X}}),A=(B==null?void 0:B.data)||[];m.useEffect(()=>{(async()=>{try{const[L,W,H]=await Promise.all([p_(),x_(),Jg()]);p(L||[]),x(W||[]),k(H||[])}catch(L){console.error("Failed to fetch campuses/schools:",L)}})()},[]),m.useEffect(()=>{(async()=>{try{const[L,W]=await Promise.all([MI(),II()]);b(L||[]),y(W||[])}catch(L){console.error("Failed to fetch stages/statuses:",L)}})()},[]);const F=m.useMemo(()=>(A||[]).map(X=>{const L=w.find(he=>he.id===X.school_id),W=f.find(he=>he.id===X.campus_id),H=v.find(he=>he.id===X.current_status_id),pe=j.find(he=>he.id===X.religion_id);return{...X,mobile_no:X.mobile_no||X.phone_number||"",name:`${X.first_name||""} ${X.middle_name||""} ${X.last_name||""}`.trim(),school_name:L?L.school_name:"N/A",campus_name:W?W.campus_name:"N/A",current_status_name:H?H.current_status_name:"N/A",religion_name:pe?pe.religion_name:"N/A"}}),[A,w,f,v,j]),U=m.useMemo(()=>{if(!F)return[];if(!E)return F;const X=new RegExp(E,"i");return F.filter(L=>X.test(L.name||"")||X.test(L.mobile_no||"")||X.test(L.unique_number||""))},[F,E]),V=m.useMemo(()=>{const X=(P-1)*z,L=X+z;return U.slice(X,L)},[U,P,z]),q=Math.max(1,Math.ceil(U.length/z));m.useEffect(()=>{I(1)},[E]);const te=()=>I(X=>Math.max(X-1,1)),fe=()=>I(X=>Math.min(X+1,q)),xe=m.useCallback(X=>{S(L=>L.includes(X)?L.filter(W=>W!==X):[...L,X])},[]),Q=m.useCallback(()=>{I(1),T()},[T]),ne=m.useCallback(()=>{V.length===N.length?S([]):S(V.map(X=>X.id))},[V,N.length]),oe=async()=>{if(N.length===0){R({title:"No Selection",description:"Please select applicants to delete",variant:"destructive"});return}try{await Promise.all(N.map(X=>d_(X))),R({title:"Applicants Deleted",description:"Successfully deleted selected applicants"}),S([]),Q()}catch(X){console.error("Error deleting applicants:",X),R({title:"Error",description:"Failed to delete applicants",variant:"destructive"})}},de=async()=>{N.length===0&&R({title:"No Selection",description:"Please select applicants to send offer letters to",variant:"destructive"})},ee=X=>{O(X)},ue=()=>{if(!U||U.length===0){R({title:"No Data",description:"No applicants to export",variant:"destructive"});return}const X=["first_name","middle_name","last_name","dob","gender","email","phone_number","whatsapp_number","image","state","district","city","pin_code","school_medium","qualification_id","allotted_school","cast_id","religion_id","current_status_id","lr_status","lr_comments","cfr_status","cfr_comments","decision_status","offer_letter_status","joining_status","status","triptis_notes","final_notes"],L=[X.join(","),...U.map(he=>X.map(Ce=>{const Me=he[Ce];if(Me==null)return"";const pt=String(Me);return pt.includes(",")?`"${pt}"`:pt}).join(","))].join(`
`),W=new Blob([L],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),pe=URL.createObjectURL(W);H.setAttribute("href",pe),H.setAttribute("download",`applicants_${new Date().toISOString().split("T")[0]}.csv`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H),R({title:"Export Complete",description:`Exported ${U.length} applicants to CSV`})};return r.jsxs(_e,{className:"h-full flex flex-col",children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Be,{children:"Applicants"}),r.jsx(bn,{children:E?`${U.length} applicants found (filtered)`:`${A.length} total applicants`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mB,{selectedRowsCount:N.length,onBulkUpdate:()=>o(!0),onSendOfferLetters:de,onBulkDelete:oe}),r.jsx(pB,{onCSVImport:()=>l(!0),onExportCSV:ue,onShowFilters:()=>s(!0),onAddApplicant:()=>t(!0)})]})]})}),r.jsxs(Se,{className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"mb-4 space-y-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{type:"search",placeholder:"Search applicants...",className:"pl-10",value:E,onChange:X=>_(X.target.value)})]})}),r.jsx("div",{className:"flex-1 border rounded-md overflow-hidden",children:r.jsx("div",{className:"h-full overflow-auto",children:r.jsxs(ia,{children:[r.jsx(la,{className:"sticky top-0 bg-background z-10 border-b",children:r.jsxs(St,{children:[r.jsx(je,{className:"w-12 font-bold",children:r.jsx(mc,{checked:V.length>0&&N.length===V.length,onCheckedChange:ne,"aria-label":"Select all applicants"})}),r.jsx(je,{className:"font-bold w-16",children:"Image"}),r.jsx(je,{className:"font-bold min-w-[200px] max-w-[250px]",children:"Full Name"}),r.jsx(je,{className:"font-bold min-w-[140px] max-w-[180px]",children:"Phone Number"}),r.jsx(je,{className:"font-bold min-w-[140px] max-w-[180px]",children:"WhatsApp Number"}),r.jsx(je,{className:"font-bold min-w-[120px] max-w-[160px]",children:"Gender"}),r.jsx(je,{className:"font-bold min-w-[120px] max-w-[160px]",children:"City"}),r.jsx(je,{className:"font-bold min-w-[180px] max-w-[220px]",children:"State"}),r.jsx(je,{className:"font-bold w-24",children:"Pin Code"}),r.jsx(je,{className:"font-bold min-w-[180px]",children:"School"}),r.jsx(je,{className:"font-bold min-w-[180px]",children:"Campus"}),r.jsx(je,{className:"w-24 font-bold",children:"Current Status"}),r.jsx(je,{className:"w-24 font-bold",children:"Religion"}),r.jsx(je,{className:"w-24 font-bold",children:"Actions"})]})}),r.jsx(ca,{children:D?r.jsx(St,{children:r.jsx(ve,{colSpan:13,className:"text-center",children:"Loading applicants..."})}):V.length===0?r.jsx(St,{children:r.jsx(ve,{colSpan:13,className:"text-center text-muted-foreground py-6",children:"No applicants found."})}):V.map(X=>r.jsx(Oz,{applicant:X,isSelected:N.includes(X.id),onSelect:xe,onUpdate:Q,onViewDetails:d,onViewComments:h,onCampusChange:Q},X.id))})]})})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing"," ",U.length===0?0:(P-1)*z+1,"",Math.min(P*z,U.length)," ","of ",U.length]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:te,disabled:P===1,className:"px-3 py-1 rounded border bg-white disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:fe,disabled:P===q,className:"px-3 py-1 rounded border bg-white disabled:opacity-50",children:"Next"})]})]})]}),r.jsx(f6,{isOpen:e,onClose:()=>t(!1),onSuccess:Q,schoolList:w,campusList:f,currentstatusList:v,religionList:j}),r.jsx(hB,{isOpen:i,onClose:()=>l(!1),onSuccess:Q}),r.jsx(MS,{isOpen:n,onClose:()=>s(!1),onApplyFilters:ee,currentFilters:C,students:V}),r.jsx(D8,{isOpen:a,onClose:()=>o(!1),selectedApplicants:N,onSuccess:Q}),r.jsx(rB,{applicant:c,isOpen:!!c,onClose:()=>d(null)}),r.jsx(wC,{applicantId:(u==null?void 0:u.id)||"",applicantName:(u==null?void 0:u.name)||"",isOpen:!!u,onClose:()=>h(null)})]})},Dz=()=>r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Admissions Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Track and manage applicant progress through Navgurukul's admission process"})]}),r.jsx("div",{className:"mb-8",children:r.jsx(qI,{})}),r.jsx(Nk,{})]})})]}),Mz=()=>{const e=yr(),t=Rt();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("button",{onClick:()=>t("/auth"),className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Iz=()=>r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"All Applicants"}),r.jsx("p",{className:"text-muted-foreground",children:"Complete view of all applicants across all admission stages"})]}),r.jsx(Nk,{})]})})]});function _k({status:e}){const t=n=>n!=null&&n.includes("Pass")||n==="Offer Accepted"||n==="Onboarded"||n==="Created Student Without Exam"?"bg-green-500/10 text-green-700 border-green-500/20":n!=null&&n.includes("Fail")||n==="Offer Declined"||n==="Duplicate"||n==="Unreachable"||n==="Became Disinterested"||n==="No Show"||n==="Selected but not joined"?"bg-red-500/10 text-red-700 border-red-500/20":n!=null&&n.includes("Pending")||n==="Offer Sent"||n==="Reschedule"||n==="Waitlisted"||n==="Enrollment Key Generated"||n==="Basic Details Entered"||n==="Pending Booking"?"bg-yellow-500/10 text-yellow-700 border-yellow-500/20":"bg-gray-500/10 text-gray-700 border-gray-500/20";return r.jsx("span",{className:Z("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",t(e)),children:e||"No Status"})}const Lz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),{toast:a}=De(),{user:o}=On(),i=Rt();m.useEffect(()=>{c()},[]);const l=()=>{i("/schedule")},c=async()=>{try{if(s(!0),!o){t([]);return}const{data:h,error:f}=await ye.from("admission_dashboard").select("id, mobile_no, unique_number, name, lr_status, cfr_status, lr_comments, cfr_comments, date_of_testing").or("lr_status.not.is.null,cfr_status.not.is.null").order("date_of_testing",{ascending:!1});if(f)throw console.error("Supabase error:",f),f;console.log(`Successfully fetched ${(h==null?void 0:h.length)||0} interview records`),t(h||[])}catch(h){console.error("Error fetching interview data:",h),a({title:"Error",description:"Failed to load interview data",variant:"destructive"}),t([])}finally{s(!1)}},d=h=>h.cfr_status?"Cultural Fit":h.lr_status?"Learning Round":"Interview",u=h=>h.cfr_status?h.cfr_status:h.lr_status?h.lr_status:"scheduled";return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Interviews"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage interview schedules and feedback"})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border",children:[r.jsx("div",{className:"p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Interview Records"}),r.jsx("div",{className:"flex flex-col gap-4 md:flex-row",children:r.jsxs($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",onClick:l,children:[r.jsx(mr,{className:"w-4 h-4 mr-2"}),"Schedule Interview"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/30",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Applicant"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Type"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Date"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Comments"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"Loading interviews..."})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"No interview records found"})}):e.map(h=>r.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:h.name||"N/A"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:h.unique_number||h.mobile_no})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ns,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-foreground",children:d(h)})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Or,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-foreground",children:h.date_of_testing?new Date(h.date_of_testing).toLocaleDateString():"Not scheduled"})]})}),r.jsx("td",{className:"p-4",children:r.jsx(_k,{status:u(h)})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground",children:h.cfr_comments||h.lr_comments||"No comments"})}),r.jsx("td",{className:"p-4",children:r.jsx($,{variant:"outline",size:"sm",children:"View Details"})})]},h.id))})]})})]})]})})]})};function $z({isOpen:e,onClose:t,onSuccess:n}){const[s,a]=m.useState(),[o,i]=m.useState([{startTime:"",endTime:"",interviewer:""}]),[l,c]=m.useState(!1),{toast:d}=De(),u=()=>{i([...o,{startTime:"",endTime:"",interviewer:""}])},h=x=>{if(o.length>1){const v=o.filter((y,g)=>g!==x);i(v)}},f=(x,v,y)=>{const g=[...o];g[x][v]=y,i(g)},p=async x=>{if(x.preventDefault(),!s){d({title:"Error",description:"Please select a date",variant:"destructive"});return}if(o.some(y=>!y.startTime||!y.endTime||!y.interviewer)){d({title:"Error",description:"Please fill in all time slot details",variant:"destructive"});return}try{c(!0);const y=o.map(b=>({date_of_testing:Hn(s,"yyyy-MM-dd"),lr_status:`Available Slot: ${b.startTime} - ${b.endTime}`,lr_comments:`Interviewer: ${b.interviewer}`,name:"Interview Slot",mobile_no:`slot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,created_at:new Date().toISOString()})),{error:g}=await ye.from("admission_dashboard").insert(y);if(g)throw g;d({title:"Success",description:`${o.length} interview slots added successfully`}),n(),w()}catch(y){console.error("Error adding slots:",y),d({title:"Error",description:"Failed to add interview slots",variant:"destructive"})}finally{c(!1)}},w=()=>{a(void 0),i([{startTime:"",endTime:"",interviewer:""}]),t()};return r.jsx(Qt,{open:e,onOpenChange:w,children:r.jsxs(Gt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(rn,{children:r.jsxs(Kt,{className:"flex items-center gap-2",children:[r.jsx(mr,{className:"w-5 h-5"}),"Add Interview Slots"]})}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{children:"Select Date"}),r.jsxs(du,{children:[r.jsx(uu,{asChild:!0,children:r.jsxs($,{variant:"outline",className:Z("w-full justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[r.jsx(mr,{className:"mr-2 h-4 w-4"}),s?Hn(s,"PPP"):r.jsx("span",{children:"Pick a date"})]})}),r.jsx(Kl,{className:"w-auto p-0",align:"start",children:r.jsx(Gl,{mode:"single",selected:s,onSelect:a,initialFocus:!0,className:Z("p-3 pointer-events-auto"),disabled:x=>x<new Date})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(J,{children:"Time Slots"}),r.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:u,className:"flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4"}),"Add Slot"]})]}),o.map((x,v)=>r.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium",children:["Slot ",v+1]}),o.length>1&&r.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(v),className:"text-destructive hover:text-destructive",children:r.jsx(pn,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(J,{htmlFor:`start-${v}`,className:"flex items-center gap-2",children:[r.jsx(Or,{className:"w-4 h-4"}),"Start Time"]}),r.jsx(ae,{id:`start-${v}`,type:"time",value:x.startTime,onChange:y=>f(v,"startTime",y.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(J,{htmlFor:`end-${v}`,className:"flex items-center gap-2",children:[r.jsx(Or,{className:"w-4 h-4"}),"End Time"]}),r.jsx(ae,{id:`end-${v}`,type:"time",value:x.endTime,onChange:y=>f(v,"endTime",y.target.value),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(J,{htmlFor:`interviewer-${v}`,className:"flex items-center gap-2",children:[r.jsx(dr,{className:"w-4 h-4"}),"Interviewer Name"]}),r.jsx(ae,{id:`interviewer-${v}`,type:"text",placeholder:"Enter interviewer name",value:x.interviewer,onChange:y=>f(v,"interviewer",y.target.value),required:!0})]})]},v))]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx($,{type:"button",variant:"outline",onClick:w,disabled:l,children:"Cancel"}),r.jsx($,{type:"submit",disabled:l,className:"bg-gradient-primary hover:bg-primary/90 text-white",children:l?"Adding Slots...":`Add ${o.length} Slot${o.length>1?"s":""}`})]})]})]})})}const Fz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(!1),{toast:i}=De(),{user:l}=On();m.useEffect(()=>{c()},[]);const c=async()=>{try{if(s(!0),!l){t([]);return}const{data:f,error:p}=await ye.from("admission_dashboard").select("id, name, unique_number, date_of_testing, lr_status, cfr_status, lr_comments").not("date_of_testing","is",null).order("date_of_testing",{ascending:!0});if(p)throw console.error("Supabase error:",p),p;console.log(`Successfully fetched ${(f==null?void 0:f.length)||0} scheduled interviews`),t(f||[])}catch(f){console.error("Error fetching schedule data:",f),i({title:"Error",description:"Failed to load schedule data",variant:"destructive"}),t([])}finally{s(!1)}},d=e.filter(f=>{if(!f.date_of_testing)return!1;const p=new Date(f.date_of_testing),w=new Date;return p.toDateString()===w.toDateString()});e.filter(f=>f.date_of_testing?new Date(f.date_of_testing)>new Date:!1);const u=d.filter(f=>{var p;return f.name==="Interview Slot"&&((p=f.lr_status)==null?void 0:p.includes("Available Slot"))}),h=d.filter(f=>{var p;return f.name!=="Interview Slot"||!((p=f.lr_status)!=null&&p.includes("Available Slot"))});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Interview Schedule"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage interview slots and availability"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Today's Interviews"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(mr,{className:"w-6 h-6 text-primary"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Available Slots"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(Or,{className:"w-6 h-6 text-status-pending"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Scheduled"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(Ga,{className:"w-6 h-6 text-status-active"})})]})})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border",children:[r.jsx("div",{className:"p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Today's Schedule"}),r.jsxs($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",onClick:()=>o(!0),children:[r.jsx(it,{className:"w-4 h-4 mr-2"}),"Add Slots"]})]})}),r.jsx("div",{className:"p-6",children:n?r.jsx("div",{className:"text-center text-muted-foreground",children:"Loading schedule..."}):r.jsxs("div",{className:"space-y-6",children:[u.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-foreground mb-3",children:"Available Slots"}),r.jsx("div",{className:"space-y-3",children:u.map(f=>{var p;return r.jsx("div",{className:"border border-status-pending/20 bg-status-pending/5 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-status-pending/10 rounded-full flex items-center justify-center",children:r.jsx(Or,{className:"w-4 h-4 text-status-pending"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:(p=f.lr_status)==null?void 0:p.replace("Available Slot: ","")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:f.lr_comments||"No interviewer assigned"})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-sm text-status-pending font-medium",children:"Available"})})]})},f.id)})})]}),h.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-foreground mb-3",children:"Scheduled Interviews"}),r.jsx("div",{className:"space-y-3",children:h.map(f=>r.jsx("div",{className:"border border-border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:f.name?f.name.split(" ").map(p=>p[0]).join(""):"N/A"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:f.name||"N/A"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:f.unique_number||"No ID"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-foreground",children:f.date_of_testing?new Date(f.date_of_testing).toLocaleDateString():"No date"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:f.lr_status||f.cfr_status||"Status pending"})]})]})},f.id))})]}),h.length===0&&u.length===0&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(mr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{className:"text-lg mb-2",children:"No interviews or slots scheduled for today"}),r.jsx("p",{className:"text-sm",children:'Click "Add Slots" to create available interview slots'})]})]})})]})]})}),r.jsx($z,{isOpen:a,onClose:()=>o(!1),onSuccess:c})]})},Uz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(""),{toast:i}=De(),{user:l}=On(),c=x=>x.filter(v=>v.stage==="contact"||!v.stage),d=async()=>{try{if(s(!0),!l){console.warn("No active session, skipping data fetch"),t([]);return}const{data:x,error:v}=await ye.from("admission_dashboard").select("*").order("created_at",{ascending:!1});if(v)throw console.error("Supabase error:",v),v;const y=c(x||[]);t(y)}catch(x){console.error("Error fetching applicants:",x),i({title:"Error",description:"Failed to load applicants data",variant:"destructive"}),t([])}finally{s(!1)}};m.useEffect(()=>{d();const x=ye.channel("sourcing_page_changes").on("postgres_changes",{event:"*",schema:"public",table:"admission_dashboard"},v=>{console.log("Real-time update received:",v),d()}).subscribe();return()=>{console.log("Cleaning up sourcing page subscription"),ye.removeChannel(x)}},[]);const u=e.filter(x=>{var v,y,g;return(((v=x.name)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))||x.mobile_no.toLowerCase().includes(a.toLowerCase())||((y=x.city)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||((g=x.unique_number)==null?void 0:g.toLowerCase().includes(a.toLowerCase())))??!1}),h=u.length,f=u.filter(x=>x.whatsapp_number).length,p=u.filter(x=>!x.date_of_testing).length,w=u.filter(x=>x.final_marks!==null).length;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Sourcing & Outreach"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage initial contact and outreach activities"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Contacts"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:h})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(_y,{className:"w-6 h-6 text-primary"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reached Out"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(Dm,{className:"w-6 h-6 text-status-active"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pending Follow-ups"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:p})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(Or,{className:"w-6 h-6 text-status-pending"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Converted to Screening"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:w})]}),r.jsx("div",{className:"w-12 h-12 bg-status-prospect/10 rounded-lg flex items-center justify-center",children:r.jsx(Og,{className:"w-6 h-6 text-status-prospect"})})]})})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Contact Pipeline"}),r.jsx($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",children:"Add New Contact"})]}),r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, phone, or location...",value:a,onChange:x=>o(x.target.value),className:"pl-10 h-9"})]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/30 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Applicant"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Contact Info"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Location"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading applicants..."})]})})}):u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(_y,{className:"w-8 h-8 opacity-50"}),r.jsx("span",{children:a?"No applicants found matching your search":"No applicants in sourcing stage"})]})})}):u.map(x=>r.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:x.name?x.name.split(" ").map(v=>v[0]).join(""):"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:x.name||"No Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:x.mobile_no})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{children:x.whatsapp_number?`WhatsApp: ${x.whatsapp_number}`:"No WhatsApp"}),r.jsx("p",{children:x.mobile_no?`Mobile: ${x.mobile_no}`:"No Mobile"})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(l4,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm text-foreground",children:x.city?`${x.city}${x.block?`, ${x.block}`:""}`:"Not specified"})]})}),r.jsx("td",{className:"p-4",children:r.jsx(_k,{status:"pending"})}),r.jsx("td",{className:"p-4",children:r.jsx($,{variant:"outline",size:"sm",children:"View Details"})})]},x.id))})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-border/50 bg-muted/20",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",u.length," of ",e.length," applicants"]})})]})]})})]})},Bz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(""),{toast:i}=De(),{user:l}=On(),c=v=>v.filter(y=>y.stage==="screening"),d=async()=>{try{if(s(!0),!l){console.warn("No active session, skipping data fetch"),t([]);return}const{data:v,error:y}=await ye.from("admission_dashboard").select("*").order("created_at",{ascending:!1});if(y)throw console.error("Supabase error:",y),y;const g=c(v||[]);t(g)}catch(v){console.error("Error fetching applicants:",v),i({title:"Error",description:"Failed to load applicants data",variant:"destructive"}),t([])}finally{s(!1)}};m.useEffect(()=>{d();const v=ye.channel("screening_page_changes").on("postgres_changes",{event:"*",schema:"public",table:"admission_dashboard"},y=>{console.log("Real-time update received:",y),d()}).subscribe();return()=>{console.log("Cleaning up screening page subscription"),ye.removeChannel(v)}},[]);const u=e.filter(v=>{var y,g,b;return(((y=v.name)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||v.mobile_no.toLowerCase().includes(a.toLowerCase())||((g=v.city)==null?void 0:g.toLowerCase().includes(a.toLowerCase()))||((b=v.unique_number)==null?void 0:b.toLowerCase().includes(a.toLowerCase())))??!1}),h=u.length,f=u.filter(v=>{var y;return(y=v.qualifying_school)==null?void 0:y.toLowerCase().includes("programming")}).length,p=u.filter(v=>{var y;return(y=v.qualifying_school)==null?void 0:y.toLowerCase().includes("business")}).length,w=u.length>0?(u.reduce((v,y)=>v+(y.final_marks||0),0)/u.length).toFixed(1):0,x=v=>{var y,g;return v.status==="pass"?(y=v.qualifying_school)!=null&&y.toLowerCase().includes("programming")?"Qualified for SOP":(g=v.qualifying_school)!=null&&g.toLowerCase().includes("business")?"Qualified for SOB":"Pass":v.status||"pending"};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Screening Tests"}),r.jsx("p",{className:"text-muted-foreground",children:"Monitor online assessment results and qualifications"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Tests Taken"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:h})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(Dm,{className:"w-6 h-6 text-primary"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Programming Track"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(S4,{className:"w-6 h-6 text-status-active"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Business Track"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:p})]}),r.jsx("div",{className:"w-12 h-12 bg-status-prospect/10 rounded-lg flex items-center justify-center",children:r.jsx(iA,{className:"w-6 h-6 text-status-prospect"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Average Score"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:w})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(Og,{className:"w-6 h-6 text-status-pending"})})]})})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Test Results"}),r.jsx($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",children:"Export Results"})]}),r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, phone, or location...",value:a,onChange:v=>o(v.target.value),className:"pl-10 h-9"})]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/30 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Applicant"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Test Score"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Test Date"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading applicants..."})]})})}):u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(Dm,{className:"w-8 h-8 opacity-50"}),r.jsx("span",{children:a?"No applicants found matching your search":"No applicants in screening stage"})]})})}):u.map(v=>r.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:v.name?v.name.split(" ").map(y=>y[0]).join(""):"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:v.name||"No Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:v.mobile_no})]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`text-lg font-bold ${(v.final_marks||0)>=27?"text-status-active":(v.final_marks||0)>=18?"text-status-prospect":"text-status-fail"}`,children:v.final_marks||0})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground font-medium",children:x(v)})}),r.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:v.date_of_testing?new Date(v.date_of_testing).toLocaleDateString():"N/A"}),r.jsx("td",{className:"p-4",children:r.jsx($,{variant:"outline",size:"sm",children:"View Details"})})]},v.id))})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-border/50 bg-muted/20",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",u.length," of ",e.length," applicants"]})})]})]})})]})},zz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(""),{toast:i}=De(),{user:l}=On(),c=v=>v.filter(y=>y.stage==="interviews"),d=async()=>{try{if(s(!0),!l){console.warn("No active session, skipping data fetch"),t([]);return}const{data:v,error:y}=await ye.from("admission_dashboard").select("*").order("created_at",{ascending:!1});if(y)throw console.error("Supabase error:",y),y;const g=c(v||[]);t(g)}catch(v){console.error("Error fetching applicants:",v),i({title:"Error",description:"Failed to load applicants data",variant:"destructive"}),t([])}finally{s(!1)}};m.useEffect(()=>{d();const v=ye.channel("interview_rounds_page_changes").on("postgres_changes",{event:"*",schema:"public",table:"admission_dashboard"},y=>{console.log("Real-time update received:",y),d()}).subscribe();return()=>{console.log("Cleaning up interview rounds page subscription"),ye.removeChannel(v)}},[]);const u=e.filter(v=>{var y,g,b;return(((y=v.name)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||v.mobile_no.toLowerCase().includes(a.toLowerCase())||((g=v.city)==null?void 0:g.toLowerCase().includes(a.toLowerCase()))||((b=v.unique_number)==null?void 0:b.toLowerCase().includes(a.toLowerCase())))??!1}),h=u.filter(v=>{var y;return(y=v.lr_status)==null?void 0:y.toLowerCase().includes("pass")}).length,f=u.filter(v=>{var y;return(y=v.cfr_status)==null?void 0:y.toLowerCase().includes("pass")}).length,p=u.filter(v=>v.lr_status&&!v.cfr_status).length,w=u.filter(v=>{var y,g;return((y=v.lr_status)==null?void 0:y.toLowerCase().includes("fail"))||((g=v.cfr_status)==null?void 0:g.toLowerCase().includes("fail"))}).length,x=v=>{switch(v){case"booked":return"Booked";case"pending":return"Pending";case"rescheduled":return"Rescheduled";case"lr_qualified":return"LR Qualified";case"lr_failed":return"LR Failed";case"cfr_qualified":return"CFR Qualified";case"cfr_failed":return"CFR Failed";default:return"Pending"}};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Interview Rounds"}),r.jsx("p",{className:"text-muted-foreground",children:"Track Learning Round and Cultural Fit interview progress"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Learning Round Pass"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:h})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(fi,{className:"w-6 h-6 text-status-active"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Cultural Fit Pass"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:f})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(ns,{className:"w-6 h-6 text-status-active"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pending Interviews"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:p})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(Or,{className:"w-6 h-6 text-status-pending"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Interview Failures"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:w})]}),r.jsx("div",{className:"w-12 h-12 bg-status-fail/10 rounded-lg flex items-center justify-center",children:r.jsx(Xd,{className:"w-6 h-6 text-status-fail"})})]})})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Interview Progress"}),r.jsx($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",children:"Schedule Next Round"})]}),r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, phone, or location...",value:a,onChange:v=>o(v.target.value),className:"pl-10 h-9"})]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/30 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Applicant"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Learning Round"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Cultural Fit Round"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading applicants..."})]})})}):u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(ns,{className:"w-8 h-8 opacity-50"}),r.jsx("span",{children:a?"No applicants found matching your search":"No applicants in interview rounds"})]})})}):u.map(v=>r.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:v.name?v.name.split(" ").map(y=>y[0]).join(""):"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:v.name||"No Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:v.mobile_no})]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground font-medium",children:x(v.status)})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground",children:v.lr_status||"Pending"})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground",children:v.cfr_status||"Pending"})}),r.jsx("td",{className:"p-4",children:r.jsx($,{variant:"outline",size:"sm",children:"View Details"})})]},v.id))})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-border/50 bg-muted/20",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",u.length," of ",e.length," applicants"]})})]})]})})]})},Wz=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(""),{toast:i}=De(),{user:l}=On(),c=f=>f.filter(p=>p.stage==="decision"),d=async()=>{try{if(s(!0),!l){console.warn("No active session, skipping data fetch"),t([]);return}const{data:f,error:p}=await ye.from("admission_dashboard").select("*").order("created_at",{ascending:!1});if(p)throw console.error("Supabase error:",p),p;const w=c(f||[]);t(w)}catch(f){console.error("Error fetching applicants:",f),i({title:"Error",description:"Failed to load applicants data",variant:"destructive"}),t([])}finally{s(!1)}};m.useEffect(()=>{d();const f=ye.channel("final_decisions_page_changes").on("postgres_changes",{event:"*",schema:"public",table:"admission_dashboard"},p=>{console.log("Real-time update received:",p),d()}).subscribe();return()=>{console.log("Cleaning up final decisions page subscription"),ye.removeChannel(f)}},[]);const u=e.filter(f=>{var p,w,x;return(((p=f.name)==null?void 0:p.toLowerCase().includes(a.toLowerCase()))||f.mobile_no.toLowerCase().includes(a.toLowerCase())||((w=f.city)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((x=f.unique_number)==null?void 0:x.toLowerCase().includes(a.toLowerCase())))??!1}),h=f=>{switch(f){case"offer_pending":return"Offer Letter Pending";case"offer_sent":return"Offer Letter Sent";case"offer_rejected":return"Offer Rejected";case"offer_accepted":return"Offer Accepted";default:return"Pending"}};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen",children:r.jsxs("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Final Decisions"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage offers, acceptances, and onboarding process"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Offers Sent"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.filter(f=>f.status==="offer_sent").length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(zl,{className:"w-6 h-6 text-status-pending"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Offers Accepted"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.filter(f=>f.status==="offer_accepted").length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(yl,{className:"w-6 h-6 text-status-active"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Successfully Onboarded"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.filter(f=>f.joining_status==="Joined"||f.joining_status==="joined").length})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(yl,{className:"w-6 h-6 text-primary"})})]})}),r.jsx("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pending Responses"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.filter(f=>f.status==="offer_sent"&&(!f.joining_status||f.joining_status==="pending")).length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-pending/10 rounded-lg flex items-center justify-center",children:r.jsx(Or,{className:"w-6 h-6 text-status-pending"})})]})})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Final Decision Pipeline"}),r.jsx($,{className:"bg-gradient-primary hover:bg-primary/90 text-white",children:"Send Offer Letters"})]}),r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, phone, or location...",value:a,onChange:f=>o(f.target.value),className:"pl-10 h-9"})]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/30 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Applicant"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Allotted School"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Joining Status"}),r.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading applicants..."})]})})}):u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(yl,{className:"w-8 h-8 opacity-50"}),r.jsx("span",{children:a?"No applicants found matching your search":"No applicants in final decisions stage"})]})})}):u.map(f=>r.jsxs("tr",{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:f.name?f.name.split(" ").map(p=>p[0]).join(""):"?"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground",children:f.name||"No Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:f.mobile_no})]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground font-medium",children:h(f.status)})}),r.jsx("td",{className:"p-4 text-sm text-foreground",children:f.allotted_school||"Not Assigned"}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"text-sm text-foreground",children:f.joining_status||"Pending"})}),r.jsx("td",{className:"p-4",children:r.jsx($,{variant:"outline",size:"sm",children:f.status==="offer_sent"&&!f.joining_status?"Send Reminder":"View Details"})})]},f.id))})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-border/50 bg-muted/20",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",u.length," of ",e.length," applicants"]})})]})]})})]})},Vz=({content:e,onChange:t})=>{const n=m.useRef(null),s=m.useRef(null),[a,o]=m.useState(null),{toast:i}=De();m.useEffect(()=>{n.current&&n.current.innerHTML!==e&&(n.current.innerHTML=e,setTimeout(()=>{l()},100))},[e]);const l=()=>{if(!n.current)return;n.current.querySelectorAll("img").forEach(g=>{var j;const b=g.cloneNode(!0);(j=g.parentNode)==null||j.replaceChild(b,g),b.style.cursor="pointer",b.style.maxWidth="100%",b.style.height="auto",b.style.display="block",b.style.border="2px solid transparent",b.style.transition="all 0.2s ease",b.style.userSelect="none",b.addEventListener("click",k=>{k.preventDefault(),k.stopPropagation(),c(b)}),b.addEventListener("mouseenter",()=>{a!==b&&(b.style.border="2px solid #3b82f6",b.style.transform="scale(1.02)")}),b.addEventListener("mouseleave",()=>{a!==b&&(b.style.border="2px solid transparent",b.style.transform="scale(1)")})})},c=y=>{a&&a!==y&&(a.style.border="2px solid transparent",a.style.boxShadow="none",a.style.transform="scale(1)"),o(y),y.style.border="2px solid #3b82f6",y.style.boxShadow="0 0 10px rgba(59, 130, 246, 0.4)",y.style.transform="scale(1.05)",console.log("Image selected:",y.src),i({title:"Image Selected",description:"Use the controls below to adjust the image."})},d=y=>{var j;if(!a){i({title:"No Image Selected",description:"Please click on an image first to align it.",variant:"destructive"});return}console.log("Aligning image to:",y);const g=document.createElement("div");g.style.width="100%",g.style.margin="10px 0",g.style.clear="both";const b=a.cloneNode(!0);switch(y){case"left":g.style.textAlign="left",b.style.float="left",b.style.marginRight="15px",b.style.marginBottom="10px";break;case"center":g.style.textAlign="center",b.style.float="none",b.style.margin="0 auto 10px auto",b.style.display="block";break;case"right":g.style.textAlign="right",b.style.float="right",b.style.marginLeft="15px",b.style.marginBottom="10px";break}g.appendChild(b),(j=a.parentNode)==null||j.replaceChild(g,a),o(b),f(),i({title:"Image Aligned",description:`Image aligned to ${y}`})},u=y=>{if(!a){i({title:"No Image Selected",description:"Please click on an image first to resize it.",variant:"destructive"});return}console.log("Resizing image to:",y);let g="",b="";switch(y){case"small":g="200px",b="200px";break;case"medium":g="400px",b="400px";break;case"large":g="600px",b="600px";break}a.style.width=g,a.style.maxWidth=b,a.style.height="auto",f(),i({title:"Image Resized",description:`Image resized to ${y}`})},h=(y,g)=>{try{document.execCommand(y,!1,g),f()}catch(b){console.error("Error executing command:",y,b)}},f=()=>{n.current&&(t(n.current.innerHTML),setTimeout(()=>{l()},100))},p=async y=>{var b;const g=(b=y.clipboardData)==null?void 0:b.items;if(g){for(let j=0;j<g.length;j++){const k=g[j];if(k.type.startsWith("image/")){y.preventDefault();const E=k.getAsFile();if(E){console.log("Pasting image from clipboard"),await w(E);return}}}setTimeout(()=>{f()},0)}},w=async y=>{var g,b,j,k;try{if(console.log("Starting image upload:",y.name||"clipboard-image"),!y.type.startsWith("image/")){i({title:"Invalid File",description:"Please select an image file",variant:"destructive"});return}i({title:"Uploading Image",description:"Please wait while your image is being uploaded..."});const E=((g=y.name)==null?void 0:g.split(".").pop())||y.type.split("/")[1]||"png",N=`template-images/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${E}`}`;console.log("Uploading to path:",N);const{error:S}=await ye.storage.from("offer-pdfs").upload(N,y);if(S)throw console.error("Image upload error:",S),S;const{data:C}=ye.storage.from("offer-pdfs").getPublicUrl(N);if(C!=null&&C.publicUrl){console.log("Image uploaded successfully:",C.publicUrl),n.current&&n.current.focus();const O=`
          <div style="text-align: center; margin: 15px 0; clear: both;">
            <img src="${C.publicUrl}" 
                 style="max-width: 100%; height: auto; display: block; margin: 0 auto; border: 2px solid transparent; cursor: pointer; transition: all 0.2s ease;" 
                 alt="Uploaded image" />
          </div>
        `;if((b=document.getSelection())!=null&&b.rangeCount){const R=(j=document.getSelection())==null?void 0:j.getRangeAt(0);if(R&&((k=n.current)!=null&&k.contains(R.commonAncestorContainer))){R.deleteContents();const P=document.createElement("div");P.innerHTML=O,R.insertNode(P)}else n.current&&(n.current.innerHTML+=O)}else n.current&&(n.current.innerHTML+=O);f(),i({title:"Image Uploaded Successfully",description:"Click on the image to select and modify its alignment or size."})}}catch(E){console.error("Error uploading image:",E),i({title:"Upload Error",description:"Failed to upload image. Please try again.",variant:"destructive"})}},x=y=>{var b;const g=(b=y.target.files)==null?void 0:b[0];g&&(console.log("File selected via input:",g.name),w(g)),s.current&&(s.current.value="")},v=y=>{y.target.tagName!=="IMG"&&a&&(a.style.border="2px solid transparent",a.style.boxShadow="none",a.style.transform="scale(1)",o(null))};return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"border-b bg-muted/50 p-2 flex gap-1 flex-wrap",children:[r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("bold"),type:"button",children:r.jsx(cA,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("italic"),type:"button",children:r.jsx(VA,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("underline"),type:"button",children:r.jsx(T4,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-px bg-border mx-1"}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("justifyLeft"),type:"button",children:r.jsx(ZR,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("justifyCenter"),type:"button",children:r.jsx(JR,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("justifyRight"),type:"button",children:r.jsx(tA,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-px bg-border mx-1"}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("insertUnorderedList"),type:"button",children:r.jsx(e4,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h("insertOrderedList"),type:"button",children:r.jsx(XA,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-px bg-border mx-1"}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>{var y;return(y=s.current)==null?void 0:y.click()},type:"button",children:r.jsx(Pi,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>{const y=prompt("Enter link URL:");y&&h("createLink",y)},type:"button",children:r.jsx(GA,{className:"h-4 w-4"})})]}),a&&r.jsxs("div",{className:"border-b bg-blue-50 p-3",children:[r.jsx("div",{className:"text-sm font-medium text-blue-900 mb-3",children:"Image Controls - Click to Apply"}),r.jsxs("div",{className:"flex gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx($,{size:"sm",variant:"outline",onClick:()=>d("left"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:" Left"}),r.jsx($,{size:"sm",variant:"outline",onClick:()=>d("center"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:" Center"}),r.jsx($,{size:"sm",variant:"outline",onClick:()=>d("right"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:"Right "})]}),r.jsx("div",{className:"w-px bg-border mx-1"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx($,{size:"sm",variant:"outline",onClick:()=>u("small"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:"Small"}),r.jsx($,{size:"sm",variant:"outline",onClick:()=>u("medium"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:"Medium"}),r.jsx($,{size:"sm",variant:"outline",onClick:()=>u("large"),type:"button",className:"text-xs px-3 bg-white hover:bg-blue-100",children:"Large"})]})]}),r.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:["Selected image: ",a.alt||"Unnamed image"]})]}),r.jsx("div",{ref:n,contentEditable:!0,className:"min-h-[400px] p-4 focus:outline-none prose max-w-none",onInput:f,onPaste:p,onClick:v,suppressContentEditableWarning:!0,style:{lineHeight:"1.6"}}),r.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:x,className:"hidden"})]})};function qz(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Bx="ScrollArea",[Sk,iW]=At(Bx),[Hz,Qn]=Sk(Bx),Ck=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[p,w]=m.useState(null),[x,v]=m.useState(null),[y,g]=m.useState(0),[b,j]=m.useState(0),[k,E]=m.useState(!1),[_,N]=m.useState(!1),S=be(t,O=>c(O)),C=Di(a);return r.jsx(Hz,{scope:n,type:s,dir:C,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:N,onCornerWidthChange:g,onCornerHeightChange:j,children:r.jsx(ie.div,{dir:C,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});Ck.displayName=Bx;var kk="ScrollAreaViewport",Ek=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...o}=e,i=Qn(kk,n),l=m.useRef(null),c=be(t,l,i.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Ek.displayName=kk;var $r="ScrollAreaScrollbar",zx=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Qn($r,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?r.jsx(Qz,{...s,ref:t,forceMount:n}):a.type==="scroll"?r.jsx(Gz,{...s,ref:t,forceMount:n}):a.type==="auto"?r.jsx(Pk,{...s,ref:t,forceMount:n}):a.type==="always"?r.jsx(Wx,{...s,ref:t}):null});zx.displayName=$r;var Qz=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Qn($r,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(Ct,{present:n||o,children:r.jsx(Pk,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Gz=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Qn($r,e.__scopeScrollArea),o=e.orientation==="horizontal",i=bh(()=>c("SCROLL_END"),100),[l,c]=qz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=o?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),i()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,o,c,i]),r.jsx(Ct,{present:n||l!=="hidden",children:r.jsx(Wx,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Pk=m.forwardRef((e,t)=>{const n=Qn($r,e.__scopeScrollArea),{forceMount:s,...a}=e,[o,i]=m.useState(!1),l=e.orientation==="horizontal",c=bh(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?d:u)}},10);return bi(n.viewport,c),bi(n.content,c),r.jsx(Ct,{present:s||o,children:r.jsx(Wx,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Wx=m.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=Qn($r,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Dk(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,p){return e7(f,i.current,l,p)}return n==="horizontal"?r.jsx(Kz,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,p=F0(f,l,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?r.jsx(Yz,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,p=F0(f,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),Kz=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,o=Qn($r,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),d=be(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Rk,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wh(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),Ik(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vu(i.paddingLeft),paddingEnd:vu(i.paddingRight)}})}})}),Yz=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,o=Qn($r,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),d=be(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Rk,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wh(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),Ik(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vu(i.paddingTop),paddingEnd:vu(i.paddingBottom)}})}})}),[Jz,Tk]=Sk($r),Rk=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,p=Qn($r,n),[w,x]=m.useState(null),v=be(t,S=>x(S)),y=m.useRef(null),g=m.useRef(""),b=p.viewport,j=s.content-s.viewport,k=ft(u),E=ft(c),_=bh(h,10);function N(S){if(y.current){const C=S.clientX-y.current.left,O=S.clientY-y.current.top;d({x:C,y:O})}}return m.useEffect(()=>{const S=C=>{const O=C.target;(w==null?void 0:w.contains(O))&&k(C,j)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[b,w,j,k]),m.useEffect(E,[s,E]),bi(w,_),bi(p.content,_),r.jsx(Jz,{scope:n,scrollbar:w,hasThumb:a,onThumbChange:ft(o),onThumbPointerUp:ft(i),onThumbPositionChange:E,onThumbPointerDown:ft(l),children:r.jsx(ie.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:G(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),y.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(S))}),onPointerMove:G(e.onPointerMove,N),onPointerUp:G(e.onPointerUp,S=>{const C=S.target;C.hasPointerCapture(S.pointerId)&&C.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),xu="ScrollAreaThumb",Ak=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Tk(xu,e.__scopeScrollArea);return r.jsx(Ct,{present:n||a.hasThumb,children:r.jsx(Xz,{ref:t,...s})})}),Xz=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,o=Qn(xu,n),i=Tk(xu,n),{onThumbPositionChange:l}=i,c=be(t,h=>i.onThumbChange(h)),d=m.useRef(void 0),u=bh(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=o.viewport;if(h){const f=()=>{if(u(),!d.current){const p=t7(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,u,l]),r.jsx(ie.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:G(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,x=h.clientY-p.top;i.onThumbPointerDown({x:w,y:x})}),onPointerUp:G(e.onPointerUp,i.onThumbPointerUp)})});Ak.displayName=xu;var Vx="ScrollAreaCorner",Ok=m.forwardRef((e,t)=>{const n=Qn(Vx,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(Zz,{...e,ref:t}):null});Ok.displayName=Vx;var Zz=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=Qn(Vx,n),[o,i]=m.useState(0),[l,c]=m.useState(0),d=!!(o&&l);return bi(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),bi(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),d?r.jsx(ie.div,{...s,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vu(e){return e?parseInt(e,10):0}function Dk(e,t){const n=e/t;return isNaN(n)?0:n}function wh(e){const t=Dk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function e7(e,t,n,s="ltr"){const a=wh(n),o=a/2,i=t||o,l=a-i,c=n.scrollbar.paddingStart+i,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return Mk([c,d],h)(e)}function F0(e,t,n="ltr"){const s=wh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-s,c=n==="ltr"?[0,i]:[i*-1,0],d=ap(e,c);return Mk([0,i],[0,l])(d)}function Mk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function Ik(e,t){return e>0&&e<t}var t7=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function bh(e,t){const n=ft(e),s=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),m.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function bi(e,t){const n=ft(t);vt(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var Lk=Ck,n7=Ek,r7=Ok;const $k=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(Lk,{ref:s,className:Z("relative overflow-hidden",e),...n,children:[r.jsx(n7,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(Fk,{}),r.jsx(r7,{})]}));$k.displayName=Lk.displayName;const Fk=m.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(zx,{ref:s,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(Ak,{className:"relative flex-1 rounded-full bg-border"})}));Fk.displayName=zx.displayName;const U0=e=>{switch(e){case"admission_dashboard":return r.jsx(Mm,{className:"h-3 w-3"});case"user_input":return r.jsx(dr,{className:"h-3 w-3"});case"system_generated":return r.jsx(mr,{className:"h-3 w-3"});default:return r.jsx(za,{className:"h-3 w-3"})}},s7=e=>{switch(e){case"admission_dashboard":return"bg-blue-100 text-blue-800";case"user_input":return"bg-green-100 text-green-800";case"system_generated":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},a7=[{id:"default-1",placeholder_key:"STUDENT_NAME",display_name:"Student Name",description:"Name of the student from admission dashboard",data_source:"admission_dashboard",is_active:!0},{id:"default-2",placeholder_key:"MOBILE_NUMBER",display_name:"Mobile Number",description:"Student mobile number",data_source:"admission_dashboard",is_active:!0},{id:"default-3",placeholder_key:"CAMPUS",display_name:"Campus",description:"Assigned campus",data_source:"admission_dashboard",is_active:!0},{id:"default-4",placeholder_key:"ALLOTTED_SCHOOL",display_name:"Allotted School",description:"School allotted to the student",data_source:"admission_dashboard",is_active:!0},{id:"default-5",placeholder_key:"FINAL_MARKS",display_name:"Final Marks",description:"Final examination marks",data_source:"admission_dashboard",is_active:!0},{id:"default-6",placeholder_key:"INTERVIEW_DATE",display_name:"Interview Date",description:"Scheduled interview date",data_source:"admission_dashboard",is_active:!0}],o7=({onInsertPlaceholder:e})=>{const[t,n]=m.useState(""),{toast:s}=De(),{data:a,isLoading:o}=oo({queryKey:["offer-placeholders"],queryFn:async()=>{const{data:u,error:h}=await ye.from("offer_placeholders").select("*").eq("is_active",!0).order("display_name");if(h)throw h;return u||[]}}),l=[...a7,...a||[]].filter(u=>{var h;return u.display_name.toLowerCase().includes(t.toLowerCase())||u.placeholder_key.toLowerCase().includes(t.toLowerCase())||((h=u.description)==null?void 0:h.toLowerCase().includes(t.toLowerCase()))}),c=(u,h)=>{e(u),s({title:"Placeholder Inserted",description:`Added {{${u}}} to the template`})},d=l.reduce((u,h)=>{const f=h.data_source;return u[f]||(u[f]=[]),u[f].push(h),u},{});return o?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{className:"text-sm",children:"Placeholders"})}),r.jsx(Se,{children:r.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading placeholders..."})})]}):r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs(Be,{className:"text-sm flex items-center gap-2",children:[r.jsx(it,{className:"h-4 w-4"}),"Insert Placeholders"]})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{placeholder:"Search placeholders...",value:t,onChange:u=>n(u.target.value),className:"pl-8 text-sm"})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Click any placeholder below to insert it into your template. Placeholders will be replaced with actual data when sending offers."}),r.jsx($k,{className:"h-[400px]",children:r.jsx("div",{className:"space-y-3",children:Object.entries(d).map(([u,h])=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[U0(u),r.jsx("span",{className:"text-xs font-medium capitalize",children:u.replace("_"," ")}),r.jsx(tn,{variant:"secondary",className:"text-xs",children:h.length})]}),r.jsx("div",{className:"space-y-1 pl-4",children:h.map(f=>r.jsx("div",{className:"group",children:r.jsx($,{variant:"ghost",size:"sm",className:"w-full justify-start text-left h-auto p-2 hover:bg-muted/50",onClick:()=>c(f.placeholder_key,f.display_name),children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-medium truncate",children:f.display_name}),r.jsx(tn,{variant:"outline",className:`text-xs ${s7(f.data_source)}`,children:U0(f.data_source)})]}),r.jsx("div",{className:"text-xs text-muted-foreground font-mono truncate",children:`{{${f.placeholder_key}}}`}),f.description&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1 leading-tight",children:f.description})]})})},f.id))})]},u))})}),r.jsx("div",{className:"pt-2 border-t",children:r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("div",{className:"font-medium",children:"Available Data Sources:"}),r.jsxs("div",{children:[" ",r.jsx("strong",{children:"Admission Dashboard:"})," Student data from All Applicants"]}),r.jsxs("div",{children:[" ",r.jsx("strong",{children:"User Input:"})," Custom values entered during send"]}),r.jsxs("div",{children:[" ",r.jsx("strong",{children:"System Generated:"})," Auto-generated values"]})]})})]})]})},i7=({isOpen:e,onClose:t,onDocumentUploaded:n})=>{const[s,a]=m.useState(!1),o=m.useRef(null),{toast:i}=De(),l=async()=>window.mammoth?window.mammoth:new Promise((h,f)=>{const p=document.createElement("script");p.src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js",p.onload=()=>{window.mammoth?h(window.mammoth):f(new Error("Mammoth library not loaded properly"))},p.onerror=()=>f(new Error("Failed to load mammoth library")),document.head.appendChild(p)}),c=async h=>{try{const f=await l(),p=await h.arrayBuffer(),w={convertImage:async y=>{try{console.log("Processing embedded image...");const g=await y.read(),b=new Blob([g],{type:y.contentType||"image/png"}),j=y.contentType?y.contentType.split("/")[1]:"png",E=`template-images/${`template-image-${Date.now()}-${Math.random().toString(36).substr(2,9)}.${j}`}`,{error:_}=await ye.storage.from("offer-pdfs").upload(E,b);if(_)return console.error("Image upload error:",_),{src:""};const{data:N}=ye.storage.from("offer-pdfs").getPublicUrl(E);return console.log("Image uploaded successfully:",N.publicUrl),{src:N.publicUrl}}catch(g){return console.error("Error processing embedded image:",g),{src:""}}},styleMap:["p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Title'] => h1.title:fresh","p[style-name='Subtitle'] => h2.subtitle:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"],ignoreEmptyParagraphs:!1,includeDefaultStyleMap:!0};console.log("Starting document conversion...");const x=await f.convertToHtml({arrayBuffer:p},w);if(x.messages&&x.messages.length>0){console.log("Conversion messages:",x.messages);const y=x.messages.filter(g=>g.type==="error");y.length>0&&console.error("Conversion errors:",y)}const v=`
        <div style="font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; max-width: 800px; margin: 0 auto;">
          ${x.value}
        </div>
      `;return console.log("Document converted successfully"),v}catch(f){console.error("Document conversion error:",f);try{console.log("Attempting simplified conversion...");const p=await l(),w=await h.arrayBuffer(),x={convertImage:()=>({src:""}),ignoreEmptyParagraphs:!0};return`
          <div style="font-family: Arial, sans-serif; line-height: 1.6; padding: 20px;">
            ${(await p.convertToHtml({arrayBuffer:w},x)).value}
            <p style="color: #666; font-style: italic; margin-top: 20px;">
              Note: Images from the original document were not included in this conversion. 
              You can add images manually using the editor tools.
            </p>
          </div>
        `}catch(p){throw console.error("Fallback conversion also failed:",p),new Error("Document conversion failed. This document may be too complex or corrupted. Please try with a simpler document.")}}},d=async h=>{if(!h.name.toLowerCase().endsWith(".docx")){i({title:"Invalid File Type",description:"Please upload a .docx file.",variant:"destructive"});return}a(!0);try{console.log("Starting file upload for:",h.name);const f=h.name.split(".").pop(),w=`template-docs/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${f}`}`,{error:x}=await ye.storage.from("offer-pdfs").upload(w,h);x&&console.error("File backup upload error:",x),console.log("Converting document to HTML...");const v=await c(h);console.log("Document converted successfully"),n(v),i({title:"Document Converted Successfully",description:"Your document has been converted and loaded into the editor."}),t()}catch(f){console.error("Conversion error:",f),i({title:"Conversion Error",description:f instanceof Error?f.message:"Failed to convert document. Please try again.",variant:"destructive"})}finally{a(!1)}},u=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&d(f)};return r.jsx(Qt,{open:e,onOpenChange:t,children:r.jsxs(Gt,{className:"max-w-md",children:[r.jsx(rn,{children:r.jsx(Kt,{children:"Upload Document Template"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Upload a .docx file to convert it to an editable HTML template."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(J,{htmlFor:"document-upload",children:"Select Document"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ae,{id:"document-upload",type:"file",accept:".docx",ref:o,onChange:u,disabled:s}),r.jsxs($,{type:"button",variant:"outline",onClick:()=>{var h;return(h=o.current)==null?void 0:h.click()},disabled:s,children:[s?r.jsx(r4,{className:"h-4 w-4 animate-spin mr-2"}):r.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Browse"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg text-sm",children:[r.jsx(za,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{className:"text-blue-800",children:[r.jsx("div",{className:"font-medium",children:"Supported format:"}),r.jsx("div",{children:" .docx files only"}),r.jsx("div",{className:"text-xs mt-1 text-blue-600",children:"Note: Complex documents with many images may take longer to process."})]})]})]})]})})},l7=({templateId:e,isNew:t,onClose:n})=>{const{toast:s}=De(),a=fc(),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState({name:"",template_type:"offer_letter",language:"en",program_type:"",html_content:""}),{data:h,isLoading:f}=oo({queryKey:["offer-template",e],queryFn:async()=>{if(!e)return null;const{data:g,error:b}=await ye.from("offer_templates").select("*").eq("id",e).single();if(b)throw b;return g},enabled:!!e&&!t});m.useEffect(()=>{h&&u({name:h.name,template_type:h.template_type,language:h.language,program_type:h.program_type||"",html_content:h.html_content})},[h]);const p=qo({mutationFn:async g=>{const b={...g,program_type:g.template_type==="offer_letter"?g.program_type:null};if(t){const{error:j}=await ye.from("offer_templates").insert([b]);if(j)throw j}else{const{error:j}=await ye.from("offer_templates").update(b).eq("id",e);if(j)throw j}},onSuccess:()=>{s({title:"Template saved",description:"Template has been successfully saved"}),a.invalidateQueries({queryKey:["offer-templates"]}),n()},onError:g=>{if(console.error("Save error:",g),(g==null?void 0:g.code)==="23505"&&g.message.includes("offer_templates_name_unique")){s({title:"Duplicate Template Name",description:`A template with the name "${d.name}" already exists. Please choose a different name.`,variant:"destructive"});return}s({title:"Error",description:"Failed to save template. Please check all required fields.",variant:"destructive"})}}),w=()=>{if(!d.name.trim()){s({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!d.html_content.trim()){s({title:"Validation Error",description:"Template content is required",variant:"destructive"});return}if(d.template_type==="offer_letter"&&(!d.program_type||!d.program_type.trim())){s({title:"Validation Error",description:"Program type is required for offer letter templates",variant:"destructive"});return}p.mutate(d)},x=g=>{u(b=>({...b,template_type:g,program_type:g==="offer_letter"?b.program_type:""}))},v=g=>{u(b=>({...b,html_content:g}))},y=g=>{u(b=>({...b,html_content:b.html_content+`{{${g}}}`}))};return f&&!t?r.jsx("div",{children:"Loading template..."}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs($,{variant:"ghost",onClick:n,children:[r.jsx(rA,{className:"h-4 w-4 mr-2"}),"Back to Templates"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Upload Doc"]}),r.jsxs($,{variant:"outline",onClick:()=>i(!0),children:[r.jsx(cN,{className:"h-4 w-4 mr-2"}),"Preview"]}),r.jsxs($,{onClick:w,disabled:p.isPending,children:[r.jsx(dc,{className:"h-4 w-4 mr-2"}),p.isPending?"Saving...":"Save Template"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Template Details"})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{htmlFor:"name",children:"Template Name *"}),r.jsx(ae,{id:"name",value:d.name,onChange:g=>u(b=>({...b,name:g.target.value})),placeholder:"Enter template name"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"template_type",children:"Template Type *"}),r.jsxs(Fe,{value:d.template_type,onValueChange:x,children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select type"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"offer_letter",children:"Offer Letter Only"}),r.jsx(re,{value:"consent_form",children:"Consent Form Only"}),r.jsx(re,{value:"checklist",children:"Checklist Only"}),r.jsx(re,{value:"complete_package",children:"Complete Package (Letter + Consent + Checklist)"})]})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"language",children:"Language *"}),r.jsxs(Fe,{value:d.language,onValueChange:g=>u(b=>({...b,language:g})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select language"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"en",children:"English"}),r.jsx(re,{value:"hi",children:"Hindi"})]})]})]}),d.template_type==="offer_letter"&&r.jsxs("div",{children:[r.jsx(J,{htmlFor:"program_type",children:"Program Type *"}),r.jsxs(Fe,{value:d.program_type,onValueChange:g=>u(b=>({...b,program_type:g})),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select program"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"SOP",children:"School of Programming"}),r.jsx(re,{value:"SOB",children:"School of Business"})]})]})]})]}),d.template_type==="complete_package"&&r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Complete Package Template"}),r.jsx("p",{className:"text-sm text-blue-700",children:"This template will send the offer letter, consent form, and checklist together in a single email. Structure your content with clear sections for each document type."}),r.jsxs("div",{className:"mt-3 p-3 bg-white rounded border text-sm",children:[r.jsx("strong",{children:"Suggested Structure:"}),r.jsxs("ul",{className:"mt-2 space-y-1 text-blue-600",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Section 1:"})," Offer Letter with admission details"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Section 2:"})," Consent Form for enrollment confirmation"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Section 3:"})," Checklist of required documents and next steps"]})]})]})]})]})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Be,{children:"Template Content *"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(za,{className:"h-4 w-4"}),r.jsx("span",{children:"Upload .docx files or edit directly"})]})]})}),r.jsxs(Se,{children:[r.jsx("div",{className:"mb-4 p-3 bg-amber-50 rounded-lg border border-amber-200",children:r.jsxs("div",{className:"text-sm text-amber-800",children:[r.jsx("div",{className:"font-medium mb-1",children:"Data Integration:"}),r.jsxs("div",{children:[" Use placeholders like ",r.jsx("code",{children:"{{STUDENT_NAME}}"})," to insert data from All Applicants table"]}),r.jsx("div",{children:" Placeholders will be automatically replaced with actual student data when sending offers"}),r.jsx("div",{children:" You can copy/paste images directly into the editor"})]})}),r.jsx(Vz,{content:d.html_content,onChange:g=>u(b=>({...b,html_content:g}))})]})]})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(o7,{onInsertPlaceholder:y})})]})]}),r.jsx(Qt,{open:o,onOpenChange:i,children:r.jsxs(Gt,{className:"max-w-4xl max-h-[80vh] overflow-auto",children:[r.jsx(rn,{children:r.jsx(Kt,{children:"Template Preview"})}),r.jsx("div",{className:"p-6 border rounded bg-white",dangerouslySetInnerHTML:{__html:d.html_content}})]})}),r.jsx(i7,{isOpen:l,onClose:()=>c(!1),onDocumentUploaded:v})]})},c7=({onEditTemplate:e})=>{const{toast:t}=De(),{data:n,isLoading:s,refetch:a}=oo({queryKey:["offer-templates"],queryFn:async()=>{const{data:l,error:c}=await ye.from("offer_templates").select("*").eq("is_active",!0).order("updated_at",{ascending:!1});if(c)throw c;return l}}),o=async l=>{try{const{error:c}=await ye.from("offer_templates").insert({name:`${l.name} (Copy)`,template_type:l.template_type,language:l.language,program_type:l.program_type,html_content:l.html_content,version_number:1});if(c)throw c;t({title:"Template duplicated",description:"Template has been successfully duplicated"}),a()}catch{t({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},i=async l=>{try{const{error:c}=await ye.from("offer_templates").update({is_active:!1}).eq("id",l);if(c)throw c;t({title:"Template deleted",description:"Template has been successfully deleted"}),a()}catch{t({title:"Error",description:"Failed to delete template",variant:"destructive"})}};return s?r.jsx("div",{children:"Loading templates..."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n==null?void 0:n.map(l=>r.jsxs(_e,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Oe,{className:"pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(Be,{className:"text-lg",children:l.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx($,{variant:"ghost",size:"sm",onClick:()=>e(l.id),children:r.jsx(hs,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>o(l),children:r.jsx(EA,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>i(l.id),children:r.jsx(Ht,{className:"h-4 w-4"})})]})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx(tn,{variant:"secondary",children:l.template_type}),r.jsx(tn,{variant:"outline",children:l.language.toUpperCase()}),l.program_type&&r.jsx(tn,{children:l.program_type})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Version ",l.version_number]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",new Date(l.updated_at).toLocaleDateString()]})]})})]},l.id))})},d7=()=>{const[e,t]=m.useState(""),[n,s]=m.useState("all"),{data:a,isLoading:o,refetch:i}=oo({queryKey:["offer-history",e,n],queryFn:async()=>{let c=ye.from("offer_history").select(`
          *,
          admission_dashboard(name, mobile_no, campus)
        `).order("created_at",{ascending:!1});n!=="all"&&(c=c.eq("email_status",n));const{data:d,error:u}=await c;if(u)throw u;return d}}),l=c=>{switch(c){case"sent":return"default";case"delivered":return"secondary";case"opened":return"default";case"bounced":return"destructive";case"failed":return"destructive";default:return"outline"}};return o?r.jsx("div",{children:"Loading offer history..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Offer History"}),r.jsxs($,{onClick:()=>i(),variant:"outline",children:[r.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{placeholder:"Search by applicant name...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]})}),r.jsxs(Fe,{value:n,onValueChange:s,children:[r.jsx(Le,{className:"w-[180px]",children:r.jsx(Ue,{placeholder:"Filter by status"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"all",children:"All Statuses"}),r.jsx(re,{value:"pending",children:"Pending"}),r.jsx(re,{value:"sent",children:"Sent"}),r.jsx(re,{value:"delivered",children:"Delivered"}),r.jsx(re,{value:"opened",children:"Opened"}),r.jsx(re,{value:"bounced",children:"Bounced"}),r.jsx(re,{value:"failed",children:"Failed"})]})]})]})}),r.jsx(Se,{children:r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{children:"Applicant"}),r.jsx(je,{children:"Campus"}),r.jsx(je,{children:"Status"}),r.jsx(je,{children:"Sent At"}),r.jsx(je,{children:"Actions"})]})}),r.jsx(ca,{children:a==null?void 0:a.map(c=>{var d,u,h;return r.jsxs(St,{children:[r.jsx(ve,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(d=c.admission_dashboard)==null?void 0:d.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:(u=c.admission_dashboard)==null?void 0:u.mobile_no})]})}),r.jsx(ve,{children:(h=c.admission_dashboard)==null?void 0:h.campus}),r.jsx(ve,{children:r.jsx(tn,{variant:l(c.email_status),children:c.email_status})}),r.jsx(ve,{children:c.sent_at?new Date(c.sent_at).toLocaleString():"Not sent"}),r.jsx(ve,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"ghost",size:"sm",children:r.jsx(zu,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",children:"Resend"})]})})]},c.id)})})]})})]})]})},u7=()=>{const{toast:e}=De(),t=fc(),[n,s]=m.useState(!1),[a,o]=m.useState(null),[i,l]=m.useState({placeholder_key:"",display_name:"",description:"",data_source:"admission_dashboard",field_mapping:"",conditional_logic:""}),{data:c,isLoading:d}=oo({queryKey:["all-placeholders"],queryFn:async()=>{const{data:y,error:g}=await ye.from("offer_placeholders").select("*").order("display_name");if(g)throw g;return y}}),u=qo({mutationFn:async y=>{const g={...y,field_mapping:y.field_mapping?JSON.parse(y.field_mapping):null,conditional_logic:y.conditional_logic?JSON.parse(y.conditional_logic):null};if(a){const{error:b}=await ye.from("offer_placeholders").update(g).eq("id",a.id);if(b)throw b}else{const{error:b}=await ye.from("offer_placeholders").insert([g]);if(b)throw b}},onSuccess:()=>{e({title:"Success",description:`Placeholder ${a?"updated":"created"} successfully`}),t.invalidateQueries({queryKey:["all-placeholders"]}),t.invalidateQueries({queryKey:["offer-placeholders"]}),p()},onError:y=>{console.error("Save error:",y),e({title:"Error",description:"Failed to save placeholder",variant:"destructive"})}}),h=qo({mutationFn:async y=>{const{error:g}=await ye.from("offer_placeholders").delete().eq("id",y);if(g)throw g},onSuccess:()=>{e({title:"Success",description:"Placeholder deleted successfully"}),t.invalidateQueries({queryKey:["all-placeholders"]}),t.invalidateQueries({queryKey:["offer-placeholders"]})},onError:y=>{console.error("Delete error:",y),e({title:"Error",description:"Failed to delete placeholder",variant:"destructive"})}}),f=qo({mutationFn:async({id:y,is_active:g})=>{const{error:b}=await ye.from("offer_placeholders").update({is_active:g}).eq("id",y);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["all-placeholders"]}),t.invalidateQueries({queryKey:["offer-placeholders"]})}}),p=()=>{l({placeholder_key:"",display_name:"",description:"",data_source:"admission_dashboard",field_mapping:"",conditional_logic:""}),o(null),s(!1)},w=y=>{l({placeholder_key:y.placeholder_key,display_name:y.display_name,description:y.description||"",data_source:y.data_source,field_mapping:y.field_mapping?JSON.stringify(y.field_mapping,null,2):"",conditional_logic:y.conditional_logic?JSON.stringify(y.conditional_logic,null,2):""}),o(y),s(!0)},x=()=>{if(!i.placeholder_key.trim()||!i.display_name.trim()){e({title:"Validation Error",description:"Placeholder key and display name are required",variant:"destructive"});return}if(i.field_mapping)try{JSON.parse(i.field_mapping)}catch{e({title:"Validation Error",description:"Field mapping must be valid JSON",variant:"destructive"});return}if(i.conditional_logic)try{JSON.parse(i.conditional_logic)}catch{e({title:"Validation Error",description:"Conditional logic must be valid JSON",variant:"destructive"});return}u.mutate(i)},v=y=>{y==="allotted_school"?l(g=>({...g,placeholder_key:"ALLOTTED_SCHOOL",display_name:"Allotted School",description:"School assigned based on student performance and preferences",field_mapping:JSON.stringify({source_table:"admission_dashboard",source_field:"allotted_school",default_value:"Not Assigned"},null,2),conditional_logic:JSON.stringify({conditions:[{if:"final_marks >= 18",then:"SOP",description:"Assign School of Programming for high performers"},{if:"final_marks < 18 && final_marks >= 15",then:"SOB",description:"Assign School of Business for average performers"},{else:"General",description:"Default assignment"}]},null,2)})):y==="template_type"&&l(g=>({...g,placeholder_key:"TEMPLATE_TYPE",display_name:"Template Type",description:"Determines which template to use based on student data",field_mapping:JSON.stringify({source_table:"admission_dashboard",logic_based:!0},null,2),conditional_logic:JSON.stringify({template_selection:[{if:"allotted_school === 'SOP'",template:"sop_offer_letter",description:"Use SOP offer letter template"},{if:"allotted_school === 'SOB'",template:"sob_offer_letter",description:"Use SOB offer letter template"}]},null,2)}))};return d?r.jsx("div",{children:"Loading placeholders..."}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Manage Placeholders"}),r.jsxs($,{onClick:()=>s(!0),children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Add Placeholder"]})]}),r.jsx("div",{className:"grid gap-4",children:c==null?void 0:c.map(y=>r.jsxs(_e,{children:[r.jsx(Oe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Be,{className:"text-base",children:y.display_name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tn,{variant:y.is_active?"default":"secondary",children:y.is_active?"Active":"Inactive"}),y.field_mapping&&r.jsxs(tn,{variant:"outline",className:"text-xs",children:[r.jsx(Mm,{className:"h-3 w-3 mr-1"}),"Mapped"]}),y.conditional_logic&&r.jsxs(tn,{variant:"outline",className:"text-xs",children:[r.jsx(Im,{className:"h-3 w-3 mr-1"}),"Logic"]}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>w(y),children:r.jsx(hs,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>f.mutate({id:y.id,is_active:!y.is_active}),children:y.is_active?r.jsx(pn,{className:"h-4 w-4"}):r.jsx(it,{className:"h-4 w-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h.mutate(y.id),children:r.jsx(Ht,{className:"h-4 w-4"})})]})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tn,{variant:"outline",children:y.placeholder_key}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["from ",y.data_source]})]}),y.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),y.field_mapping&&r.jsxs("div",{className:"text-xs bg-blue-50 p-2 rounded",children:[r.jsx("strong",{children:"Field Mapping:"})," ",JSON.stringify(y.field_mapping)]}),y.conditional_logic&&r.jsxs("div",{className:"text-xs bg-green-50 p-2 rounded",children:[r.jsx("strong",{children:"Conditional Logic:"})," ",JSON.stringify(y.conditional_logic)]})]})})]},y.id))}),r.jsx(Qt,{open:n,onOpenChange:p,children:r.jsxs(Gt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsx(rn,{children:r.jsx(Kt,{children:a?"Edit Placeholder":"Add New Placeholder"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>v("allotted_school"),children:[r.jsx(Mm,{className:"h-4 w-4 mr-1"}),"Allotted School Preset"]}),r.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>v("template_type"),children:[r.jsx(Im,{className:"h-4 w-4 mr-1"}),"Template Type Preset"]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"placeholder_key",children:"Placeholder Key"}),r.jsx(ae,{id:"placeholder_key",value:i.placeholder_key,onChange:y=>l(g=>({...g,placeholder_key:y.target.value.toUpperCase().replace(/\s+/g,"_")})),placeholder:"STUDENT_NAME"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"display_name",children:"Display Name"}),r.jsx(ae,{id:"display_name",value:i.display_name,onChange:y=>l(g=>({...g,display_name:y.target.value})),placeholder:"Student Name"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"data_source",children:"Data Source"}),r.jsxs(Fe,{value:i.data_source,onValueChange:y=>l(g=>({...g,data_source:y})),children:[r.jsx(Le,{children:r.jsx(Ue,{})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"admission_dashboard",children:"Admission Dashboard"}),r.jsx(re,{value:"profiles",children:"User Profiles"}),r.jsx(re,{value:"custom",children:"Custom Value"})]})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"description",children:"Description"}),r.jsx(Wt,{id:"description",value:i.description,onChange:y=>l(g=>({...g,description:y.target.value})),placeholder:"Description of what this placeholder represents"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"field_mapping",children:"Field Mapping (JSON)"}),r.jsx(Wt,{id:"field_mapping",value:i.field_mapping,onChange:y=>l(g=>({...g,field_mapping:y.target.value})),placeholder:'{"source_table": "admission_dashboard", "source_field": "allotted_school"}',className:"font-mono text-sm",rows:4}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Optional: Define how to map this placeholder to database fields"})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"conditional_logic",children:"Conditional Logic (JSON)"}),r.jsx(Wt,{id:"conditional_logic",value:i.conditional_logic,onChange:y=>l(g=>({...g,conditional_logic:y.target.value})),placeholder:'{"conditions": [{"if": "final_marks >= 18", "then": "SOP"}]}',className:"font-mono text-sm",rows:6}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Optional: Define conditional logic for dynamic value assignment"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx($,{variant:"outline",onClick:p,children:"Cancel"}),r.jsxs($,{onClick:x,disabled:u.isPending,children:[r.jsx(dc,{className:"h-4 w-4 mr-2"}),u.isPending?"Saving...":"Save"]})]})]})]})})]})},h7=()=>{const[e,t]=m.useState("templates"),[n,s]=m.useState(null),[a,o]=m.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsxs("main",{className:"md:ml-64 p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Offer Letter Module"}),r.jsx("p",{className:"text-muted-foreground",children:"Create, manage, and send personalized admission offer emails with attachments"})]}),r.jsxs(ox,{value:e,onValueChange:t,className:"w-full",children:[r.jsxs(sh,{className:"grid w-full grid-cols-3 mb-6",children:[r.jsxs(Un,{value:"templates",className:"flex items-center gap-2",children:[r.jsx(za,{className:"h-4 w-4"}),"Templates"]}),r.jsxs(Un,{value:"history",className:"flex items-center gap-2",children:[r.jsx(zA,{className:"h-4 w-4"}),"Offer History"]}),r.jsxs(Un,{value:"settings",className:"flex items-center gap-2",children:[r.jsx(Im,{className:"h-4 w-4"}),"Settings"]})]}),r.jsx(Bn,{value:"templates",className:"space-y-6",children:!n&&!a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Email Templates"}),r.jsxs($,{onClick:()=>o(!0),children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),r.jsx(c7,{onEditTemplate:s})]}):r.jsx(l7,{templateId:n,isNew:a,onClose:()=>{s(null),o(!1)}})}),r.jsx(Bn,{value:"history",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Offer History"}),r.jsx(d7,{})]})}),r.jsx(Bn,{value:"settings",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Template Settings"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage placeholder fields and template configurations"}),r.jsx(u7,{})]})})]})]})]})};var f7="Separator",B0="horizontal",m7=["horizontal","vertical"],Uk=m.forwardRef((e,t)=>{const{decorative:n,orientation:s=B0,...a}=e,o=p7(s)?s:B0,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(ie.div,{"data-orientation":o,...l,...a,ref:t})});Uk.displayName=f7;function p7(e){return m7.includes(e)}var Bk=Uk;const zk=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},a)=>r.jsx(Bk,{ref:a,decorative:n,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));zk.displayName=Bk.displayName;var qx="Radio",[g7,Wk]=At(qx),[x7,v7]=g7(qx),Vk=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=e,[h,f]=m.useState(null),p=be(t,v=>f(v)),w=m.useRef(!1),x=h?d||!!h.closest("form"):!0;return r.jsxs(x7,{scope:n,checked:a,disabled:i,children:[r.jsx(ie.button,{type:"button",role:"radio","aria-checked":a,"data-state":Gk(a),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:p,onClick:G(e.onClick,v=>{a||c==null||c(),x&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),x&&r.jsx(Qk,{control:h,bubbles:!w.current,name:s,value:l,checked:a,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Vk.displayName=qx;var qk="RadioIndicator",Hk=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...a}=e,o=v7(qk,n);return r.jsx(Ct,{present:s||o.checked,children:r.jsx(ie.span,{"data-state":Gk(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});Hk.displayName=qk;var y7="RadioBubbleInput",Qk=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...a},o)=>{const i=m.useRef(null),l=be(i,o),c=Ju(n),d=Hu(t);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(w)}},[c,n,s]),r.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Qk.displayName=y7;function Gk(e){return e?"checked":"unchecked"}var w7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jh="RadioGroup",[b7,lW]=At(jh,[Mi,Wk]),Kk=Mi(),Yk=Wk(),[j7,N7]=b7(jh),Jk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=e,p=Kk(n),w=Di(d),[x,v]=fr({prop:o,defaultProp:a??null,onChange:h,caller:jh});return r.jsx(j7,{scope:n,name:s,required:i,disabled:l,value:x,onValueChange:v,children:r.jsx(rx,{asChild:!0,...p,orientation:c,dir:w,loop:u,children:r.jsx(ie.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...f,ref:t})})})});Jk.displayName=jh;var Xk="RadioGroupItem",Zk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,o=N7(Xk,n),i=o.disabled||s,l=Kk(n),c=Yk(n),d=m.useRef(null),u=be(t,d),h=o.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const p=x=>{w7.includes(x.key)&&(f.current=!0)},w=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),r.jsx(sx,{asChild:!0,...l,focusable:!i,active:h,children:r.jsx(Vk,{disabled:i,required:o.required,checked:h,...c,...a,name:o.name,ref:u,onCheck:()=>o.onValueChange(a.value),onKeyDown:G(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:G(a.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});Zk.displayName=Xk;var _7="RadioGroupIndicator",eE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,a=Yk(n);return r.jsx(Hk,{...a,...s,ref:t})});eE.displayName=_7;var tE=Jk,nE=Zk,S7=eE;const _p=m.forwardRef(({className:e,...t},n)=>r.jsx(tE,{className:Z("grid gap-2",e),...t,ref:n}));_p.displayName=tE.displayName;const Sd=m.forwardRef(({className:e,...t},n)=>r.jsx(nE,{ref:n,className:Z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(S7,{className:"flex items-center justify-center",children:r.jsx(Rg,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Sd.displayName=nE.displayName;function C7({questionType:e,options:t,correctAnswer:n,onOptionsChange:s,onCorrectAnswerChange:a}){const[o,i]=m.useState(t||{english:["","","",""],hindi:["","","",""],marathi:["","","",""]}),[l,c]=m.useState(n||0);m.useEffect(()=>{t&&i(t),typeof n=="number"&&c(n)},[t,n]);const d=(x,v,y)=>{const g={...o,[x]:[...o[x]]};g[x][v]=y,i(g),s(g)},u=()=>{const x={english:[...o.english,""],hindi:[...o.hindi,""],marathi:[...o.marathi,""]};i(x),s(x)},h=x=>{if(o.english.length<=2)return;const v={english:o.english.filter((y,g)=>g!==x),hindi:o.hindi.filter((y,g)=>g!==x),marathi:o.marathi.filter((y,g)=>g!==x)};i(v),s(v),l>=v.english.length&&(c(0),a(0))},f=x=>{c(x),a(x)},p=x=>{a(x==="true"?1:0)},w=x=>{a(x)};return e==="MCQ"?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Multiple Choice Options"})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsx(_p,{value:l.toString(),onValueChange:x=>f(parseInt(x)),children:o.english.map((x,v)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(Sd,{value:v.toString()}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 flex-1",children:[r.jsx(ae,{value:o.english[v],onChange:y=>d("english",v,y.target.value),placeholder:`EN Option ${v+1}`}),r.jsx(ae,{value:o.hindi[v],onChange:y=>d("hindi",v,y.target.value),placeholder:`HI Option ${v+1}`}),r.jsx(ae,{value:o.marathi[v],onChange:y=>d("marathi",v,y.target.value),placeholder:`MR Option ${v+1}`})]}),o.english.length>2&&r.jsx($,{variant:"ghost",size:"sm",onClick:()=>h(v),children:r.jsx(Ht,{className:"w-4 h-4"})})]},v))}),r.jsxs($,{type:"button",variant:"outline",onClick:u,children:[r.jsx(it,{className:"w-4 h-4 mr-2"})," Add Option"]})]})]}):e==="true_false"?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"True/False Answer"})}),r.jsx(Se,{children:r.jsxs(_p,{value:n===1?"true":"false",onValueChange:p,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sd,{value:"true"}),r.jsx(J,{children:"True"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sd,{value:"false"}),r.jsx(J,{children:"False"})]})]})})]}):e==="short_answer"||e==="fill_in_blank"?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Expected Answer"})}),r.jsx(Se,{children:r.jsx(ae,{value:n||"",onChange:x=>w(x.target.value),placeholder:"Enter the expected answer"})})]}):e==="long_answer"?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Sample Answer / Grading Criteria"})}),r.jsx(Se,{children:r.jsx(Wt,{value:n||"",onChange:x=>w(x.target.value),placeholder:"Provide a sample answer or grading criteria",rows:4})})]}):e==="coding"?r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Expected Solution"})}),r.jsx(Se,{children:r.jsx(Wt,{value:n||"",onChange:x=>w(x.target.value),placeholder:"Provide the expected code solution",rows:6,className:"font-mono"})})]}):null}function k7({question:e,onSave:t,onCancel:n,difficultyLevels:s}){const{toast:a}=De(),[o,i]=m.useState({question_type:"MCQ",difficulty_level:"",points:0,question_text:{english:"",hindi:"",marathi:""},options:{english:["","","",""],hindi:["","","",""],marathi:["","","",""]},correct_answer:0,explanation:""});m.useEffect(()=>{var h,f;if(!e)return;const u=s.find(p=>p.id===e.difficulty_level);i({question_type:e.question_type??"MCQ",difficulty_level:((h=e.difficulty_level)==null?void 0:h.toString())??"",points:(u==null?void 0:u.points)??0,question_text:{english:e.english_text??"",hindi:e.hindi_text??"",marathi:e.marathi_text??""},options:{english:e.english_options??["","","",""],hindi:e.hindi_options??["","","",""],marathi:e.marathi_options??["","","",""]},correct_answer:((f=e.answer_key)==null?void 0:f[0])??0,explanation:e.explanation??""})},[e,s]);const l=(u,h)=>i(f=>({...f,[u]:h})),c=(u,h)=>i(f=>({...f,question_text:{...f.question_text,[u]:h}})),d=u=>{if(u.preventDefault(),!o.question_type){a({title:"Validation Error",description:"Select a question type",variant:"destructive"});return}if(!o.difficulty_level){a({title:"Validation Error",description:"Select difficulty level",variant:"destructive"});return}if(!o.question_text.english.trim()){a({title:"Validation Error",description:"Enter question text in English",variant:"destructive"});return}if(!o.question_text.hindi.trim()){a({title:"Validation Error",description:"Enter question text in Hindi",variant:"destructive"});return}if(!o.question_text.marathi.trim()){a({title:"Validation Error",description:"Enter question text in Marathi",variant:"destructive"});return}if(o.question_type==="MCQ"){const{english:f,hindi:p,marathi:w}=o.options;if(f.some(v=>!v.trim())||p.some(v=>!v.trim())||w.some(v=>!v.trim())){a({title:"Validation Error",description:"All MCQ options must be filled in all languages",variant:"destructive"});return}if(o.correct_answer===null||o.correct_answer===void 0){a({title:"Validation Error",description:"Select the correct answer",variant:"destructive"});return}}const h={difficulty_level:o.difficulty_level,question_type:o.question_type,english_text:o.question_text.english,hindi_text:o.question_text.hindi,marathi_text:o.question_text.marathi,english_options:o.options.english,hindi_options:o.options.hindi,marathi_options:o.options.marathi,answer_key:[o.correct_answer],explanation:o.explanation};t(h)};return r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{children:"Question Type"}),r.jsxs(Fe,{value:o.question_type,onValueChange:u=>l("question_type",u),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select type"})}),r.jsx(Ve,{children:r.jsx(re,{value:"MCQ",children:"Multiple Choice"})})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Difficulty"}),r.jsxs(Fe,{value:o.difficulty_level,onValueChange:u=>{l("difficulty_level",u);const h=s.find(f=>f.id.toString()===u);h&&l("points",h.points)},children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"Select difficulty"})}),r.jsx(Ve,{children:s.map(u=>r.jsx(re,{value:u.id.toString(),children:u.name},u.id))})]})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx(J,{children:"Points"}),r.jsx(ae,{type:"number",min:1,value:o.points,disabled:!0})]})}),r.jsx(zk,{}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{children:"Question Text (English)"}),r.jsx(Wt,{value:o.question_text.english,onChange:u=>c("english",u.target.value),placeholder:"Enter question text in English"})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Question Text (Hindi)"}),r.jsx(Wt,{value:o.question_text.hindi,onChange:u=>c("hindi",u.target.value),placeholder:"Enter question text in Hindi"})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Question Text (Marathi)"}),r.jsx(Wt,{value:o.question_text.marathi,onChange:u=>c("marathi",u.target.value),placeholder:"Enter question text in Marathi"})]})]}),o.question_type==="MCQ"&&r.jsx(C7,{questionType:o.question_type,options:o.options,correctAnswer:o.correct_answer,onOptionsChange:u=>l("options",u),onCorrectAnswerChange:u=>l("correct_answer",u)}),r.jsxs("div",{children:[r.jsx(J,{children:"Explanation (Optional)"}),r.jsx(Wt,{value:o.explanation,onChange:u=>l("explanation",u.target.value),placeholder:"Provide an explanation for the correct answer...",rows:3})]}),r.jsxs("div",{className:"flex items-center justify-end gap-4",children:[r.jsxs($,{type:"button",variant:"outline",onClick:n,children:[r.jsx(pn,{className:"w-4 h-4 mr-2"})," Cancel"]}),r.jsxs($,{type:"submit",children:[r.jsx(dc,{className:"w-4 h-4 mr-2"}),e?"Update Question":"Create Question"]})]})]})}function E7({questions:e,loading:t,onEdit:n,onArchive:s,onDelete:a}){const o=l=>l<=1?{label:"Easy",color:"bg-green-100 text-green-800"}:l===2?{label:"Medium",color:"bg-yellow-100 text-yellow-800"}:{label:"Hard",color:"bg-red-100 text-red-800"},i=l=>({MCQ:"Multiple Choice",TrueFalse:"True/False",ShortAnswer:"Short Answer",LongAnswer:"Long Answer",Coding:"Coding",FillInBlank:"Fill in Blank"})[l]||l;return t?r.jsx("div",{className:"space-y-4",children:[...Array(5)].map((l,c)=>r.jsx(_e,{children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},c))}):e.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"No questions found"})}):r.jsx("div",{className:"space-y-4 h-[600px] overflow-y-auto ",children:e.map(l=>{const c=o(l.difficulty_level);return r.jsx(_e,{children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(tn,{className:c.color,children:c.label}),r.jsx(tn,{variant:"outline",children:i(l.question_type)}),l.points&&r.jsxs(tn,{variant:"outline",children:[l.points," pts"]})]}),r.jsx("h3",{className:"font-medium text-sm mb-2",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"EN:"})," ",l.english_text]}),r.jsxs("div",{children:[r.jsx("strong",{children:"HI:"})," ",l.hindi_text]}),r.jsxs("div",{children:[r.jsx("strong",{children:"MR:"})," ",l.marathi_text]})]})}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Created:"," ",Hn(new Date(l.created_at),"MMM dd, yyyy")]}),l.version_number&&r.jsxs("span",{children:["Version: ",l.version_number]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[r.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(l),title:"Edit",children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx($,{variant:"ghost",size:"sm",onClick:()=>a(l.id),title:"Delete Permanently",className:"text-red-600 hover:text-red-700",children:r.jsx(Ht,{className:"w-4 h-4"})})]})]})})},l.id)})})}const P7=cc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rE=m.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:Z(P7({variant:t}),e),...n}));rE.displayName="Alert";const T7=m.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:Z("mb-1 font-medium leading-none tracking-tight",e),...t}));T7.displayName="AlertTitle";const sE=m.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Z("text-sm [&_p]:leading-relaxed",e),...t}));sE.displayName="AlertDescription";function R7({onImportComplete:e}){const[t,n]=m.useState(""),[s,a]=m.useState([]),[o,i]=m.useState("idle"),[l,c]=m.useState(0),[d,u]=m.useState({success:0,errors:0,duplicates:0}),[h,f]=m.useState([]),{toast:p}=De(),{user:w}=On(),x=()=>{const j=["question_text,question_type,options_json,correct_answer_json,explanation,difficulty_level,language,points,tags,time_limit_seconds",'"What is 2+2?",multiple_choice,"[{\\"id\\":\\"1\\",\\"text\\":\\"3\\"},{\\"id\\":\\"2\\",\\"text\\":\\"4\\"},{\\"id\\":\\"3\\",\\"text\\":\\"5\\"},{\\"id\\":\\"4\\",\\"text\\":\\"6\\"}]","2","Basic arithmetic operation","easy","EN",1,"mathematics,arithmetic",30','"HTML stands for HyperText Markup Language",true_false,"[{\\"id\\":\\"true\\",\\"text\\":\\"True\\"},{\\"id\\":\\"false\\",\\"text\\":\\"False\\"}]","true","HTML is indeed HyperText Markup Language","easy","EN",1,"html,web-development",45','"What is the capital of France?",short_answer,"","Paris","The capital city of France is Paris","medium","EN",2,"geography,capitals",60','"Explain the concept of Object-Oriented Programming and its main principles.",long_answer,"","Object-Oriented Programming (OOP) is a programming paradigm based on the concept of objects. The main principles are: 1) Encapsulation - bundling data and methods together, 2) Inheritance - creating new classes based on existing ones, 3) Polymorphism - ability to take multiple forms, 4) Abstraction - hiding complex implementation details.","This tests understanding of fundamental programming concepts","hard","EN",5,"programming,oop,computer-science",300',`"Write a function to reverse a string in Python",coding,"","def reverse_string(s):\\n    return s[::-1]\\n\\n# Alternative solution:\\n# def reverse_string(s):\\n#     return ''.join(reversed(s))","Tests basic Python string manipulation skills","medium","EN",3,"python,coding,strings",600`,'"The ____ of a circle is the distance from its center to any point on its circumference.",fill_in_blank,"","radius","The radius is the distance from center to circumference","easy","EN",1,"mathematics,geometry",45'].join(`
`),k=new Blob([j],{type:"text/csv"}),E=window.URL.createObjectURL(k),_=document.createElement("a");_.href=E,_.download="question_import_template.csv",_.click(),window.URL.revokeObjectURL(E)},v=()=>{if(!t.trim()){p({title:"No Data",description:"Please paste CSV data or upload a file",variant:"destructive"});return}i("parsing"),NC.parse(t,{header:!0,skipEmptyLines:!0,complete:j=>{if(j.errors.length>0){f(j.errors.map(_=>_.message)),i("error");return}const k=[],E=[];j.data.forEach((_,N)=>{try{if(!_.question_text||!_.question_type||!_.correct_answer_json){E.push(`Row ${N+1}: Missing required fields (question_text, question_type, correct_answer_json)`);return}const S=["multiple_choice","true_false","short_answer","long_answer","coding","fill_in_blank"];if(!S.includes(_.question_type)){E.push(`Row ${N+1}: Invalid question_type. Must be one of: ${S.join(", ")}`);return}let C=null,O=null;if(_.options_json&&_.options_json.trim())try{C=JSON.parse(_.options_json)}catch{E.push(`Row ${N+1}: Invalid JSON in options_json`);return}try{O=JSON.parse(_.correct_answer_json)}catch{O=_.correct_answer_json}const R=["easy","medium","hard"],P=_.difficulty_level||"medium";if(!R.includes(P)){E.push(`Row ${N+1}: Invalid difficulty_level. Must be one of: ${R.join(", ")}`);return}const I={question_text:_.question_text,question_type:_.question_type,options:C,correct_answer:O,explanation:_.explanation||"",difficulty_level:P,language:_.language||"EN",points:parseInt(_.points||"1")||1,tags:_.tags?_.tags.split(",").map(z=>z.trim()):[],time_limit_seconds:_.time_limit_seconds?parseInt(_.time_limit_seconds):null};k.push(I)}catch(S){E.push(`Row ${N+1}: ${S.message}`)}}),E.length>0?(f(E),i("error")):(a(k),i("parsed"),p({title:"CSV Parsed Successfully",description:`Found ${k.length} valid questions`}))},error:j=>{f([j.message]),i("error")}})},y=async()=>{if(s.length===0)return;i("importing"),c(0);const j={success:0,errors:0,duplicates:0},k=[];if(!(w!=null&&w.id)){p({title:"Authentication Error",description:"You must be logged in to import questions",variant:"destructive"}),i("error");return}const E=crypto.randomUUID();for(let _=0;_<s.length;_++){try{const N={...s[_],created_by:w.id},{data:S}=await ye.from("questions").select("id").eq("question_text",N.question_text).single();if(S)j.duplicates++;else{const{error:C}=await ye.from("imported_questions").insert([{...N,import_batch_id:E,imported_by:w.id,is_processed:!1}]);if(C)j.errors++,k.push(`Question ${_+1}: Failed to record import - ${C.message}`);else{const{error:O}=await ye.from("questions").insert([N]);O?(j.errors++,k.push(`Question ${_+1}: Failed to create question - ${O.message}`)):(j.success++,await ye.from("imported_questions").update({is_processed:!0}).eq("import_batch_id",E).eq("question_text",N.question_text))}}}catch(N){j.errors++,k.push(`Question ${_+1}: ${N.message}`)}c((_+1)/s.length*100)}u(j),f(k),i("complete"),p({title:"Import Complete",description:`Successfully imported ${j.success} questions. ${j.duplicates} duplicates skipped. ${j.errors} errors.`,variant:j.errors>0?"destructive":"default"}),j.success>0&&setTimeout(()=>{e()},2e3)},g=j=>{var _;const k=(_=j.target.files)==null?void 0:_[0];if(!k)return;if(k.type!=="text/csv"&&!k.name.endsWith(".csv")){p({title:"Invalid File",description:"Please upload a CSV file",variant:"destructive"});return}const E=new FileReader;E.onload=N=>{var C;const S=(C=N.target)==null?void 0:C.result;typeof S=="string"&&n(S)},E.readAsText(k)},b=()=>{n(""),a([]),i("idle"),c(0),u({success:0,errors:0,duplicates:0}),f([])};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(rE,{children:[r.jsx(Tg,{className:"h-4 w-4"}),r.jsx(sE,{children:"Import questions in bulk using CSV format. Questions will be added to both the main Question Library and tracked in the import history. Make sure to follow the template structure for successful import."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs($,{variant:"outline",onClick:x,children:[r.jsx(zu,{className:"w-4 h-4 mr-2"}),"Download Template"]}),r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:".csv",onChange:g,className:"hidden",id:"csv-upload"}),r.jsxs($,{variant:"outline",onClick:()=>{var j;return(j=document.getElementById("csv-upload"))==null?void 0:j.click()},children:[r.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Upload CSV File"]})]}),o!=="idle"&&r.jsx($,{variant:"outline",onClick:b,children:"Reset"})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"CSV Data"})}),r.jsxs(Se,{children:[r.jsx(Wt,{value:t,onChange:j=>n(j.target.value),placeholder:"Paste your CSV data here or upload a file...",rows:10,className:"font-mono text-sm"}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx($,{onClick:v,disabled:!t.trim()||o==="parsing",children:o==="parsing"?"Parsing...":"Parse CSV Data"}),o==="parsed"&&r.jsxs($,{onClick:y,children:["Import ",s.length," Questions"]})]}),o==="parsed"&&r.jsx("div",{className:"mt-4",children:r.jsxs(tn,{variant:"secondary",children:[s.length," questions ready for import"]})})]})]}),o==="importing"&&r.jsx(_e,{children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Importing questions..."}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(l),"%"]})]}),r.jsx(Ox,{value:l,className:"w-full"})]})})}),o==="complete"&&r.jsx(_e,{children:r.jsxs(Se,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(fi,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"font-medium",children:"Import Complete"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.success}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.duplicates}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.errors}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Errors"})]})]})]})}),h.length>0&&r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{className:"text-red-600",children:"Import Errors"})}),r.jsx(Se,{children:r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map((j,k)=>r.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:j},k))})})]})]})}function A7({filters:e,onFiltersChange:t,difficultyLevels:n}){const s=(o,i)=>{t({...e,[o]:i})},a=()=>{t({status:"All",difficulty_level:"All",question_type:"All",topic:""})};return r.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium",children:"Filters"}),r.jsx($,{variant:"ghost",size:"sm",onClick:a,children:"Clear All"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(J,{children:"Difficulty"}),r.jsxs(Fe,{value:e.difficulty_level||"All",onValueChange:o=>s("difficulty_level",o),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"All levels"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"All",children:"All"}),n.map(o=>r.jsx(re,{value:o.id.toString(),children:o.name},o.id))]})]})]}),r.jsxs("div",{children:[r.jsx(J,{children:"Question Type"}),r.jsxs(Fe,{value:e.question_type||"All",onValueChange:o=>s("question_type",o),children:[r.jsx(Le,{children:r.jsx(Ue,{placeholder:"All types"})}),r.jsxs(Ve,{children:[r.jsx(re,{value:"All",children:"All"}),r.jsx(re,{value:"MCQ",children:"Multiple Choice"})]})]})]})]})]})}const O7="https://dev-new-admissions.navgurukul.org/api/v1",D7=()=>{try{return localStorage.getItem("authToken")}catch(e){return console.error("Error accessing localStorage:",e),null}},M7=()=>{const e=D7();return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},Zi=async(e,t={},n=8e3)=>{const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=`${O7}${e}`;try{const i=await fetch(o,{...t,signal:s.signal,headers:M7()});if(clearTimeout(a),!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||`HTTP error! status: ${i.status}`)}return await i.json()}catch(i){throw clearTimeout(a),i.name==="AbortError"?new Error("Request timed out"):i}},I7={async createDifficultyLevel(e){try{const t=z0.validateDifficultyLevel(e);if(t.length>0)throw new Error(t.join(", "));return await Zi("/difficulty-levels/createDifficultyLevels",{method:"POST",body:JSON.stringify(e)})}catch(t){throw console.error("Create difficulty level error:",t),new Error(t.message||"Failed to create difficulty level")}},async getDifficultyLevels(){try{return await Zi("/difficulty-levels/getDifficultyLevels")}catch(e){throw console.error("Get difficulty levels error:",e),new Error(e.message||"Failed to fetch difficulty levels")}},async getDifficultyLevelById(e){try{return await Zi(`/difficulty-levels/getDifficultyLevelsById/${e}`)}catch(t){throw console.error("Get difficulty level by ID error:",t),new Error(t.message||"Failed to fetch difficulty level")}},async updateDifficultyLevel(e,t){try{if(t.name){const n=z0.validateDifficultyLevel({name:t.name,description:t.description||""});if(n.length>0)throw new Error(n.join(", "))}return await Zi(`/difficulty-levels/updateDifficultyLevels/${e}`,{method:"PUT",body:JSON.stringify(t)})}catch(n){throw console.error("Update difficulty level error:",n),new Error(n.message||"Failed to update difficulty level")}},async deleteDifficultyLevel(e){try{await Zi(`/difficulty-levels/deleteDifficultyLevels/${e}`,{method:"DELETE"})}catch(t){throw console.error("Delete difficulty level error:",t),new Error(t.message||"Failed to delete difficulty level")}},async getActiveDifficultyLevels(){try{return(await this.getDifficultyLevels()).filter(t=>t.status)}catch(e){throw console.error("Get active difficulty levels error:",e),new Error(e.message||"Failed to fetch active difficulty levels")}},async toggleDifficultyLevelStatus(e,t){return this.updateDifficultyLevel(e,{status:!t})}},z0={validateDifficultyLevelName:e=>e.length>=2&&e.length<=50,getDifficultyColor(e){return{easy:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",hard:"bg-red-100 text-red-800 border-red-200",beginner:"bg-blue-100 text-blue-800 border-blue-200",intermediate:"bg-orange-100 text-orange-800 border-orange-200",advanced:"bg-purple-100 text-purple-800 border-purple-200",expert:"bg-gray-100 text-gray-800 border-gray-200"}[e.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-200"},getDifficultyLabel(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},validateDifficultyLevel(e){const t=[];return!e.name||e.name.trim().length===0?t.push("Name is required"):this.validateDifficultyLevelName(e.name)||t.push("Name must be between 2-50 characters"),e.description&&e.description.length>500&&t.push("Description must be less than 500 characters"),t}};function L7(e={},t=""){const[n,s]=m.useState([]),[a,o]=m.useState(!0),[i,l]=m.useState([]),{toast:c}=De();m.useEffect(()=>{(async()=>{var y;try{const g=await I7.getDifficultyLevels(),b=Array.isArray((y=g.data)==null?void 0:y.data)?g.data.data.map(j=>({id:j.id,name:j.name,points:j.marks??0})):[];l(b)}catch(g){console.error("Failed to fetch difficulty levels:",g),l([])}})()},[]);const d=v=>{const y=i.find(g=>g.id===Number(v)||g.name.toLowerCase()===String(v).toLowerCase());return y?y.name.toLowerCase():"unknown"},u=async()=>{try{o(!0);const y=(await AI()).filter(g=>{var j;const b=d(g.difficulty_level);return!(e.difficulty_level&&e.difficulty_level!=="All"&&String(g.difficulty_level)!==String(e.difficulty_level)||e.question_type&&e.question_type!=="All"&&g.question_type!==e.question_type||t&&!((j=g.english_text)!=null&&j.toLowerCase().includes(t.toLowerCase())))});s(y)}catch(v){console.error("Error fetching questions:",v),c({title:"Error",description:"Failed to fetch questions",variant:"destructive"})}finally{o(!1)}},h=async v=>{try{await RI(v),await u()}catch(y){throw c({title:"Error",description:y.message||"Failed to create question",variant:"destructive"}),y}},f=async(v,y)=>{try{await DI(v,y),await u()}catch(g){throw c({title:"Error",description:g.message||"Failed to update question",variant:"destructive"}),g}},p=async v=>{try{await OI(Number(v)),await u()}catch(y){throw c({title:"Error",description:y.message||"Failed to delete question",variant:"destructive"}),y}},w=async v=>{await u()},x=async v=>{await u()};return m.useEffect(()=>{u()},[e,t]),console.log(i),{questions:n,loading:a,createQuestion:h,updateQuestion:f,deleteQuestion:p,archiveQuestion:w,restoreQuestion:x,refetch:u,difficultyLevels:i,getDifficultyLabel:d}}var Nh="Switch",[$7,cW]=At(Nh),[F7,U7]=$7(Nh),aE=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,p]=m.useState(null),w=be(t,b=>p(b)),x=m.useRef(!1),v=f?u||!!f.closest("form"):!0,[y,g]=fr({prop:a,defaultProp:o??!1,onChange:d,caller:Nh});return r.jsxs(F7,{scope:n,checked:y,disabled:l,children:[r.jsx(ie.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":cE(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:G(e.onClick,b=>{g(j=>!j),v&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),v&&r.jsx(lE,{control:f,bubbles:!x.current,name:s,value:c,checked:y,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});aE.displayName=Nh;var oE="SwitchThumb",iE=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=U7(oE,n);return r.jsx(ie.span,{"data-state":cE(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});iE.displayName=oE;var B7="SwitchBubbleInput",lE=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},o)=>{const i=m.useRef(null),l=be(i,o),c=Ju(n),d=Hu(t);return m.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(w)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lE.displayName=B7;function cE(e){return e?"checked":"unchecked"}var dE=aE,z7=iE;const uE=m.forwardRef(({className:e,...t},n)=>r.jsx(dE,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(z7,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));uE.displayName=dE.displayName;function W7({allQuestions:e,activeSet:t,onClose:n,onSave:s}){const[a,o]=m.useState(t.questions||[]);m.useEffect(()=>{o(t.questions||[])},[t]);const i=c=>{o(d=>d.includes(c)?d.filter(u=>u!==c):[...d,c])},l=()=>{s(a),n()};return r.jsx(Qt,{open:!0,onOpenChange:n,children:r.jsxs(Gt,{className:"max-w-2xl",children:[r.jsx(rn,{children:r.jsxs(Kt,{children:["Choose Questions for ",r.jsx("span",{className:"font-semibold",children:t.name})]})}),r.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 mt-3",children:e.map(c=>r.jsxs("div",{className:"flex items-start gap-3 p-2 border rounded hover:bg-gray-50",children:[r.jsx(mc,{checked:a.includes(c.id),onCheckedChange:()=>i(c.id)}),r.jsx("div",{className:"text-sm flex-1",children:c.english_text}),r.jsx("div",{className:"text-sm flex-1",children:c.hindi_text}),r.jsx("div",{className:"text-sm flex-1",children:c.marathi_text})]},c.id))}),r.jsxs(r1,{className:"mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-600 mr-auto",children:["Selected: ",a.length,t.limit?` / ${t.limit}`:""]}),r.jsx($,{onClick:l,children:"Save"}),r.jsx($,{variant:"outline",onClick:n,children:"Cancel"})]})]})})}function V7({allQuestions:e}){const{toast:t}=De(),[n,s]=m.useState([{id:1,name:"Set A",limit:0,questions:[],active:!0}]),[a,o]=m.useState(null),[i,l]=m.useState(null),c=()=>{s(h=>[...h,{id:Date.now(),name:`Set ${String.fromCharCode(65+h.length)}`,limit:0,questions:[],active:!0}]),t({title:"Set created",description:"A new question set has been added."})},d=(h,f,p)=>{s(w=>w.map(x=>x.id===h?{...x,[f]:p}:x))},u=h=>{s(f=>f.filter(p=>p.id!==h)),t({title:"Set deleted",description:"The set has been removed successfully.",variant:"destructive"})};return r.jsxs("div",{className:"space-y-4",children:[n.map(h=>r.jsxs(_e,{className:"relative",children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsx(Be,{className:"text-base font-semibold",children:h.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(uE,{checked:h.active,disabled:i!==h.id,onCheckedChange:f=>d(h.id,"active",f)}),i===h.id?r.jsx($,{variant:"secondary",size:"sm",onClick:()=>l(null),children:"Cancel"}):r.jsx($,{variant:"ghost",size:"icon",onClick:()=>l(h.id),title:"Edit set",children:r.jsx(sa,{className:"h-4 w-4 text-gray-600"})}),r.jsx($,{variant:"ghost",size:"icon",onClick:()=>u(h.id),title:"Delete set",children:r.jsx(Ht,{className:"h-4 w-4 text-red-500"})})]})]})}),r.jsxs(Se,{className:"space-y-3",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("label",{className:"text-sm font-medium min-w-[100px]",children:"Max Questions"}),"  ",r.jsx(ae,{type:"number",value:h.limit,onChange:f=>d(h.id,"limit",parseInt(f.target.value)||0),placeholder:"e.g. 100",className:"flex-1 min-w-[120px]",disabled:i!==h.id})]}),r.jsxs("p",{className:`text-sm font-medium ${h.limit&&h.questions.length>h.limit?"text-red-600":"text-green-600"}`,children:["Youve selected ",r.jsx("strong",{children:h.questions.length})," question",h.questions.length!==1&&"s",h.limit?r.jsxs(r.Fragment,{children:[" ","out of ",r.jsx("strong",{children:h.limit})," total"]}):"","."]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>o(h),children:[r.jsx(YA,{className:"h-4 w-4 mr-2"}),"Pick Questions"]})]})]},h.id)),r.jsxs($,{onClick:c,variant:"outline",children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Add Set"]}),a&&r.jsx(W7,{allQuestions:e,activeSet:a,onClose:()=>o(null),onSave:h=>d(a.id,"questions",h)})]})}function q7(){const[e,t]=m.useState("list"),[n,s]=m.useState(null),[a,o]=m.useState(""),[i,l]=m.useState({status:"All",difficulty_level:"All",question_type:"All",topic:""}),[c,d]=m.useState(!1),{toast:u}=De(),{questions:h,loading:f,createQuestion:p,updateQuestion:w,deleteQuestion:x,archiveQuestion:v,difficultyLevels:y}=L7(i,a);m.useEffect(()=>{console.log("Updated questions:",h)},[h]);const g=()=>{s(null),t("editor")},b=_=>{s(_),t("editor")},j=async _=>{try{n?(await w(n.id,_),u({title:"Question Updated",description:"The question has been successfully updated."})):(await p(_),u({title:"Question Created",description:"The question has been successfully created."})),t("list"),s(null)}catch(N){u({title:"Error",description:N.message||"Failed to save question",variant:"destructive"})}},k=async _=>{try{await v(_),u({title:"Question Archived",description:"The question has been archived successfully."})}catch(N){u({title:"Error",description:N.message||"Failed to archive question",variant:"destructive"})}},E=async _=>{try{await x(_),u({title:"Question Deleted",description:"The question has been permanently deleted."})}catch(N){u({title:"Error",description:N.message||"Failed to delete question",variant:"destructive"})}};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsxs("main",{className:"md:ml-64 p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 ",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Question Repository"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage and organize assessment questions for admissions screening"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs($,{variant:"outline",onClick:()=>t("import"),className:"flex items-center gap-2",children:[r.jsx(Pi,{className:"w-4 h-4"}),"Bulk Import"]}),r.jsxs($,{onClick:g,className:"flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4"}),"New Question"]})]})]}),r.jsxs(ox,{value:e,onValueChange:t,className:"space-y-6",children:[r.jsxs(sh,{className:"grid w-full grid-cols-4 my-6",children:[r.jsx(Un,{value:"list",children:"Questions"}),r.jsx(Un,{value:"editor",children:"Editor"}),r.jsx(Un,{value:"sets",children:"Sets"}),r.jsx(Un,{value:"import",children:"Import"})]}),r.jsx(Bn,{value:"list",className:"space-y-4",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs(Be,{className:"flex items-center justify-between",children:["Question Library",r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search questions...",value:a,onChange:_=>o(_.target.value),className:"pl-10 w-64"})]}),r.jsxs($,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"flex items-center gap-2",children:[r.jsx(Ei,{className:"w-4 h-4"}),"Filters"]})]})]})}),r.jsxs(Se,{className:"flex flex-col h-[620px]",children:[c&&r.jsx("div",{className:"mb-6",children:r.jsx(A7,{difficultyLevels:y,filters:i,onFiltersChange:l})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(E7,{questions:h,loading:f,onEdit:_=>{b(_),t("editor")},onArchive:k,onDelete:E})})]})]})}),r.jsx(Bn,{value:"editor",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:n?"Edit Question":"Create New Question"})}),r.jsx(Se,{children:r.jsx(k7,{difficultyLevels:y,question:n,onSave:j,onCancel:()=>{t("list"),s(null)}})})]})}),r.jsx(Bn,{value:"sets",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Question Sets"})}),r.jsx(Se,{children:r.jsx(V7,{allQuestions:h})})]})}),r.jsx(Bn,{value:"import",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Bulk Import Questions"})}),r.jsx(Se,{children:r.jsx(R7,{onImportComplete:()=>t("list")})})]})})]})]})]})}function H7(){const e=Rt();De();const{user:t,isAuthenticated:n,loading:s,renderGoogleSignInButton:a}=On(),o=m.useRef(null);return console.log("AUTH.TSX"),m.useEffect(()=>{o.current&&!s&&setTimeout(()=>{a("google-signin-button")},100)},[s]),m.useEffect(()=>{if(n&&!(!t||t.role_id===void 0)&&(t.role_id===1||t.role_id===2)){console.log("FROM AUTH.TSX 17",t.role_id),e("/");return}},[t,n,e]),s?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsx(_e,{className:"w-full max-w-md",children:r.jsx(Se,{className:"flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})})}):r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:r.jsxs(_e,{className:"w-full max-w-md",children:[r.jsxs(Oe,{className:"space-y-1 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-primary-foreground"})}),r.jsx(Be,{className:"text-2xl font-bold",children:"Admission Dashboard"})]}),r.jsx(bn,{children:"Sign in with your Google account to continue"})]}),r.jsx(Se,{children:r.jsx("div",{id:"google-signin-button",ref:o,className:"w-full flex justify-center"})})]})})}function bt({children:e}){const{user:t,isAuthenticated:n,loading:s}=On(),a=Rt();return yr(),m.useEffect(()=>{if(!s){if(!t||!n){a("/auth",{replace:!0});return}if(!(t.role_id===1||t.role_id===2)){a("/students",{replace:!0});return}}},[t,n,s,a]),s?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r.jsx(r.Fragment,{children:e})}const Q7=["Edit","Name","View Assessments","Create Assessment","Joined Students Progress","Online Test","Meraki Link","Send Report"],rd=10,el={name:"",emails:[""],notes:"",slug:"",districts:[""]},G7=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(1),[f,p]=m.useState({open:!1,idx:null,form:el}),[w,x]=m.useState(""),[v,y]=m.useState(!1),[g,b]=m.useState({district:"",slug:"",emailDomain:""}),[j,k]=m.useState({open:!1,form:el}),{toast:E}=De();m.useEffect(()=>{fetch("https://dev-join.navgurukul.org/api/partners").then(L=>L.json()).then(L=>{t(L.data||[]),s(!1)}).catch(()=>s(!1))},[]);const _=e.filter(L=>{var Ce,Me,pt,It,Lt;const W=!w.trim()||((Ce=L.name)==null?void 0:Ce.toLowerCase().includes(w.toLowerCase()))||((Me=L.email)==null?void 0:Me.toLowerCase().includes(w.toLowerCase()))||((pt=L.slug)==null?void 0:pt.toLowerCase().includes(w.toLowerCase())),H=g.district?(L.districts||[]).some(yt=>yt.toLowerCase().includes(g.district.toLowerCase())):!0,pe=g.slug?(It=L.slug)==null?void 0:It.toLowerCase().includes(g.slug.toLowerCase()):!0,he=g.emailDomain?(Lt=L.email)==null?void 0:Lt.toLowerCase().endsWith(g.emailDomain.toLowerCase()):!0;return W&&H&&pe&&he});Y.useEffect(()=>{h(1)},[w,g]);const N=_.slice((u-1)*rd,u*rd),S=Math.ceil(_.length/rd),C=()=>{const L=Q7.map(Me=>Me==="Edit"?"Edit Partner Details":Me),W=N.map(Me=>["Edit",Me.name,"View Assessments","+Create","Get Information","Go for test",Me.meraki_link||"-","Send Report"]),H=[L,...W].map(Me=>Me.map(pt=>`"${pt??""}"`).join(",")).join(`
`),pe=new Blob([H],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(pe),Ce=document.createElement("a");Ce.href=he,Ce.setAttribute("download","partners.csv"),document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),URL.revokeObjectURL(he),E({title:"Success",description:"CSV file downloaded successfully"})},O=L=>{const W=e[L];p({open:!0,idx:L,form:{name:W.name||"",emails:W.email?[W.email]:[""],notes:W.notes||"",slug:W.slug||"",districts:W.districts&&W.districts.length>0?[...W.districts]:[""]}})},R=()=>{p({open:!1,idx:null,form:el})},P=(L,W)=>{p(H=>({...H,form:{...H.form,[L]:W}}))},I=(L,W)=>{p(H=>({...H,form:{...H.form,emails:H.form.emails.map((pe,he)=>he===L?W:pe)}}))},z=(L,W)=>{p(H=>({...H,form:{...H.form,districts:H.form.districts.map((pe,he)=>he===L?W:pe)}}))},B=()=>{p(L=>({...L,form:{...L.form,emails:[...L.form.emails,""]}}))},D=L=>{p(W=>({...W,form:{...W.form,emails:W.form.emails.filter((H,pe)=>pe!==L)}}))},T=()=>{p(L=>({...L,form:{...L.form,districts:[...L.form.districts,""]}}))},A=L=>{p(W=>({...W,form:{...W.form,districts:W.form.districts.filter((H,pe)=>pe!==L)}}))},F=L=>{L.preventDefault(),t(W=>{const H=[...W],pe=f.idx;return H[pe]={...H[pe],name:f.form.name,email:f.form.emails[0]||"",notes:f.form.notes,slug:f.form.slug,districts:f.form.districts},H}),R()},U=()=>{k({open:!0,form:el})},V=()=>{k({open:!1,form:el})},q=(L,W)=>{k(H=>({...H,form:{...H.form,[L]:W}}))},te=(L,W)=>{k(H=>({...H,form:{...H.form,emails:H.form.emails.map((pe,he)=>he===L?W:pe)}}))},fe=(L,W)=>{k(H=>({...H,form:{...H.form,districts:H.form.districts.map((pe,he)=>he===L?W:pe)}}))},xe=()=>{k(L=>({...L,form:{...L.form,emails:[...L.form.emails,""]}}))},Q=L=>{k(W=>({...W,form:{...W.form,emails:W.form.emails.filter((H,pe)=>pe!==L)}}))},ne=()=>{k(L=>({...L,form:{...L.form,districts:[...L.form.districts,""]}}))},oe=L=>{k(W=>({...W,form:{...W.form,districts:W.form.districts.filter((H,pe)=>pe!==L)}}))},de=L=>{L.preventDefault(),!(!j.form.name.trim()||!j.form.emails[0].trim()||!j.form.districts[0].trim())&&(t(W=>[...W,{id:Date.now(),name:j.form.name,email:j.form.emails[0]||"",notes:j.form.notes,slug:j.form.slug,districts:j.form.districts,meraki_link:""}]),V(),E({title:"Success",description:"Partner added successfully!"}))},ee=L=>{d(L),o(!0)},ue=L=>{d(L),l(!0)},X=()=>{o(!1),l(!1),d(null)};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsx("main",{className:"md:ml-64 overflow-auto h-screen flex flex-col items-center",children:r.jsxs("div",{className:"p-4 md:p-8 w-full pt-16 md:pt-8",children:[r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border",children:[r.jsxs("div",{className:"p-6 border-b border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Partners"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage and track partner details"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs($,{variant:"outline",onClick:C,className:"h-9",children:[r.jsx(zu,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsxs($,{className:"bg-gradient-primary hover:bg-primary/90 text-white h-9",onClick:U,children:[r.jsx(it,{className:"w-4 h-4 mr-2"}),"Add Partner"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, email, or slug...",value:w,onChange:L=>x(L.target.value),className:"pl-10 h-9"})]}),r.jsxs($,{variant:"outline",size:"sm",className:"h-9",onClick:()=>y(!0),children:[r.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Filter"]}),Object.values(g).some(Boolean)&&r.jsx($,{variant:"ghost",size:"sm",className:"h-9",onClick:()=>b({district:"",slug:"",emailDomain:""}),children:"Clear Filters"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border/50",children:[r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Partner"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Email"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Slug"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Districts"}),r.jsx("th",{className:"text-center py-4 px-6 font-medium text-muted-foreground text-sm w-20",children:"Actions"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading partners..."})]})})}):N.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(qt,{className:"w-8 h-8 opacity-50"}),r.jsx("span",{children:"No partners found"})]})})}):N.map((L,W)=>r.jsxs("tr",{className:"border-b border-border/30 hover:bg-muted/30 transition-colors group",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-primary text-sm font-medium",children:L.name?L.name.split(" ").map(H=>H[0]).join(""):"?"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-foreground truncate",children:L.name||"No Name"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:L.notes||"No notes"})]})]})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm text-foreground",children:L.email||"No email"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm text-foreground",children:L.slug||"No slug"})}),r.jsx("td",{className:"py-4 px-6",children:r.jsx("span",{className:"text-sm text-foreground",children:L.districts&&L.districts.length>0?L.districts.join(", "):"No districts"})}),r.jsx("td",{className:"py-4 px-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>O((u-1)*rd+W),title:"Edit Partner",children:r.jsx(sa,{className:"w-4 h-4"})}),r.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>ee(L),title:"View Assessments",children:r.jsx(cN,{className:"w-4 h-4"})}),r.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",onClick:()=>ue(L),title:"Create Assessment",children:r.jsx(it,{className:"w-4 h-4"})})]})})]},L.id))})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-border/50 bg-muted/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",N.length," of ",e.length," partners"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:()=>h(L=>Math.max(1,L-1)),disabled:u===1,children:"Previous"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",u," of ",S]}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>h(L=>Math.min(S,L+1)),disabled:u===S,children:"Next"})]})]})})]}),f.open&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:r.jsxs("form",{className:"bg-white rounded-lg p-8 w-full max-w-lg shadow-lg overflow-y-auto max-h-[90vh]",onSubmit:F,children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Partner"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Name"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:f.form.name,onChange:L=>P("name",L.target.value),required:!0}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ka Name Enter karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),f.form.emails.map((L,W)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("input",{type:"email",className:"border px-3 py-2 rounded w-full",value:L,onChange:H=>I(W,H.target.value),required:!0}),f.form.emails.length>1&&r.jsx("button",{type:"button",className:"text-red-500",onClick:()=>D(W),children:r.jsx(pn,{size:18})})]},W)),r.jsxs("button",{type:"button",className:"flex items-center text-orange-600 mt-1",onClick:B,children:[r.jsx(it,{size:18,className:"mr-1"}),"ADD ANOTHER EMAIL"]}),r.jsx("span",{className:"text-xs text-gray-500 block",children:"Partner ka Email Enter karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:f.form.notes,onChange:L=>P("notes",L.target.value)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ki thodi details add karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:f.form.slug,onChange:L=>P("slug",L.target.value)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ke student ko online test dene ke liye Slug add karo."})]}),f.form.districts.map((L,W)=>r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["District ",W+1]}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:L,onChange:H=>z(W,H.target.value),required:!0}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Enter District ",W+1]})]}),f.form.districts.length>1&&r.jsx("button",{type:"button",className:"text-red-500 mt-6",onClick:()=>A(W),children:r.jsx(pn,{size:18})})]},W)),r.jsxs("button",{type:"button",className:"flex items-center text-orange-600 mt-1",onClick:T,children:[r.jsx(it,{size:18,className:"mr-1"}),"ADD ANOTHER DISTRICT"]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-8",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:R,children:"CANCEL"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"UPDATE PARTNER"})]})]})}),j.open&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:r.jsxs("form",{className:"bg-white rounded-lg p-8 w-full max-w-lg shadow-lg overflow-y-auto max-h-[90vh]",onSubmit:de,children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Partner"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Name"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:j.form.name,onChange:L=>q("name",L.target.value),required:!0}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ka Name Enter karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),j.form.emails.map((L,W)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("input",{type:"email",className:"border px-3 py-2 rounded w-full",value:L,onChange:H=>te(W,H.target.value),required:!0}),j.form.emails.length>1&&r.jsx("button",{type:"button",className:"text-red-500",onClick:()=>Q(W),children:r.jsx(pn,{size:18})})]},W)),r.jsxs("button",{type:"button",className:"flex items-center text-orange-600 mt-1",onClick:xe,children:[r.jsx(it,{size:18,className:"mr-1"}),"ADD ANOTHER EMAIL"]}),r.jsx("span",{className:"text-xs text-gray-500 block",children:"Partner ka Email Enter karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:j.form.notes,onChange:L=>q("notes",L.target.value)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ki thodi details add karein."})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:j.form.slug,onChange:L=>q("slug",L.target.value)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Partner ke student ko online test dene ke liye Slug add karo."})]}),j.form.districts.map((L,W)=>r.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["District ",W+1]}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",value:L,onChange:H=>fe(W,H.target.value),required:!0}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Enter District ",W+1]})]}),j.form.districts.length>1&&r.jsx("button",{type:"button",className:"text-red-500 mt-6",onClick:()=>oe(W),children:r.jsx(pn,{size:18})})]},W)),r.jsxs("button",{type:"button",className:"flex items-center text-orange-600 mt-1",onClick:ne,children:[r.jsx(it,{size:18,className:"mr-1"}),"ADD ANOTHER DISTRICT"]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-8",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:V,children:"CANCEL"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"ADD PARTNER"})]})]})}),a&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-lg shadow-lg",children:[r.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Assessments for ",c==null?void 0:c.name]}),r.jsx("p",{className:"mb-4",children:"(Assessment details modal placeholder)"}),r.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:X,children:"Close"})]})}),i&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Assessment"}),r.jsx("input",{type:"text",placeholder:"Paper set name",className:"border px-3 py-2 rounded w-full mb-4"}),r.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",onClick:X,children:"Create"}),r.jsx("button",{className:"ml-2 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:X,children:"Cancel"})]})}),v&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:r.jsxs("form",{className:"bg-white rounded-lg p-8 w-full max-w-md shadow-lg overflow-y-auto max-h-[90vh]",onSubmit:L=>{L.preventDefault(),y(!1)},children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Filter Partners"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"District"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",placeholder:"Enter district name",value:g.district,onChange:L=>b(W=>({...W,district:L.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",placeholder:"Enter slug",value:g.slug,onChange:L=>b(W=>({...W,slug:L.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Domain"}),r.jsx("input",{type:"text",className:"border px-3 py-2 rounded w-full",placeholder:"e.g. gmail.com",value:g.emailDomain,onChange:L=>b(W=>({...W,emailDomain:L.target.value}))})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-8",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",onClick:()=>y(!1),children:"CANCEL"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"APPLY FILTERS"})]})]})})]})})]})},W0=10,K7=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[a,o]=m.useState(!0),[i,l]=m.useState(1),[c,d]=m.useState(1),[u,h]=m.useState(""),[f,p]=m.useState(!1),[w,x]=m.useState(""),[v,y]=m.useState({open:!1,email:"",name:"",phone:"",username:"",selectedRoleId:"",editId:null});m.useEffect(()=>{g(i),b()},[i]);const g=async(C=i)=>{var O,R;o(!0);try{const P=await Yy(C,W0),I=((O=P==null?void 0:P.data)==null?void 0:O.data)||[],z=((R=P==null?void 0:P.data)==null?void 0:R.totalPages)||1;t(I),d(z)}catch(P){console.error("Error fetching users:",P),t([])}finally{o(!1)}},b=async()=>{try{const C=await u_();s(C)}catch(C){console.error("Error fetching roles:",C),s([])}},j=async C=>{var R;if(C.preventDefault(),/^\d{10}$/.test(v.phone.trim()))x("");else{console.error("Phone number must be exactly 10 digits"),x("Phone number must be exactly 10 digits");return}if(!v.name.trim()||!v.email.trim()||!v.phone.trim()||!v.selectedRoleId){console.error("Please fill all required fields");return}const O={name:v.name.trim(),mobile:v.phone.trim(),email:v.email.trim(),mail_id:v.email.trim(),user_name:v.username.trim()||v.email.split("@")[0],user_role_id:parseInt(v.selectedRoleId)};try{if(v.editId)await c_(v.editId.toString(),O),await g();else{await yI(O);const P=await Yy(1,W0),I=((R=P==null?void 0:P.data)==null?void 0:R.totalPages)||1;l(I),await g(I)}E()}catch(P){console.error("Error saving user:",P)}},k=()=>y({open:!0,email:"",name:"",phone:"",username:"",selectedRoleId:"",editId:null}),E=()=>y({open:!1,email:"",name:"",phone:"",username:"",selectedRoleId:"",editId:null}),_=async C=>{try{await d_(C.toString()),await g()}catch(O){console.error("Error deleting user:",O)}},N=C=>{const O=n.find(R=>R.id===C);return O?O.name:`Role ${C}`},S=e.filter(C=>C.name.toLowerCase().includes(u.toLowerCase())||C.email.toLowerCase().includes(u.toLowerCase())||C.user_name&&C.user_name.toLowerCase().includes(u.toLowerCase()));return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>p(!1)}),r.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transition-transform duration-300 ease-in-out lg:translate-x-0 ${f?"translate-x-0":"-translate-x-full"}`,children:r.jsx(mt,{})}),r.jsx("div",{className:"lg:pl-64",children:r.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"lg:hidden mb-4",children:r.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-md bg-white shadow-sm border border-gray-200",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(dr,{className:"h-6 w-6 text-orange-600"})}),"User Management"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system users and their roles"})]}),r.jsxs("button",{onClick:k,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2.5 rounded-lg flex items-center gap-2 transition-colors duration-200 shadow-sm hover:shadow-md",children:[r.jsx(it,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Add User"}),r.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),r.jsxs("div",{className:"mt-4 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(qt,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search users by name, email, or username...",value:u,onChange:C=>h(C.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-orange-500 focus:border-orange-500"}),u&&r.jsx("button",{onClick:()=>h(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx(pn,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(dr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(yd,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Roles"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n.length})]})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(qt,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Search Results"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:S.length})]})]})})]}),a?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),r.jsx("div",{className:"text-lg text-gray-600 mt-4",children:"Loading users..."})]})}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"hidden md:block overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Username"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-orange-600 font-semibold text-sm",children:C.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(zl,{className:"h-3 w-3"}),C.email]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(jy,{className:"h-3 w-3"}),C.mobile||"-"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:C.user_name||"-"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[r.jsx(yd,{className:"h-3 w-3 mr-1"}),N(C.user_role_id)]})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsx("button",{onClick:()=>{var O;return y({open:!0,name:C.name,email:C.email,username:C.user_name||"",phone:C.mobile||"",selectedRoleId:((O=C.user_role_id)==null?void 0:O.toString())||"",editId:C.id})},className:"p-2 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-lg transition-colors duration-200",title:"Edit User",children:r.jsx(sa,{size:16})}),r.jsx("button",{onClick:()=>_(C.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete User",children:r.jsx(Ht,{size:16})})]})})]},C.id))})]})}),r.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:S.map(C=>r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[r.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-orange-600 font-semibold",children:C.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:C.name}),r.jsxs("p",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[r.jsx(zl,{className:"h-3 w-3"}),C.email]}),r.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-gray-500",children:[C.mobile&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(jy,{className:"h-3 w-3"}),C.mobile]}),r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[r.jsx(yd,{className:"h-3 w-3 mr-1"}),N(C.user_role_id)]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-2",children:[r.jsx("button",{onClick:()=>{var O;return y({open:!0,name:C.name,email:C.email,username:C.user_name||"",phone:C.mobile||"",selectedRoleId:((O=C.user_role_id)==null?void 0:O.toString())||"",editId:C.id})},className:"p-2 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-lg transition-colors duration-200",children:r.jsx(sa,{size:16})}),r.jsx("button",{onClick:()=>_(C.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200",children:r.jsx(Ht,{size:16})})]})]})},C.id))}),S.length===0&&r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(dr,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?"Try adjusting your search criteria.":"Get started by adding a new user."})]})]}),c>1&&r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx("nav",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>l(C=>Math.max(1,C-1)),disabled:i===1,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-orange-50 hover:text-orange-600"}`,children:"Previous"}),r.jsx("div",{className:"flex gap-1 mx-2",children:[...Array(c)].map((C,O)=>r.jsx("button",{onClick:()=>l(O+1),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${i===O+1?"bg-orange-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-orange-50 hover:text-orange-600"}`,children:O+1},O))}),r.jsx("button",{onClick:()=>l(C=>Math.min(c,C+1)),disabled:i===c,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${i===c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-orange-50 hover:text-orange-600"}`,children:"Next"})]})})}),v.open&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v.editId?"Edit User":"Add New User"}),r.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:r.jsx(pn,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",required:!0,value:v.name,onChange:C=>y(O=>({...O,name:C.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",required:!0,value:v.email,onChange:C=>y(O=>({...O,email:C.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),r.jsx("input",{type:"tel",required:!0,value:v.phone,onChange:C=>{const O=C.target.value;y(R=>({...R,phone:O})),/^\d{0,10}$/.test(O)?x(""):x("Only numbers allowed, 10 digits")},className:`w-full px-3 py-2.5 border rounded-lg focus:ring-2 transition-colors duration-200 ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-orange-500 focus:border-orange-500"}`,placeholder:"Enter 10-digit phone number"}),w&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),r.jsx("input",{type:"text",value:v.username,onChange:C=>y(O=>({...O,username:C.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter username (optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters, numbers, underscores allowed. Defaults to email prefix if empty."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),r.jsxs("select",{required:!0,value:v.selectedRoleId,onChange:C=>y(O=>({...O,selectedRoleId:C.target.value})),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",children:[r.jsx("option",{value:"",disabled:!0,children:"Select a role"}),n.map(C=>r.jsx("option",{value:C.id,children:C.name},C.id))]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:E,className:"px-4 py-2.5 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2.5 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors duration-200 shadow-sm hover:shadow-md",children:v.editId?"Update User":"Create User"})]})]})]})})]})})})]})},Sp=[{id:1,name:"Rukhsar khan",number:"9960511321",altNumber:"",email:"rukhsarkhan20@navgurukul.org",gender:"Female",joinedDate:"25 Jul 2021",stage:"offerLetterSent",jobKab:"N/A",daysPassed:"N/A",kitneAurDin:"",kitneDinLaenge:"",qualification:"Class 10th",partnerName:"Akanksha Foundation",campus:""},{id:2,name:"Akash Deshmukh",number:"9623738495",altNumber:"",email:"Update Email",gender:"Male",joinedDate:"12 Sep 2022",stage:"offerLetterSent",jobKab:"N/A",daysPassed:"N/A",kitneAurDin:"",kitneDinLaenge:"",qualification:"Graduate",partnerName:"jojopulli@gmail",campus:""},{id:3,name:"Ankur Singhalvbb",number:"8755531363",altNumber:"8755531363",email:"jayshri20@navgurukul.org",gender:"",joinedDate:"",stage:"offerLetterSent",jobKab:"N/A",daysPassed:"N/A",kitneAurDin:"",kitneDinLaenge:"",qualification:"Graduate",partnerName:"katha",campus:""},{id:4,name:"Dipesh Rangwani",number:"7385419562",altNumber:"7385419562",email:"Update Email",gender:"Male",joinedDate:"12 Sep 2022",stage:"offerLetterSent",jobKab:"N/A",daysPassed:"N/A",kitneAurDin:"",kitneDinLaenge:"",qualification:"Class 12th",partnerName:"United way of Hyderabad",campus:""}],sd=[{id:1,name:"Accenture C1"},{id:2,name:"Accenture C2"},{id:3,name:"Accenture C3"},{id:4,name:"Microsoft C1"},{id:5,name:"KPMG C1"},{id:6,name:"LTI"},{id:7,name:"DxC ( EIT)"},{id:8,name:"ACL"},{id:9,name:"Macquarie"}],Y7=[{value:"offerLetterSent",label:"Offer Letter Sent"},{value:"joined",label:"Joined"},{value:"pending",label:"Pending"}],J7=[{value:"",label:"Select..."},{value:"Bangalore",label:"Bangalore"},{value:"Pune",label:"Pune"},{value:"Delhi",label:"Delhi"}],X7=[{value:"",label:"Select..."},{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],Z7=Array.from(new Set(Sp.map(e=>e.partnerName).filter(Boolean))),e9=()=>{const[e,t]=m.useState(""),[n,s]=m.useState("Accenture C1 Donor"),[a,o]=m.useState(!1),i=Sp.filter(l=>l.name.toLowerCase().includes(e.toLowerCase())||l.email.toLowerCase().includes(e.toLowerCase())||l.partnerName.toLowerCase().includes(e.toLowerCase()));return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsxs("main",{className:"md:ml-64 p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10",children:[r.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:Sp.length})]}),r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(Ga,{className:"w-6 h-6 text-primary"})})]}),r.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Donors"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:sd.length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-prospect/10 rounded-lg flex items-center justify-center",children:r.jsx(dN,{className:"w-6 h-6 text-status-prospect"})})]}),r.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Unique Partners"}),r.jsx("p",{className:"text-2xl font-bold text-foreground",children:Z7.length})]}),r.jsx("div",{className:"w-12 h-12 bg-status-active/10 rounded-lg flex items-center justify-center",children:r.jsx(Ga,{className:"w-6 h-6 text-status-active"})})]})]}),r.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:n}),r.jsxs("div",{className:"flex items-center justify-between mb-6 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 w-full max-w-md",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, email, or partner...",value:e,onChange:l=>t(l.target.value),className:"pl-10 h-10"})]}),r.jsxs($,{variant:"outline",size:"sm",className:"h-10 flex items-center gap-2",children:[r.jsx(Ei,{className:"w-4 h-4"}),"Filter"]})]}),r.jsxs(Qt,{open:a,onOpenChange:o,children:[r.jsx(s3,{asChild:!0,children:r.jsx($,{variant:"outline",className:"px-6 py-2 rounded font-semibold",children:"Donor List"})}),r.jsxs(Gt,{children:[r.jsx(Kt,{children:"Donors Name"}),r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{className:"w-16",children:"S.No"}),r.jsx(je,{children:"Name"})]})}),r.jsx(ca,{children:sd.map((l,c)=>r.jsxs(St,{children:[r.jsx(ve,{children:c+1}),r.jsx(ve,{children:r.jsx("button",{className:"text-red-600 font-medium hover:underline focus:outline-none",onClick:()=>{s(l.name),o(!1)},children:l.name})})]},l.id))})]}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-2 text-right",children:["Rows per page: 10  1-",sd.length," of ",sd.length]})]})]})]}),r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border overflow-x-auto",children:[r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{children:"Name"}),r.jsx(je,{children:"Number"}),r.jsx(je,{children:"Alternative Number"}),r.jsx(je,{children:"Email"}),r.jsx(je,{children:"Gender"}),r.jsx(je,{children:"Joined Date"}),r.jsx(je,{children:"Stage"}),r.jsx(je,{children:"Job Kab Lagegi.."}),r.jsx(je,{children:"Days Passed"}),r.jsx(je,{children:"kitne Aur Din"}),r.jsx(je,{children:"kitne Din Laenge"}),r.jsx(je,{children:"Qualification"}),r.jsx(je,{children:"Partner Name"}),r.jsx(je,{children:"Campus"})]})}),r.jsx(ca,{children:i.map((l,c)=>r.jsxs(St,{className:"border-b border-border hover:bg-muted/20 transition-colors",children:[r.jsx(ve,{className:"p-4",children:l.name}),r.jsx(ve,{className:"p-4",children:l.number}),r.jsx(ve,{className:"p-4",children:l.altNumber}),r.jsx(ve,{className:"p-4",children:l.email}),r.jsx(ve,{className:"p-4",children:r.jsx("select",{className:"border rounded px-2 py-1 text-sm w-full",children:X7.map(d=>r.jsx("option",{value:d.value,selected:l.gender===d.value,children:d.label},d.value))})}),r.jsx(ve,{className:"p-4",children:l.joinedDate}),r.jsx(ve,{className:"p-4",children:r.jsx("select",{className:"border rounded px-2 py-1 text-sm w-full",children:Y7.map(d=>r.jsx("option",{value:d.value,selected:l.stage===d.value,children:d.label},d.value))})}),r.jsx(ve,{className:"p-4",children:l.jobKab}),r.jsx(ve,{className:"p-4",children:l.daysPassed}),r.jsx(ve,{className:"p-4",children:l.kitneAurDin}),r.jsx(ve,{className:"p-4",children:l.kitneDinLaenge}),r.jsx(ve,{className:"p-4",children:l.qualification}),r.jsx(ve,{className:"p-4",children:l.partnerName}),r.jsx(ve,{className:"p-4",children:r.jsx("select",{className:"border rounded px-2 py-1 text-sm w-full",children:J7.map(d=>r.jsx("option",{value:d.value,selected:l.campus===d.value,children:d.label},d.value))})})]},l.id))})]}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-2 text-right p-4",children:["Rows per page: 10  1-",i.length," of ",i.length]})]})]})]})},t9=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(null),[i,l]=m.useState(""),[c,d]=m.useState(1),u=10,[h,f]=m.useState(!1),[p,w]=m.useState(!1),[x,v]=m.useState(!1),[y,g]=m.useState(""),[b,j]=m.useState(""),[k,E]=m.useState(null);m.useEffect(()=>{(async()=>{s(!0),o(null);try{const T=await p_();t(T)}catch(T){o(T instanceof Error?T.message:"An unknown error occurred")}finally{s(!1)}})()},[]);const _=e.filter(D=>D.campus_name.toLowerCase().includes(i.toLowerCase())),N=Math.ceil(_.length/u),S=c*u,C=S-u,O=_.slice(C,S),R=()=>{c<Math.max(N,1)&&d(D=>D+1)},P=()=>{c>1&&d(D=>D-1)},I=async D=>{var T;D.preventDefault();try{const A=await LI(y),F={id:A.id||((T=A.data)==null?void 0:T.id),campus_name:A.campus_name||y};t(U=>[...U,F]),g(""),f(!1),_n({title:"Campus Added",description:"Campus has been successfully added."})}catch(A){console.error("Error creating campus:",A),_n({title:"Error",description:`Failed to create campus: ${A instanceof Error?A.message:"Unknown error"}`,variant:"destructive"})}},z=async(D,T)=>{try{await g_(D,T),t(A=>A.map(F=>F.id===D?{...F,campus_name:T}:F)),_n({title:"Campus Updated",description:`Campus "${T}" updated successfully.`})}catch(A){_n({title:"Error updating campus",description:A.message,variant:"destructive"})}},B=async D=>{try{await $I(D),t(T=>T.filter(A=>A.id!==D)),_n({title:"Campus deleted",description:`Campus ID ${D} has been deleted.`})}catch(T){_n({title:"Error deleting campus",description:T.message,variant:"destructive"})}};return r.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50",children:[r.jsx(mt,{}),r.jsx("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 md:ml-64",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx(Be,{className:"text-2xl",children:"Campuses Name"}),r.jsx(bn,{children:"A list of all the campuses."})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(qt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{type:"search",placeholder:"Search campus...",className:"pl-8 w-full",value:i,onChange:D=>{l(D.target.value),d(1)}})]}),r.jsxs($,{onClick:()=>f(!0),children:[r.jsx(it,{className:"mr-2 h-4 w-4"})," Add Campus"]})]})]})}),r.jsx(Se,{children:n?r.jsx("p",{children:"Loading..."}):a?r.jsx("p",{className:"text-red-500",children:a}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{children:"S.No"}),r.jsx(je,{children:"Campus Name"}),r.jsx(je,{className:"text-right",children:"Actions"})]})}),r.jsx(ca,{children:O.length===0?r.jsx(St,{children:r.jsx(ve,{colSpan:3,className:"text-center",children:"No campuses found."})}):O.map((D,T)=>r.jsxs(St,{children:[r.jsx(ve,{children:C+T+1}),r.jsx(ve,{className:"font-medium",children:r.jsx(Rj,{to:`/campus/${D.id}`,className:"text-primary hover:underline",children:D.campus_name})}),r.jsxs(ve,{className:"text-right space-x-2",children:[r.jsx($,{variant:"ghost",size:"icon",className:"text-blue-600",onClick:()=>{E(D),j(D.campus_name),w(!0)},children:r.jsx(sa,{className:"w-4 h-4"})}),r.jsx($,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{E(D),v(!0)},children:r.jsx(Ht,{className:"w-4 h-4"})})]})]},D.id))})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4 gap-2",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing"," ",_.length===0?0:C+1," "," ",Math.min(S,_.length)," of"," ",_.length]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:P,disabled:c===1,children:"Previous"}),r.jsx($,{variant:"outline",size:"sm",onClick:R,disabled:c===N||N===0,children:"Next"})]})]})]})})]})}),h&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("form",{onSubmit:I,className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-orange-200",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-orange-700",children:"Add Campus"}),r.jsx("input",{type:"text",placeholder:"Enter campus name",className:"border border-orange-300 px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:y,onChange:D=>g(D.target.value),required:!0}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded",onClick:()=>f(!1),children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded",children:"Add"})]})]})}),p&&k&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-orange-200",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-orange-700",children:"Update Campus"}),r.jsx("input",{type:"text",placeholder:"Enter campus name",className:"border border-orange-300 px-3 py-2 rounded w-full",value:b,onChange:D=>j(D.target.value),required:!0}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded",onClick:()=>{w(!1),E(null)},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded",onClick:()=>{k&&(z(k.id,b),w(!1),E(null))},children:"Update"})]})]})}),x&&k&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-red-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Confirm Deletion"}),r.jsxs("p",{children:["Are you sure you want to delete ",r.jsx("strong",{children:k.campus_name}),"?"]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded",onClick:()=>{v(!1),E(null)},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded",onClick:()=>{B(k.id),v(!1),E(null)},children:"Delete"})]})]})})]})},n9=[{key:"overview",label:"Overview"},{key:"student",label:"Student Data"}],V0=10,r9=()=>{const{id:e}=_g(),[t,n]=m.useState("overview"),[s,a]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(null),[h,f]=m.useState("");Rt();const[p,w]=m.useState(1),[x,v]=m.useState(10),[y,g]=m.useState(""),[b,j]=m.useState(!1),[k,E]=m.useState({stage:"all",status:"all",examMode:"all",interviewMode:"all",partner:[],district:[],market:[],dateRange:{type:"application"}});m.useEffect(()=>{fetch("https://dev-join.navgurukul.org/api/campus").then(R=>R.json()).then(R=>{const P=R.data.find(I=>String(I.id)===String(e));f(P?P.campus:"Campus")})},[e]),m.useEffect(()=>{c(!0),u(null),t==="overview"?fetch(`https://dev-join.navgurukul.org/api/school/campus_school/${e}`).then(R=>R.json()).then(R=>{a(R)}).catch(()=>u("Failed to fetch data")).finally(()=>c(!1)):t==="student"&&fetch(`https://dev-join.navgurukul.org/api/campus/${e}/students`).then(R=>R.json()).then(R=>{i(R.data||[])}).catch(()=>u("Failed to fetch student data")).finally(()=>c(!1))},[e,t]);const _=o.slice((p-1)*x,p*x),N=Math.ceil(o.length/x),S=o.length===0?0:(p-1)*x+1,C=Math.min(p*x,o.length),O=_.filter(R=>{var B,D,T;const P=y.toLowerCase(),I=R.name&&R.name.toLowerCase().includes(P)||R.email&&R.email.toLowerCase().includes(P)||((D=(B=R.contacts)==null?void 0:B[0])==null?void 0:D.mobile)&&R.contacts[0].mobile.includes(P);let z=!0;return k.stage!=="all"&&((T=R.stage)==null?void 0:T.stage)!==k.stage&&(z=!1),I&&z});return r.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[r.jsx(mt,{}),r.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-16 md:pt-8 md:ml-64",children:[r.jsxs("h2",{className:"text-3xl font-bold text-center mb-6",children:[h," Campus"]}),r.jsx("div",{className:"flex justify-center mb-6 gap-2",children:n9.map(R=>r.jsx($,{variant:t===R.key?"default":"outline",className:t===R.key?"bg-orange-500 text-white":"",onClick:()=>n(R.key),children:R.label},R.key))}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:t==="overview"?"Programs offered":"Student Data"})}),r.jsxs(Se,{children:[t==="overview"&&(l?r.jsx("p",{children:"Loading..."}):d?r.jsx("p",{className:"text-red-500",children:d}):r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{children:"S.No"}),r.jsx(je,{children:"School Name"}),r.jsx(je,{children:"Capacity of students"})]})}),r.jsx(ca,{children:s.map((R,P)=>r.jsxs(St,{children:[r.jsx(ve,{children:P+1}),r.jsx(ve,{children:R.name}),r.jsx(ve,{children:R.capacity})]},R.school_id))})]})),t==="student"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 mb-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),r.jsx(ae,{placeholder:"Search by name, email, or mobile...",value:y,onChange:R=>g(R.target.value),className:"pl-10 h-9"})]}),r.jsxs($,{variant:"outline",size:"sm",className:"h-9",onClick:()=>j(!0),children:[r.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),r.jsx(MS,{isOpen:b,onClose:()=>j(!1),onApplyFilters:R=>E(R),currentFilters:k}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map((R,P)=>{var I,z,B,D,T,A;return r.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-soft border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-bold text-foreground mb-1",children:R.name||"No Name"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:R.email})]}),r.jsx("button",{onClick:()=>{i(F=>F.map((U,V)=>V===(p-1)*V0+P?{...U,redflag:U.redflag==="flagged"?"":"flagged"}:U))},className:"focus:outline-none",title:R.redflag==="flagged"?"Unflag":"Flag",children:R.redflag==="flagged"?r.jsx("span",{role:"img","aria-label":"Flag",style:{color:"red",fontSize:"1.5em"},children:""}):r.jsx("span",{role:"img","aria-label":"No Flag",style:{color:"#ccc",fontSize:"1.5em"},children:""})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Number:"})," ",((z=(I=R.contacts)==null?void 0:I[0])==null?void 0:z.mobile)||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Alt Number:"})," ",((D=(B=R.contacts)==null?void 0:B[0])==null?void 0:D.alt_mobile)||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Joined:"})," ",R.joinedDate||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Qualification:"})," ",R.qualification||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Partner:"})," ",((T=R.partner)==null?void 0:T.name)||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Job Kab Lagegi:"})," ",R.jobKabLagega||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Days Passed:"})," ",typeof R.daysPassed=="object"&&R.daysPassed!==null?R.daysPassed.daysPassedInCampus??"":""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"kitne Aur Din:"})," ",typeof R.daysPassed=="object"&&R.daysPassed!==null?R.daysPassed.kitneAurDin??"":""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"kitne Din Lageng:"})," ",typeof R.daysPassed=="object"&&R.daysPassed!==null?R.daysPassed.kitneDinLagenge??"":""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Other Activities:"})," ",R.other_activities||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Evaluation:"})," ",R.evaluation||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Survey Form:"})," ",R.surveyForm||""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Upload Documents:"})," ",R.studentDocuments?"UPLOAD":""]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-muted-foreground",children:"Stage:"}),r.jsxs("select",{className:"border rounded px-2 py-1 text-xs",value:((A=R.stage)==null?void 0:A.stage)||"",onChange:F=>{const U=F.target.value;i(V=>V.map((q,te)=>te===(p-1)*V0+P?{...q,stage:{...q.stage,stage:U}}:q))},children:[r.jsx("option",{value:"",children:"Select Stage"}),r.jsx("option",{value:"contact",children:"Contact"}),r.jsx("option",{value:"screening",children:"Screening"}),r.jsx("option",{value:"interviews",children:"Interviews"}),r.jsx("option",{value:"decision",children:"Decision"})]})]})]})]},R.id||P)})}),r.jsxs("div",{className:"flex justify-center items-center gap-6 mt-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Rows per page:"}),r.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:x,onChange:R=>{v(Number(R.target.value)),w(1)},children:[10,20,50,100].map(R=>r.jsx("option",{value:R,children:R},R))})]}),r.jsxs("span",{className:"text-sm",children:[S,"-",C," of ",o.length]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"px-2 py-1 rounded border border-gray-200 bg-white text-sm disabled:opacity-50",onClick:()=>w(R=>Math.max(1,R-1)),disabled:p===1,"aria-label":"Previous page",children:"<"}),r.jsx("button",{className:"px-2 py-1 rounded border border-gray-200 bg-white text-sm disabled:opacity-50",onClick:()=>w(R=>Math.min(N,R+1)),disabled:p===N,"aria-label":"Next page",children:">"})]})]})]})]})]})]})]})},s9=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(null),[i,l]=m.useState(""),[c,d]=m.useState(1),u=10,[h,f]=m.useState(!1),[p,w]=m.useState(!1),[x,v]=m.useState(!1),[y,g]=m.useState(""),[b,j]=m.useState(""),[k,E]=m.useState(null);m.useEffect(()=>{(async()=>{s(!0),o(null);try{const T=await x_();t(T)}catch(T){o(T instanceof Error?T.message:"An unknown error occurred")}finally{s(!1)}})()},[]);const _=e.filter(D=>(D.school_name||"").toLowerCase().includes(i.toLowerCase())),N=Math.ceil(_.length/u),S=c*u,C=S-u,O=_.slice(C,S),R=()=>{c<N&&d(D=>D+1)},P=()=>{c>1&&d(D=>D-1)},I=async D=>{var T;D.preventDefault();try{const A=await FI(y),F={id:A.id||((T=A.data)==null?void 0:T.id)||Date.now(),school_name:y};t(U=>[...U,F]),g(""),f(!1),_n({title:"School Added",description:"School has been successfully added."})}catch(A){_n({title:"Error",description:`Failed to create school: ${A instanceof Error?A.message:"Unknown error"}`,variant:"destructive"})}},z=async(D,T)=>{try{await v_(D,T),t(A=>A.map(F=>F.id===D?{...F,school_name:T}:F)),_n({title:"School Updated",description:`School "${T}" updated successfully.`})}catch(A){_n({title:"Error updating school",description:A.message,variant:"destructive"})}},B=async D=>{try{await UI(D),t(T=>T.filter(A=>A.id!==D)),_n({title:"School Deleted",description:`School ID ${D} has been deleted.`})}catch(T){_n({title:"Error deleting school",description:T.message,variant:"destructive"})}};return r.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50",children:[r.jsx(mt,{}),r.jsx("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 md:ml-64",children:r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx(Be,{className:"text-2xl",children:"Schools"}),r.jsx(bn,{children:"A list of all the schools."})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center w-full md:w-auto",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(qt,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(ae,{type:"search",placeholder:"Search school...",className:"pl-8 w-full",value:i,onChange:D=>{l(D.target.value),d(1)}})]}),r.jsxs($,{onClick:()=>f(!0),children:[r.jsx(it,{className:"mr-2 h-4 w-4"})," Add School"]})]})]})}),r.jsx(Se,{children:n?r.jsx("p",{children:"Loading..."}):a?r.jsx("p",{className:"text-red-500",children:a}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(ia,{children:[r.jsx(la,{children:r.jsxs(St,{children:[r.jsx(je,{children:"S.No"}),r.jsx(je,{children:"School Name"}),r.jsx(je,{className:"text-right",children:"Actions"})]})}),r.jsx(ca,{children:O.length===0?r.jsx(St,{children:r.jsx(ve,{colSpan:4,className:"text-center",children:"No schools found."})}):O.map((D,T)=>r.jsxs(St,{children:[r.jsx(ve,{children:C+T+1}),r.jsx(ve,{className:"font-medium text-orange-600",children:D.school_name||"N/A"}),r.jsxs(ve,{className:"text-right space-x-2",children:[r.jsx($,{variant:"ghost",size:"icon",className:"text-blue-600",onClick:()=>{E(D),j(D.school_name),w(!0)},children:r.jsx(sa,{className:"w-4 h-4"})}),r.jsx($,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{E(D),v(!0)},children:r.jsx(Ht,{className:"w-4 h-4"})})]})]},D.id))})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4 gap-2",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing"," ",_.length===0?0:C+1," ",Math.min(S,_.length)," of"," ",_.length]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:P,disabled:c===1,children:"Previous"}),r.jsx($,{variant:"outline",size:"sm",onClick:R,disabled:c===N||N===0,children:"Next"})]})]})]})})]})}),h&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("form",{onSubmit:I,className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-orange-200",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-orange-700",children:"Add School"}),r.jsx("input",{type:"text",placeholder:"Enter school name",className:"border border-orange-300 px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:y,onChange:D=>g(D.target.value),required:!0}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",onClick:()=>f(!1),children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors",children:"Add"})]})]})}),p&&k&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-orange-200",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-orange-700",children:"Update School"}),r.jsx("input",{type:"text",placeholder:"Enter school name",className:"border border-orange-300 px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:b,onChange:D=>j(D.target.value),required:!0}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",onClick:()=>{w(!1),E(null)},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors",onClick:()=>{k&&(z(k.id,b),w(!1),E(null))},children:"Update"})]})]})}),x&&k&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg border border-red-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Confirm Deletion"}),r.jsxs("p",{children:["Are you sure you want to delete"," ",r.jsx("strong",{children:k.school_name}),"?"]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition-colors",onClick:()=>{v(!1),E(null)},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",onClick:()=>{B(k.id),v(!1),E(null)},children:"Delete"})]})]})})]})},q0={stageType:"Test",stageName:""},a9=()=>{const{id:e}=_g(),[t,n]=m.useState([]),[s,a]=m.useState(""),[o,i]=m.useState(!0),[l,c]=m.useState({open:!1,idx:null,form:q0}),[d,u]=m.useState({open:!1,idx:null}),[h,f]=m.useState([]),[p,w]=m.useState("");m.useEffect(()=>{e&&fetch(`https://dev-join.navgurukul.org/api/stage/${e}`).then(N=>N.json()).then(N=>{n(N),N.length>0&&a(N[0].name||"School"),i(!1)}).catch(()=>i(!1))},[e]);const x=N=>{const S=t[N];c({open:!0,idx:N,form:{stageType:S.stageType||"Test",stageName:S.stageName||""}})},v=()=>c({open:!1,idx:null,form:q0}),y=(N,S)=>{c(C=>({...C,form:{...C.form,[N]:S}}))},g=N=>{N.preventDefault(),v()},b=N=>{var S;u({open:!0,idx:N}),f(t.map((C,O)=>O===N)),w(((S=t[N])==null?void 0:S.stageName)||"")},j=()=>u({open:!1,idx:null}),k=N=>{f(S=>S.map((C,O)=>O===N?!C:C))},E=N=>w(N.target.value),_=N=>{N.preventDefault(),j()};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(mt,{}),r.jsxs("main",{className:"md:ml-64 flex flex-col items-center justify-center min-h-screen pt-16 md:pt-0",children:[r.jsx("div",{className:"w-full max-w-4xl p-4 md:p-8",children:r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:s}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border/50",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground text-sm",children:"S.No"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground text-sm",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground text-sm",children:"Stage Name"}),r.jsx("th",{className:"text-center py-3 px-4 font-medium text-muted-foreground text-sm",children:"Edit"}),r.jsx("th",{className:"text-center py-3 px-4 font-medium text-muted-foreground text-sm",children:"Manage Transitions"}),r.jsx("th",{className:"text-center py-3 px-4 font-medium text-muted-foreground text-sm",children:"Delete"})]})}),r.jsx("tbody",{children:o?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading stages..."})]})})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No stages found"})}):t.map((N,S)=>r.jsxs("tr",{className:S%2===1?"bg-muted/30":"",children:[r.jsx("td",{className:"py-3 px-4",children:S+1}),r.jsx("td",{className:"py-3 px-4",children:N.stageType}),r.jsx("td",{className:"py-3 px-4",children:N.stageName}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("button",{className:"hover:text-orange-600",onClick:()=>x(S),children:r.jsx(sa,{size:18})})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("button",{className:"text-orange-600 hover:underline",onClick:()=>b(S),children:"Manage Transitions"})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("button",{className:"hover:text-red-600",children:r.jsx(Ht,{size:18})})})]},N.id))})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows per page: 10"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["1-",t.length," of ",t.length]})]})]})}),r.jsx(Qt,{open:l.open,onOpenChange:N=>!N&&v(),children:r.jsx(Gt,{children:r.jsxs("form",{onSubmit:g,className:"w-full max-w-md",children:[r.jsx(rn,{children:r.jsx(Kt,{className:"text-2xl font-semibold mb-4",children:"Edit Admission Stage"})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-base font-medium mb-2",children:"Stage Type"}),r.jsxs("div",{className:"flex gap-6 mb-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"stageType",value:"Test",checked:l.form.stageType==="Test",onChange:()=>y("stageType","Test")}),"Test"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",name:"stageType",value:"Interview",checked:l.form.stageType==="Interview",onChange:()=>y("stageType","Interview")}),"Interview"]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-base font-medium mb-2",children:"Stage Name"}),r.jsx("input",{type:"text",className:"border-2 border-orange-400 rounded px-3 py-2 w-full text-lg",placeholder:"Enter Stage",value:l.form.stageName,onChange:N=>y("stageName",N.target.value),required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded font-semibold text-lg shadow mt-2",children:"ADD ADMISSION STAGE"})]})})}),r.jsx(Qt,{open:d.open,onOpenChange:N=>!N&&j(),children:r.jsx(Gt,{children:r.jsxs("form",{onSubmit:_,className:"w-full max-w-lg",children:[r.jsx(rn,{children:r.jsx(Kt,{className:"text-2xl font-semibold mb-4",children:"Manage Transitions"})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Available Transitions"}),r.jsx("div",{className:"flex flex-col gap-2",children:t.map((N,S)=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:!!h[S],onChange:()=>k(S)}),N.stageName]},N.id))})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Preview"}),r.jsx("select",{className:"border rounded px-3 py-2 w-full",value:p,onChange:E,children:t.map((N,S)=>r.jsx("option",{value:N.stageName,children:N.stageName},N.id))})]})]}),r.jsx("button",{type:"submit",className:"mt-6 w-full bg-orange-500 text-white py-2 rounded font-semibold text-lg shadow",children:"SAVE TRANSITION & RETURN"})]})})})]})]})},H0=[{value:1,label:"Female"},{value:2,label:"Male"}],o9=[{value:!0,label:"Yes"},{value:!1,label:"No"}],i9=[{value:"CultureFitInterview",label:"CultureFitInterview"},{value:"EnglishInterview",label:"EnglishInterview"},{value:"AlgebraInterview",label:"AlgebraInterview"}];function l9(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(!1),[i,l]=m.useState({owner:"",gender:"",available:"",stage:"",limit:""}),[c,d]=m.useState([]),[u,h]=m.useState("add"),[f,p]=m.useState(null),[w,x]=m.useState(1),v=10,y=Math.ceil(e.length/v),g=e.slice((w-1)*v,w*v),b=()=>{w>1&&x(w-1)},j=()=>{w<y&&x(w+1)},k=()=>{h("add"),p(null),l({owner:"",gender:"",available:"",stage:"",limit:""}),o(!0)},E=N=>{h("edit"),p(N),l({owner:String(N.user.id),gender:String(N.gender),available:String(N.available),stage:N.type[0]||"",limit:String(N.max_limit)}),o(!0)};m.useEffect(()=>{fetch("https://dev-join.navgurukul.org/api/owner").then(N=>N.json()).then(N=>{t(N.data||[]),s(!1),d((N.data||[]).map(S=>({id:S.user.id,name:S.user.user_name+" ("+S.user.mail_id+")"})))})},[]);const _=(N,S)=>{l(C=>({...C,[N]:S}))};return r.jsxs("div",{className:"min-h-screen bg-background flex",children:[r.jsx(mt,{}),r.jsxs("main",{className:"md:ml-64 flex-1 p-4 md:p-8 pt-16 md:pt-8",children:[r.jsxs("div",{className:"bg-card rounded-xl shadow-soft border border-border",children:[r.jsx("div",{className:"p-6 border-b border-border",children:r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Owners"}),r.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage and track owner details"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx($,{className:"bg-gradient-primary hover:bg-primary/90 text-white h-9",children:"Interview Schedule"}),r.jsx($,{className:"bg-orange-500 hover:bg-orange-600 text-white rounded-md px-6 py-2 font-semibold shadow h-9",onClick:k,children:"Add Owner"})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border/50",children:[r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Edit"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Name"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Gender"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Available"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Pending Interviews"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Interview Types"}),r.jsx("th",{className:"text-left py-4 px-6 font-medium text-muted-foreground text-sm",children:"Assigned Interviews Limit"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-12 text-center text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Loading owners..."})]})})}):g.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-12 text-center text-muted-foreground",children:r.jsx("span",{children:"No owners found"})})}):g.map(N=>{var S;return r.jsxs("tr",{className:"border-b border-border/30 hover:bg-muted/30 transition-colors group",children:[r.jsx("td",{className:"py-4 px-6",children:r.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>E(N),children:r.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M12 20h9"}),r.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"})]})})}),r.jsx("td",{className:"py-4 px-6 font-medium",children:N.user.user_name}),r.jsx("td",{className:"py-4 px-6",children:((S=H0.find(C=>C.value===N.gender))==null?void 0:S.label)||"Other"}),r.jsx("td",{className:"py-4 px-6",children:N.available?"Yes":"No"}),r.jsx("td",{className:"py-4 px-6",children:N.pending_interview_count}),r.jsx("td",{className:"py-4 px-6",children:N.type.map(C=>r.jsx("span",{className:"inline-block bg-orange-100 text-orange-700 rounded px-2 py-1 text-xs font-semibold mr-1 mb-1",children:C},C))}),r.jsx("td",{className:"py-4 px-6",children:N.max_limit})]},N.id)})})]})}),r.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",w," of ",y]}),r.jsxs("div",{className:"space-x-2",children:[r.jsx($,{variant:"outline",onClick:b,disabled:w===1,children:"Previous"}),r.jsx($,{variant:"outline",onClick:j,disabled:w===y,children:"Next"})]})]})]}),a&&r.jsx(Qt,{open:a,onOpenChange:o,children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:u==="edit"?"Edit Owner":"Add New Owner"}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(J,{htmlFor:"owner",children:"Select Owner"}),r.jsxs(Fe,{value:i.owner,onValueChange:N=>_("owner",N),children:[r.jsx(Le,{id:"owner",className:"mt-1",children:r.jsx(Ue,{placeholder:"Please Select Owner"})}),r.jsx(Ve,{children:c.map(N=>r.jsx(re,{value:String(N.id),children:N.name},N.id))})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"gender",children:"Select Gender"}),r.jsxs(Fe,{value:i.gender,onValueChange:N=>_("gender",N),children:[r.jsx(Le,{id:"gender",className:"mt-1",children:r.jsx(Ue,{placeholder:"Please select your gender"})}),r.jsx(Ve,{children:H0.map(N=>r.jsx(re,{value:String(N.value),children:N.label},N.value))})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"available",children:"Select Availability"}),r.jsxs(Fe,{value:i.available,onValueChange:N=>_("available",N),children:[r.jsx(Le,{id:"available",className:"mt-1",children:r.jsx(Ue,{placeholder:"Select Yes/No"})}),r.jsx(Ve,{children:o9.map(N=>r.jsx(re,{value:String(N.value),children:N.label},String(N.value)))})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"stage",children:"Select Stage"}),r.jsxs(Fe,{value:i.stage,onValueChange:N=>_("stage",N),children:[r.jsx(Le,{id:"stage",className:"mt-1",children:r.jsx(Ue,{placeholder:"Select Stage"})}),r.jsx(Ve,{children:i9.map(N=>r.jsx(re,{value:N.value,children:N.label},N.value))})]})]}),r.jsxs("div",{children:[r.jsx(J,{htmlFor:"limit",children:"Interview Limit"}),r.jsx(ae,{id:"limit",type:"number",min:"0",value:i.limit,onChange:N=>_("limit",N.target.value),placeholder:"Ek student kitne interviews le sakta hai."})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx($,{variant:"outline",type:"button",onClick:()=>o(!1),children:"Cancel"}),r.jsx($,{className:"bg-orange-500 text-white",type:"submit",children:u==="edit"?"Update Owner":"Add Owner"})]})]})]})})})]})]})}const c9=[{name:"User Role",href:"/settings/user-role",icon:yl},{name:"Caste",href:"/settings/caste",icon:Ga},{name:"Religion",href:"/settings/religion",icon:uA},{name:"Qualification",href:"/settings/qualification",icon:FA}];function d9(){return r.jsx("div",{className:"min-h-screen bg-background",children:r.jsx("main",{className:"md:ml-56  md:px-8 py-3 ",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your application settings and configurations"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4",children:[r.jsx("div",{className:"lg:col-span-1 border-r border-gray-200",children:r.jsx("nav",{className:"p-6 space-y-2",children:c9.map(e=>r.jsxs(Aj,{to:e.href,className:({isActive:t})=>Z("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[r.jsx(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})}),r.jsx("div",{className:"lg:col-span-3 p-6",children:r.jsx(MT,{})})]})})]})})})}function Q0(){const[e,t]=m.useState([]),[n,s]=m.useState(null),[a,o]=m.useState({name:"",description:""}),{toast:i}=De();m.useEffect(()=>{(async()=>{try{const f=(await u_()).map(p=>({id:p.id,name:p.name,description:p.description??"",permissions:p.permissions??[]}));t(f),console.log("Fetched roles:",f)}catch(h){console.error("Failed to fetch roles:",h),i({title:"Error",description:"Failed to fetch roles",variant:"destructive"})}})()},[i]);const l=async()=>{if(!a.name.trim())return;if(e.some(h=>h.name.toLowerCase()===a.name.trim().toLowerCase())){i({title:"Duplicate Role",description:`Role "${a.name}" already exists.`,variant:"destructive"});return}try{const h=await bI({name:a.name.trim()}),f={id:h.id,name:h.name};t(p=>[...p,f]),o({name:"",description:""}),i({title:"Role Added",description:`Role "${h.name}" has been created.`})}catch(h){console.error("Failed to create role:",h),i({title:"Error",description:"Failed to create role",variant:"destructive"})}},c=async u=>{try{await NI(String(u)),t(h=>h.filter(f=>f.id!==u)),i({title:"Role Deleted",description:"Role has been deleted successfully."})}catch(h){console.error("Failed to delete role:",h),i({title:"Error",description:"Failed to delete role",variant:"destructive"})}},d=async u=>{try{const h=await jI(Number(u.id),{name:u.name,status:!0});t(f=>f.map(p=>p.id===h.id?{...p,...h}:p)),s(null),i({title:"Role Updated",description:`Role "${h.name}" has been updated successfully.`})}catch(h){console.error("Failed to update role:",h),i({title:"Error",description:h.message||"Failed to update role",variant:"destructive"})}};return r.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[r.jsx(mt,{}),r.jsxs("div",{className:"space-y-6",style:{flex:1},children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Roles"}),r.jsx("p",{className:"text-gray-600",children:"Manage user roles and their permissions"})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Add New Role"}),r.jsx(bn,{children:"Create a new user role with specific permissions"})]}),r.jsxs(Se,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name"}),r.jsx(ae,{value:a.name,onChange:u=>o({...a,name:u.target.value}),placeholder:"Enter role name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx(ae,{value:a.description,onChange:u=>o({...a,description:u.target.value}),placeholder:"Enter role description"})]})]}),r.jsxs($,{onClick:l,className:"mt-4",children:[r.jsx(it,{className:"w-4 h-4 mr-2"}),"Add Role"]})]})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Existing Roles"}),r.jsx(bn,{children:"Manage current user roles"})]}),r.jsx(Se,{children:r.jsx("div",{className:"space-y-4",children:e.map(u=>{var h;return r.jsx("div",{className:"p-4 border rounded-lg space-y-2",children:(n==null?void 0:n.id)===u.id?r.jsxs("div",{className:"space-y-2",children:[r.jsx(ae,{value:n.name,onChange:f=>s({...n,name:f.target.value}),placeholder:"Role Name"}),r.jsx(ae,{value:n.description,onChange:f=>s({...n}),placeholder:"Role Description"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs($,{size:"sm",onClick:()=>d(n),children:[r.jsx(dc,{className:"w-4 h-4 mr-2"}),"Save"]}),r.jsxs($,{size:"sm",variant:"outline",onClick:()=>s(null),children:[r.jsx(pn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:u.name}),r.jsx("p",{className:"text-sm text-gray-600",children:u.description}),r.jsx("div",{className:"flex gap-2 mt-2",children:(h=u.permissions)==null?void 0:h.map(f=>r.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:f},f))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:()=>s({...u}),children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>c(u.id),children:r.jsx(Ht,{className:"w-4 h-4"})})]})]})},u.id)})})})]})]})]})}function u9(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(!1),[i,l]=m.useState(null),[c,d]=m.useState({cast_name:""}),[u,h]=m.useState({cast_name:""}),{toast:f}=De();m.useEffect(()=>{p()},[]),m.useEffect(()=>{console.log("Castes state updated:",e),console.log("Castes length:",e.length)},[e]);const p=async()=>{try{s(!0);const g=await Yg();Array.isArray(g)?t(g):g&&Array.isArray(g.data)?t(g.data):g&&Array.isArray(g.castes)?t(g.castes):(t([]),f({title:"Error",description:"Invalid data format received from server",variant:"destructive"}))}catch(g){t([]),f({title:"Error",description:g instanceof Error?g.message:"Failed to fetch castes",variant:"destructive"})}finally{s(!1)}},w=async()=>{if(!c.cast_name.trim()){f({title:"Error",description:"Cast name is required",variant:"destructive"});return}if(Array.isArray(e)&&e.some(g=>g.cast_name.toLowerCase()===c.cast_name.toLowerCase())){f({title:"Error",description:"A cast with this name already exists",variant:"destructive"});return}try{o(!0);const g=await _I({cast_name:c.cast_name});t(Array.isArray(e)?[...e,g]:[g]),d({cast_name:""}),f({title:"Success",description:"Cast created successfully"})}catch(g){f({title:"Error",description:g instanceof Error?g.message:"Failed to create cast",variant:"destructive"})}finally{o(!1)}},x=g=>{l(g),h({cast_name:g.cast_name})},v=async()=>{if(!i||!u.cast_name.trim()){f({title:"Error",description:"Cast name is required",variant:"destructive"});return}if(Array.isArray(e)&&e.some(g=>g.id!==i.id&&g.cast_name.toLowerCase()===u.cast_name.toLowerCase())){f({title:"Error",description:"A cast with this name already exists",variant:"destructive"});return}try{const g=await h_(i.id,{cast_name:u.cast_name});t(Array.isArray(e)?e.map(b=>b.id===i.id?g:b):[g]),l(null),h({cast_name:""}),f({title:"Success",description:"Cast updated successfully"})}catch(g){f({title:"Error",description:g instanceof Error?g.message:"Failed to update cast",variant:"destructive"})}},y=async g=>{if(confirm("Are you sure you want to delete this cast?"))try{await SI(g),t(Array.isArray(e)?e.filter(b=>b.id!==g):[]),f({title:"Success",description:"Cast deleted successfully"})}catch(b){f({title:"Error",description:b instanceof Error?b.message:"Failed to delete cast",variant:"destructive"})}};return r.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[r.jsx(mt,{}),r.jsxs("div",{className:"space-y-6",style:{flex:1},children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Caste Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage caste categories and classifications"})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Add New Caste"}),r.jsx(bn,{children:"Create a new caste category"})]}),r.jsx(Se,{children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caste Name"}),r.jsx(ae,{value:c.cast_name,onChange:g=>d({cast_name:g.target.value}),placeholder:"Enter caste name",disabled:a,onKeyDown:g=>{g.key==="Enter"&&c.cast_name.trim()&&!a&&w()}})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs($,{onClick:w,disabled:a||!c.cast_name.trim(),children:[a?r.jsx(Bl,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(it,{className:"w-4 h-4 mr-2"}),a?"Creating...":"Add Caste"]})})]})})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Be,{children:"Existing Castes"}),r.jsx(bn,{children:"Manage current caste categories"})]}),r.jsxs($,{variant:"outline",size:"sm",onClick:p,disabled:n,children:[r.jsx(Ag,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]})}),r.jsx(Se,{children:n?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Bl,{className:"w-6 h-6 animate-spin mr-2"}),r.jsx("span",{children:"Loading castes..."})]}):!Array.isArray(e)||e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No castes found. Create your first caste above."}):r.jsx("div",{className:"space-y-4",children:e.map(g=>r.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(i==null?void 0:i.id)===g.id?r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"flex-1",children:r.jsx(ae,{value:u.cast_name,onChange:b=>h({cast_name:b.target.value}),placeholder:"Cast name",onKeyDown:b=>{b.key==="Enter"&&u.cast_name.trim()?v():b.key==="Escape"&&(l(null),h({cast_name:""}))}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{size:"sm",onClick:v,children:"Save"}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>{l(null),h({cast_name:""})},children:"Cancel"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:g.cast_name}),r.jsx("div",{className:"flex gap-2 mt-2",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded ${g.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.status?"Active":"Inactive"})}),g.created_at&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(g.created_at).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:()=>x(g),children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>y(g.id),children:r.jsx(Ht,{className:"w-4 h-4"})})]})]})},g.id))})})]})]})]})}function h9(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[a,o]=m.useState(!1),[i,l]=m.useState(null),[c,d]=m.useState({religion_name:""}),[u,h]=m.useState({religion_name:""}),{toast:f}=De();m.useEffect(()=>{p()},[]),m.useEffect(()=>{console.log("Religions state updated:",e),console.log("Religions length:",e.length)},[e]);const p=async()=>{try{s(!0);const g=await Jg();console.log("Fetched religions in component:",g),console.log("Fetched religions type:",typeof g),console.log("Is array?",Array.isArray(g)),Array.isArray(g)?(console.log("Setting religions to array:",g),t(g)):g&&Array.isArray(g.data)?(console.log("Setting religions to fetchedReligions.data:",g.data),t(g.data)):g&&Array.isArray(g.religions)?(console.log("Setting religions to fetchedReligions.religions:",g.religions),t(g.religions)):(console.error("Unexpected API response format:",g),t([]),f({title:"Error",description:"Invalid data format received from server",variant:"destructive"}))}catch(g){console.error("Error fetching religions:",g),t([]),f({title:"Error",description:g instanceof Error?g.message:"Failed to fetch religions",variant:"destructive"})}finally{s(!1)}},w=async()=>{if(!c.religion_name.trim()){f({title:"Error",description:"Religion name is required",variant:"destructive"});return}if(Array.isArray(e)&&e.some(g=>g.religion_name.toLowerCase()===c.religion_name.toLowerCase())){f({title:"Error",description:"A religion with this name already exists",variant:"destructive"});return}try{o(!0);const g=await CI({religion_name:c.religion_name});t(Array.isArray(e)?[...e,g]:[g]),d({religion_name:""}),f({title:"Success",description:"Religion created successfully"})}catch(g){f({title:"Error",description:g instanceof Error?g.message:"Failed to create religion",variant:"destructive"})}finally{o(!1)}},x=g=>{l(g),h({religion_name:g.religion_name})},v=async()=>{if(!i||!u.religion_name.trim()){f({title:"Error",description:"Religion name is required",variant:"destructive"});return}if(Array.isArray(e)&&e.some(g=>g.id!==i.id&&g.religion_name.toLowerCase()===u.religion_name.toLowerCase())){f({title:"Error",description:"A religion with this name already exists",variant:"destructive"});return}try{const g=await kI(i.id.toString(),{religion_name:u.religion_name});t(Array.isArray(e)?e.map(b=>b.id===i.id?g:b):[g]),l(null),h({religion_name:""}),f({title:"Success",description:"Religion updated successfully"})}catch(g){f({title:"Error",description:g instanceof Error?g.message:"Failed to update religion",variant:"destructive"})}},y=async g=>{if(confirm("Are you sure you want to delete this religion?"))try{await EI(g.toString()),t(Array.isArray(e)?e.filter(b=>b.id!==g):[]),f({title:"Success",description:"Religion deleted successfully"})}catch(b){f({title:"Error",description:b instanceof Error?b.message:"Failed to delete religion",variant:"destructive"})}};return r.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[r.jsx(mt,{}),r.jsxs("div",{className:"space-y-6",style:{flex:1},children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Religion Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage religious categories and classifications"})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Add New Religion"}),r.jsx(bn,{children:"Create a new religious category"})]}),r.jsx(Se,{children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Religion Name"}),r.jsx(ae,{value:c.religion_name,onChange:g=>d({religion_name:g.target.value}),placeholder:"Enter religion name",disabled:a,onKeyDown:g=>{g.key==="Enter"&&c.religion_name.trim()&&!a&&w()}})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs($,{onClick:w,disabled:a||!c.religion_name.trim(),children:[a?r.jsx(Bl,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(it,{className:"w-4 h-4 mr-2"}),a?"Creating...":"Add Religion"]})})]})})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Be,{children:"Existing Religions"}),r.jsx(bn,{children:"Manage current religious categories"})]}),r.jsxs($,{variant:"outline",size:"sm",onClick:p,disabled:n,children:[r.jsx(Ag,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]})]})}),r.jsx(Se,{children:n?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(Bl,{className:"w-6 h-6 animate-spin mr-2"}),r.jsx("span",{children:"Loading religions..."})]}):!Array.isArray(e)||e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No religions found. Create your first religion above."}):r.jsx("div",{className:"space-y-4",children:e.map(g=>r.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(i==null?void 0:i.id)===g.id?r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"flex-1",children:r.jsx(ae,{value:u.religion_name,onChange:b=>h({religion_name:b.target.value}),placeholder:"Religion name",onKeyDown:b=>{b.key==="Enter"&&u.religion_name.trim()?v():b.key==="Escape"&&(l(null),h({religion_name:""}))}})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{size:"sm",onClick:v,children:"Save"}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>{l(null),h({religion_name:""})},children:"Cancel"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:g.religion_name}),r.jsx("div",{className:"flex gap-2 mt-2",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded ${g.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.status?"Active":"Inactive"})}),g.created_at&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(g.created_at).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",onClick:()=>x(g),children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>y(g.id),children:r.jsx(Ht,{className:"w-4 h-4"})})]})]})},g.id))})})]})]})]})}function f9(){const[e,t]=m.useState([{id:"1",name:"High School",level:"Secondary",description:"10th standard completion",duration:"2 years"},{id:"2",name:"Higher Secondary",level:"Higher Secondary",description:"12th standard completion",duration:"2 years"},{id:"3",name:"Bachelor's Degree",level:"Undergraduate",description:"Bachelor's degree program",duration:"3-4 years"},{id:"4",name:"Master's Degree",level:"Postgraduate",description:"Master's degree program",duration:"2 years"},{id:"5",name:"PhD",level:"Doctorate",description:"Doctoral program",duration:"3-5 years"}]),[n,s]=m.useState({name:"",level:"",description:"",duration:""}),a=()=>{if(n.name.trim()){const l={id:Date.now().toString(),name:n.name,level:n.level,description:n.description,duration:n.duration};t([...e,l]),s({name:"",level:"",description:"",duration:""})}},o=l=>{t(e.filter(c=>c.id!==l))},i=l=>{switch(l){case"Secondary":return"bg-green-100 text-green-800";case"Higher Secondary":return"bg-blue-100 text-blue-800";case"Undergraduate":return"bg-purple-100 text-purple-800";case"Postgraduate":return"bg-orange-100 text-orange-800";case"Doctorate":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[r.jsx(mt,{}),r.jsxs("div",{className:"space-y-6",style:{flex:1},children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Qualification Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage educational qualifications and levels"})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Add New Qualification"}),r.jsx(bn,{children:"Create a new educational qualification"})]}),r.jsxs(Se,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualification Name"}),r.jsx(ae,{value:n.name,onChange:l=>s({...n,name:l.target.value}),placeholder:"Enter qualification name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Level"}),r.jsx(ae,{value:n.level,onChange:l=>s({...n,level:l.target.value}),placeholder:"Secondary/Higher Secondary/etc"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),r.jsx(ae,{value:n.duration,onChange:l=>s({...n,duration:l.target.value}),placeholder:"e.g., 2 years"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx(ae,{value:n.description,onChange:l=>s({...n,description:l.target.value}),placeholder:"Enter description"})]})]}),r.jsxs($,{onClick:a,className:"mt-4",children:[r.jsx(it,{className:"w-4 h-4 mr-2"}),"Add Qualification"]})]})]}),r.jsxs(_e,{children:[r.jsxs(Oe,{children:[r.jsx(Be,{children:"Existing Qualifications"}),r.jsx(bn,{children:"Manage current educational qualifications"})]}),r.jsx(Se,{children:r.jsx("div",{className:"space-y-4",children:e.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:l.name}),r.jsx("p",{className:"text-sm text-gray-600",children:l.description}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded ${i(l.level)}`,children:l.level}),r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:l.duration})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{variant:"outline",size:"sm",children:r.jsx(hs,{className:"w-4 h-4"})}),r.jsx($,{variant:"outline",size:"sm",onClick:()=>o(l.id),children:r.jsx(Ht,{className:"w-4 h-4"})})]})]},l.id))})})]})]})]})}const m9=()=>{const e=Rt(),[t,n]=m.useState("English"),s=()=>{localStorage.setItem("selectedLanguage",t),e("/students/instructions")},a=()=>{localStorage.removeItem("googleUser"),localStorage.removeItem("userInfo"),localStorage.removeItem("roleAccess"),localStorage.removeItem("privileges"),e("/auth")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-orange-500 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"NavGurukul Entrance Test"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Select Your Language"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block text-left text-gray-700 font-medium mb-2",children:"Choose your language"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:t,onChange:o=>n(o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"English",children:"English"}),r.jsx("option",{value:"Hindi",children:""}),r.jsx("option",{value:"Marathi",children:""}),r.jsx("option",{value:"Gujarati",children:""})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsx("button",{onClick:s,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg transition duration-200",children:"LET'S GO AHEAD"}),r.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsxs("button",{onClick:a,className:"text-gray-600 hover:text-gray-800 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"BACK"]}),r.jsxs("button",{onClick:s,className:"text-orange-500 hover:text-orange-600 flex items-center",children:["NEXT",r.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},p9=()=>{const e=Rt(),t=localStorage.getItem("selectedLanguage")||"english",s=(()=>{switch(t){case"hindi":return{title:"NavGurukul Entrance Test",instructionsIntro:"                ",instructions:["  1          ,           ","                    ","           ","         ,         "],imReady:"  ",back:"",next:""};case"marathi":return{title:"NavGurukul Entrance Test",instructionsIntro:"       .      ",instructions:["  1  .     ,        .","       .      .","       .","      ,           ."],imReady:"  ",back:"",next:""};default:return{title:"NavGurukul Entrance Test",instructionsIntro:"Please read the following important instructions before starting the test. These instruction will come in handy while giving the test.",instructions:["The complete test will be of 1 hour. Please give the test in a quiet place, where you can answer the questions without any disruptions.","While giving the test, keep a notebook and a pen with you. You can use any rough notebook.","While giving the test, answer each question on your phone itself.","You may get the chance of cheating exam, but we believe that you will not cheat."],imReady:"I'M READY",back:"BACK",next:"NEXT"}}})(),a=()=>{localStorage.setItem("instructionsAccepted","true"),e("/students/registration")},o=()=>{e("/students")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 text-center mb-4",children:s.title}),r.jsx("p",{className:"text-gray-600 text-center mb-8",children:s.instructionsIntro}),r.jsx("div",{className:"space-y-4 mb-8",children:s.instructions.map((i,l)=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("span",{className:"bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:l+1}),r.jsx("p",{className:"text-gray-700",children:i})]},l))}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:a,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition duration-200",children:s.imReady})}),r.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsxs("button",{onClick:o,className:"text-gray-600 hover:text-gray-800 flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),s.back]}),r.jsxs("button",{onClick:a,className:"text-orange-500 hover:text-orange-600 flex items-center",children:[s.next,r.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})},hE=m.createContext(void 0),_h=()=>{const e=m.useContext(hE);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},g9=({children:e})=>{const[t,n]=m.useState("english");return r.jsx(hE.Provider,{value:{selectedLanguage:t,setSelectedLanguage:n},children:e})},x9=()=>{const e=Rt();De();const{selectedLanguage:t}=_h(),[n,s]=m.useState([]),[a,o]=m.useState([]),[i,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState({profileImage:null,firstName:"",middleName:"",lastName:"",dateOfBirth:"",whatsappNumber:"",alternateNumber:"",email:"",gender:"",state:"",district:"",city:"",pinCode:"",currentStatus:"",maximumQualification:"",schoolMedium:"",casteTribe:"",religion:""}),[f,p]=m.useState(null),w=E=>({image_url:E.profileImage||null,first_name:E.firstName,middle_name:E.middleName,last_name:E.lastName,dob:E.dateOfBirth,whatsapp_number:E.whatsappNumber,phone_number:E.alternateNumber,email:E.email,gender:E.gender,state:E.state,district:E.district,city:E.city,pin_code:E.pinCode,school_medium:E.schoolMedium,current_status_id:Number(E.currentStatus)||null,qualification_id:Number(E.maximumQualification)||null,cast_id:Number(E.casteTribe)||null,religion_id:Number(E.religion)||null});m.useEffect(()=>{const E=localStorage.getItem("studentFormData");E&&h(JSON.parse(E)),(async()=>{try{const O=await Yg();s(O)}catch(O){console.error("Error fetching casts:",O)}})(),(async()=>{try{const O=await f_();o(O)}catch(O){console.error("Error fetching qualifications:",O)}})(),(async()=>{try{const O=await TI();l(O)}catch(O){console.error("Error fetching current statuses:",O)}})(),(async()=>{try{const O=await Jg();d(O)}catch(O){console.error("Error fetching religions:",O)}})()},[]);const x=E=>{const{name:_,value:N}=E.target;console.log(_,N);const S={...u,[_]:N};h(S),localStorage.setItem("studentFormData",JSON.stringify(S))},v=E=>{var N;const _=(N=E.target.files)==null?void 0:N[0];if(_){const S={...u,profileImage:_};h(S);const C=new FileReader;C.onloadend=()=>{p(C.result)},C.readAsDataURL(_)}},y=()=>u.firstName&&u.dateOfBirth&&u.whatsappNumber&&u.gender&&u.state&&u.district&&u.city&&u.pinCode&&u.currentStatus&&u.maximumQualification&&u.schoolMedium&&u.casteTribe&&u.religion,g=async()=>{if(!y()){alert("Please fill all required fields");return}try{const E=w(u);console.log("API Payload:",E);const _=await m_(E);console.log("Create Student Response:",_),localStorage.setItem("studentFormData",JSON.stringify(u)),e("/students/test-start")}catch(E){console.error("Error creating student:",E),alert(E.message||"Failed to create student")}},b=()=>{e("/students/instructions")},k=(()=>{switch(t){case"hindi":return{signUp:"  ",addPhoto:" ",basicDetails:" ",contactInfo:" ",firstName:"  *",middleName:" ",lastName:"  ",dateOfBirth:"  *",gender:" *",male:"",female:"",whatsappNumber:"  *",alternateNumber:" ",email:"  ",state:"  *",district:"  *",city:" *",pinCode:"  *",currentStatus:"  *",maximumQualification:"  *",schoolMedium:"  *",casteTribe:"/ *",religion:" *",back:"",saveContinue:"   ",selectState:" ",selectDistrict:" ",selectOption:" ",selectQualification:" ",selectMedium:" ",selectReligion:" ",enterFirstName:"   ",enterMiddleName:"   ",enterLastName:"   ",enterWhatsapp:"   ",enterAlternate:"   ",enterEmail:"   ",cityExample:". ",pinCodeExample:". 400001"};case"marathi":return{signUp:"  ",addPhoto:" ",basicDetails:" ",contactInfo:" ",firstName:"  *",middleName:" ",lastName:" ",dateOfBirth:"  *",gender:" *",male:"",female:"",whatsappNumber:"  *",alternateNumber:" ",email:"  ",state:"  *",district:"  *",city:" *",pinCode:"  *",currentStatus:"  *",maximumQualification:"  *",schoolMedium:"  *",casteTribe:"/ *",religion:" *",back:"",saveContinue:"    ",selectState:" ",selectDistrict:" ",selectOption:" ",selectQualification:" ",selectMedium:" ",selectReligion:" ",enterFirstName:"   ",enterMiddleName:"   ",enterLastName:"  ",enterWhatsapp:"   ",enterAlternate:"   ",enterEmail:"   ",cityExample:". ",pinCodeExample:". 411001"};default:return{signUp:"Sign Up",addPhoto:"Add Photo",basicDetails:"Basic Details",contactInfo:"Contact Information",firstName:"First Name *",middleName:"Middle Name",lastName:"Last Name",dateOfBirth:"Date of Birth *",gender:"Gender *",male:"Male",female:"Female",whatsappNumber:"WhatsApp Number *",alternateNumber:"Alternate Number",email:"Email Address",state:"Select State *",district:"Select District *",city:"City *",pinCode:"Pin Code *",currentStatus:"Current Status *",maximumQualification:"Maximum Qualification *",schoolMedium:"School Medium *",casteTribe:"Caste/Tribe *",religion:"Religion *",back:"Back",saveContinue:"Save & Continue",selectState:"Select State",enterDistrict:"Select District",selectOption:"Select Option",selectQualification:"Select Qualification",selectMedium:"Select Medium",selectReligion:"Select Religion",enterFirstName:"Enter first name",enterMiddleName:"Enter middle name",enterLastName:"Enter last name",enterWhatsapp:"Enter WhatsApp number",enterAlternate:"Enter alternate number",enterEmail:"Enter email address",cityExample:"Ex. Bangalore",pinCodeExample:"Ex. 4402xx"}}})();return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 ",children:k.signUp})}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"w-24 h-24 mx-auto border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center bg-gray-50 relative cursor-pointer hover:border-orange-400 transition-colors",children:[f?r.jsx("img",{src:f,alt:"Profile",className:"w-full h-full object-cover rounded-xl"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center mb-1",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("span",{className:"text-xs text-gray-500",children:k.addPhoto})]}),r.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:k.basicDetails}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.firstName}),r.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterFirstName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.middleName}),r.jsx("input",{type:"text",name:"middleName",value:u.middleName,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterMiddleName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.lastName}),r.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterLastName})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.dateOfBirth}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"dateOfBirth",value:u.dateOfBirth,onChange:x,className:"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),r.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.gender}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"gender",value:"male",checked:u.gender==="male",onChange:x,className:"text-orange-500 focus:ring-orange-500"}),r.jsx("span",{className:"text-sm",children:k.male})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"gender",value:"female",checked:u.gender==="female",onChange:x,className:"text-orange-500 focus:ring-orange-500"}),r.jsx("span",{className:"text-sm",children:k.female})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:k.contactInfo}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.whatsappNumber}),r.jsx("input",{type:"tel",name:"whatsappNumber",maxLength:10,pattern:"[0-9]{10}",value:u.whatsappNumber,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterWhatsapp})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.alternateNumber}),r.jsx("input",{type:"tel",name:"alternateNumber",maxLength:10,pattern:"[0-9]{10}",value:u.alternateNumber,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterAlternate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.email}),r.jsx("input",{type:"email",name:"email",value:u.email,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterEmail})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.state}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"state",value:u.state,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectState}),r.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),r.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),r.jsx("option",{value:"Assam",children:"Assam"}),r.jsx("option",{value:"Bihar",children:"Bihar"}),r.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),r.jsx("option",{value:"Goa",children:"Goa"}),r.jsx("option",{value:"Gujarat",children:"Gujarat"}),r.jsx("option",{value:"Haryana",children:"Haryana"}),r.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),r.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),r.jsx("option",{value:"Karnataka",children:"Karnataka"}),r.jsx("option",{value:"Kerala",children:"Kerala"}),r.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),r.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),r.jsx("option",{value:"Manipur",children:"Manipur"}),r.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),r.jsx("option",{value:"Mizoram",children:"Mizoram"}),r.jsx("option",{value:"Nagaland",children:"Nagaland"}),r.jsx("option",{value:"Odisha",children:"Odisha"}),r.jsx("option",{value:"Punjab",children:"Punjab"}),r.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),r.jsx("option",{value:"Sikkim",children:"Sikkim"}),r.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),r.jsx("option",{value:"Telangana",children:"Telangana"}),r.jsx("option",{value:"Tripura",children:"Tripura"}),r.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),r.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),r.jsx("option",{value:"West Bengal",children:"West Bengal"}),r.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),r.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),r.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),r.jsx("option",{value:"Delhi",children:"Delhi"}),r.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),r.jsx("option",{value:"Ladakh",children:"Ladakh"}),r.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),r.jsx("option",{value:"Puducherry",children:"Puducherry"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.district}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",name:"district",value:u.district,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:k.enterDistrict})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.city}),r.jsx("input",{type:"text",name:"city",value:u.city,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter city"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.cityExample})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.pinCode}),r.jsx("input",{type:"text",name:"pinCode",value:u.pinCode,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter pin code"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.pinCodeExample})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.currentStatus}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"currentStatus",value:u.currentStatus,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectOption}),i.map(E=>r.jsx("option",{value:E.id,children:E.current_status_name},E.id))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.maximumQualification}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"maximumQualification",value:u.maximumQualification,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectQualification}),a.map(E=>r.jsx("option",{value:E.id,children:E.qualification_name},E.id))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.schoolMedium}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"schoolMedium",value:u.schoolMedium,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectMedium}),r.jsx("option",{value:"English",children:"English"}),r.jsx("option",{value:"Hindi",children:"Hindi"}),r.jsx("option",{value:"Marathi",children:"Marathi"}),r.jsx("option",{value:"Other",children:"Other"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.casteTribe}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"casteTribe",value:u.casteTribe,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectOption}),n.map(E=>r.jsx("option",{value:E.id,children:E.cast_name},E.id))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.religion}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"religion",value:u.religion,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg appearance-none bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:k.selectReligion}),c.map(E=>r.jsx("option",{value:E.id,children:E.religion_name},E.id))]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{onClick:b,className:"px-6 py-2 bg-gray-300 text-gray-500 rounded-lg hover:bg-gray-600 transition duration-200",children:k.back}),r.jsx("button",{onClick:g,disabled:!y(),className:`px-6 py-2 rounded-lg transition duration-200 ${y()?"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:k.saveContinue})]}),r.jsxs("div",{className:"flex justify-center space-x-2 mt-6",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})]})]})})},fE=m.createContext(void 0),v9=({children:e})=>{const[t,n]=m.useState([{id:1,name:"Screening Test",status:"Pass",score:85,action:"Compeleted",slotBooking:{status:null,scheduledTime:""}},{id:2,name:"Screening Test",status:"Fail",score:null,action:"",slotBooking:{status:null,scheduledTime:""}},{id:3,name:"Technical Interview",status:"Pending",score:null,action:"slot-book",slotBooking:{status:"Pending"}},{id:4,name:"Culture fit Interview",status:"Pending",action:"slot-book",score:null,slotBooking:{status:"Compeleted"}}]),s=(a,o)=>n(i=>i.map(l=>l.id===a?{...l,slotBooking:{...l.slotBooking,...o}}:l));return r.jsx(fE.Provider,{value:{tests:t,setTests:n,updateSlot:s},children:e})},Hx=()=>{const e=m.useContext(fE);if(!e)throw new Error("useTests must be used inside TestsProvider");return e},mE=m.createContext(void 0),y9=({children:e})=>{const[t,n]=m.useState();return m.useEffect(()=>{const s=localStorage.getItem("studentFormData");if(s)try{const a=JSON.parse(s);n(a)}catch{n(null)}},[]),console.log(t),r.jsx(mE.Provider,{value:{student:t,setStudent:n},children:e})},Qx=()=>{const e=m.useContext(mE);if(!e)throw new Error("useStudent must be used inside StudentProvider");return e},w9=()=>{const{student:e}=Qx(),{tests:t,updateSlot:n}=Hx(),{id:s}=_g(),a=Number(s),o=t.find(I=>I.id===a),i=[{id:1,from:"9:00",to:"10:00"},{id:2,from:"10:00",to:"11:00"},{id:3,from:"11:00",to:"12:00"},{id:4,from:"12:00",to:"13:00"},{id:5,from:"13:00",to:"14:00"},{id:6,from:"14:00",to:"15:00"}],[l,c]=m.useState(!0),[d,u]=m.useState({from:"",to:"",id:null,is_cancelled:!0}),[h,f]=m.useState(new Date),[p,w]=m.useState(i),[x,v]=m.useState(!1),[y,g]=m.useState(""),[b,j]=m.useState("success"),k=Rt(),E=I=>I.toISOString().split("T")[0],_=I=>{const[z,B]=I.split(":"),D=new Date;return D.setHours(parseInt(z),parseInt(B)),D.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},N=I=>I.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),S=(I,z)=>{g(I),j(z),v(!0),setTimeout(()=>v(!1),5e3)},C=async()=>{if(!(!d.id||!e||!o))try{await new Promise(z=>setTimeout(z,1e3));const I={...d,is_cancelled:!1,on_date:E(h),start_time:d.from,end_time_expected:d.to,student_name:`${e.firstName} ${e.lastName}`,topic_name:o.name};u(I),localStorage.setItem(`bookedSlot_${a}`,JSON.stringify(I)),n(a,{status:"Booked",scheduledTime:`${I.on_date} ${I.start_time}`}),S("Slot Booked & Meet Scheduled Successfully!","success")}catch{S("Failed to book slot. Please try again.","error")}},O=async()=>{if(o)try{await new Promise(I=>setTimeout(I,500)),u({from:"",to:"",id:null,is_cancelled:!0}),localStorage.removeItem(`bookedSlot_${a}`),n(a,{status:"Pending",scheduledTime:""}),S("Slot Cancelled & Meet Removed","info")}catch{S("Error cancelling slot","error")}},R=()=>k("/students/result"),P=()=>{const I=localStorage.getItem(`bookedSlot_${a}`);if(I)try{u(JSON.parse(I))}catch{u({from:"",to:"",id:null,is_cancelled:!0})}else u({from:"",to:"",id:null,is_cancelled:!0})};return m.useEffect(()=>((async()=>{try{P(),w(i)}catch{S("Failed to load data","error")}finally{c(!1)}})(),window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)),[a]),l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(Bl,{className:"w-12 h-12 text-orange-600 animate-spin"})}):!e||!o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[r.jsx(Xd,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Cannot Book Slot"}),r.jsx("p",{className:"text-gray-600",children:"Student or test data not found."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-orange-500 to-red-500 py-8 px-4",children:[x&&r.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 ${b==="success"?"bg-green-500":b==="error"?"bg-red-500":"bg-orange-500"} text-white`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[b==="success"&&r.jsx(fi,{className:"w-5 h-5"}),b==="error"&&r.jsx(Xd,{className:"w-5 h-5"}),b==="info"&&r.jsx(mr,{className:"w-5 h-5"}),r.jsx("span",{children:y})]})}),r.jsx("div",{className:"max-w-4xl mx-auto",children:d.is_cancelled?r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"bg-orange-400 px-8 py-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Book Interview Slot"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-lg",children:["Book Interview Slot for ",e.firstName," ",e.lastName]})]})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(mr,{className:"w-6 h-6 mr-2 text-orange-600"}),"Select Date"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"date",value:E(h),onChange:I=>f(new Date(I.target.value)),min:E(new Date),max:E(new Date(Date.now()+15*24*60*60*1e3)),className:"w-full p-3 border border-gray-300 rounded-lg"}),r.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Selected Date:"}),r.jsx("p",{className:"text-lg font-semibold text-orange-600",children:N(h)})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Or,{className:"w-6 h-6 mr-2 text-orange-600"}),"Available Time Slots"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(({id:I,from:z,to:B})=>r.jsxs("button",{onClick:()=>u({id:I,from:z,to:B,is_cancelled:!0}),className:`p-4 rounded-lg border-2 transition-all ${d.id===I?"border-orange-500 bg-orange-50":"border-gray-200 bg-white"}`,children:[_(z)," - ",_(B)]},I))})]}),r.jsx("button",{onClick:C,disabled:!d.id,className:`w-full py-4 px-6 rounded-lg font-semibold text-lg transition-all ${d.id?"bg-gradient-to-r from-orange-600 to-orange-400 text-white":"bg-gray-300 text-gray-500"}`,children:d.id?"Book Selected Slot":"Select a Time Slot"})]})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-orange-400 px-8 py-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[r.jsx(fi,{className:"w-8 h-8"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Interview Slot Booked"})]})}),r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Slot Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Student Name"}),r.jsx("p",{className:"text-lg font-semibold",children:d.student_name}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Topic"}),r.jsx("p",{className:"text-lg font-semibold",children:d.topic_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),r.jsx("p",{className:"text-lg font-semibold",children:d.on_date&&N(new Date(d.on_date))}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Time"}),r.jsx("p",{className:"text-lg font-semibold",children:d.start_time&&d.end_time_expected&&`${_(d.start_time)} - ${_(d.end_time_expected)}`})]})]}),r.jsx("button",{onClick:O,className:"w-full md:w-auto py-3 px-8 m-2 bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold rounded-lg",children:"Reschedule Slot"}),r.jsx("button",{onClick:R,className:"w-full md:w-auto py-3 px-8 m-2 bg-gradient-to-r from-green-400 to-green-500 text-white font-semibold rounded-lg",children:"Result Section"})]})]})})]})},b9=()=>{const{student:e,setStudent:t}=Qx();m.useEffect(()=>{const s=setTimeout(()=>{n()},3e3);return()=>clearTimeout(s)},[]);const n=()=>{const s=`Hello! I am ${e==null?void 0:e.firstName}. I have successfully completed the test and booked my interview slot. My phone number is ${e} and email is ${e==null?void 0:e.email}.`,a=`https://wa.me/YOUR_WHATSAPP_NUMBER?text=${encodeURIComponent(s)}`;window.open(a,"_blank")};return r.jsx("div",{className:"whatsapp-redirect",children:r.jsxs("div",{className:"success-message",children:[r.jsx("h2",{children:" Slot Booked Successfully!"}),r.jsxs("p",{children:["Thank you ",e==null?void 0:e.firstName,"! Your interview slot has been confirmed."]}),r.jsx("p",{children:"You will be redirected to WhatsApp to connect with our team."}),r.jsxs("div",{className:"redirect-info",children:[r.jsx("p",{children:"Redirecting in 3 seconds..."}),r.jsx("button",{className:"whatsapp-btn primary-btn",onClick:n,children:"Connect on WhatsApp Now"})]}),r.jsxs("div",{className:"contact-details",children:[r.jsx("h3",{children:"Your Details:"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",e==null?void 0:e.firstName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",e==null?void 0:e.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",e==null?void 0:e.whatsappNumber]})]})]})})};console.log("LanguageContext:",_h);const Wr=[{id:1,image:"https://img.youtube.com/vi/NC2ymm6Sots/maxresdefault.jpg",videoUrl:"https://youtu.be/NC2ymm6Sots",englishCaption:"Interview of Abhishek, Co-founder of Navgurukul",hindiCaption:",   -  ",marathiCaption:",  -  "},{id:2,image:"https://img.youtube.com/vi/vuSwndj5cbs/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?time_continue=1&v=vuSwndj5cbs&embeds_referring_euri=https%3A%2F%2Fdev-admissions.navgurukul.org%2F&embeds_referring_origin=https%3A%2F%2Fdev-admissions.navgurukul.org&source_ve_path=Mjg2NjQsMjg2NjY",englishCaption:"Experience of Navgurukul Alumni & Graduates",hindiCaption:"       ",marathiCaption:"   "},{id:3,image:"https://img.youtube.com/vi/sfU1m8MuZ5Y/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=HjqfZ-Matyk&ab_channel=NavGurukul",englishCaption:"Detailed explanation about Navgurukul",hindiCaption:"     ",marathiCaption:"  "},{id:4,image:"https://img.youtube.com/vi/HjqfZ-Matyk/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=HjqfZ-Matyk&ab_channel=NavGurukul",englishCaption:"2 mins introduction to NavGurukul",hindiCaption:"  2   ",marathiCaption:" 2  "}],Vr={english:{heading:"Software Engineering Scholarship",title:"Navgurukul",subtitle:"Welcome to",description:"Learn coding, problem-solving, and critical thinking in a thriving community of learners. Take the scholarship test today and begin your journey towards becoming a software engineer.",buttonText:"Get Started",footerText:"For more queries, email at",footerContact:"hi@navgurukul.org",imageUrl:"https://admissions.navgurukul.org/assets/logo.71054d69.png"},hindi:{heading:"  ",title:"",subtitle:"   ",description:"     , -,                  ",buttonText:" ",footerText:"     :",footerContact:"hi@navgurukul.org",imageUrl:"https://admissions.navgurukul.org/assets/logo.71054d69.png"},marathi:{heading:"  ",title:"",subtitle:"   ",description:",  ,         .            .",buttonText:" ",footerText:" ,  :",footerContact:"hi@navgurukul.org",imageUrl:"https://admissions.navgurukul.org/assets/logo.71054d69.png"}},j9=()=>{const[e,t]=m.useState(0),{selectedLanguage:n,setSelectedLanguage:s}=_h(),a=Rt(),o=()=>t(i=>(i+1)%Wr.length);return m.useEffect(()=>{const i=setInterval(o,5e3);return()=>clearInterval(i)},[]),m.useEffect(()=>{const i=localStorage.getItem("selectedLanguage");i&&s(i)},[s]),m.useEffect(()=>{n&&localStorage.setItem("selectedLanguage",n)},[n]),r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsxs("header",{className:"flex justify-between items-center px-6 py-4 shadow",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("img",{src:Vr[n].imageUrl,alt:"NavGurukul Logo",className:"h-10"})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("select",{value:n,onChange:i=>s(i.target.value),className:"border rounded px-3 py-1 text-gray-700",children:[r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"marathi",children:"Marathi"}),r.jsx("option",{value:"hindi",children:"Hindi"})]})})]}),r.jsxs("main",{className:"flex flex-col items-center flex-1 px-6 py-12",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mb-8 text-center",children:Vr[n].heading}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start md:space-x-12 w-full max-w-6xl",children:[r.jsx("div",{className:"flex justify-center px-8 md:px-10",children:r.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg shadow-2xl",children:[r.jsx("a",{href:Wr[e].videoUrl,target:"_blank",rel:"noreferrer",children:r.jsx("img",{src:Wr[e].image,alt:n==="english"?Wr[e].englishCaption:n==="hindi"?Wr[e].hindiCaption:Wr[e].marathiCaption,className:"w-full h-60 object-cover"})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0  bg-opacity-50 text-white text-center py-3 text-base",children:n==="english"?Wr[e].englishCaption:n==="hindi"?Wr[e].hindiCaption:Wr[e].marathiCaption})]})}),r.jsxs("div",{className:"mt-10 md:mt-0 md:ml-10 flex flex-col justify-center text-center bg-white p-6",children:[r.jsxs("h1",{className:"text-3xl md:text-3xl font-bold text-gray-900 mb-6 leading-tight",children:[Vr[n].subtitle," ",r.jsx("span",{className:"text-orange-500",children:Vr[n].title})]}),r.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:Vr[n].description}),r.jsx("div",{children:r.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg shadow-md",onClick:()=>a("/students/login"),children:Vr[n].buttonText})})]})]})]}),r.jsxs("footer",{className:"bg-gray-100 text-center text-sm py-4",children:[Vr[n].footerText," ",r.jsx("a",{href:`mailto:${Vr[n].footerContact}`,className:"text-blue-600",children:Vr[n].footerContact})]})]})},N9=async()=>1800,_9=async()=>(await new Promise(e=>setTimeout(e,500)),[{id:1,question:"What is 2 + 2?",options:["1","2","3","4"],answer:"4"},{id:2,question:"What is the capital of France?",options:["London","Berlin","Paris","Rome"],answer:"Paris"},{id:3,question:"Which is a JavaScript framework?",options:["React","Django","Laravel","Spring"],answer:"React"}]),S9=()=>{const e=Rt(),{selectedLanguage:t}=_h(),[n,s]=m.useState(null),[a,o]=m.useState(null),[i,l]=m.useState([]),[c,d]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const x=await _9(),v=await N9();l(x||[]),s((x==null?void 0:x.length)||0),o(v)}catch(x){console.error("Error fetching exam data:",x)}finally{d(!1)}})()},[]);const u=w=>{const x=Math.floor(w/60),v=w%60;return`${x>0?`${x} Hour${x>1?"s":""}`:""} ${v>0?`${v} Minute${v>1?"s":""}`:""}`},f=(()=>{const w=a?u(a):"...",x=n??"...";switch(t){case"hindi":return{heading:"  :",description1:",            ",description2:"     ",description3:` ${w}  ${x}     `,buttonText:"  "};case"marathi":return{heading:"  :",description1:",      .    .",description2:"   ",description3:` ${w}  ${x}    `,buttonText:"  "};default:return{heading:"One More Thing:",description1:"You will be asked some questions in the test. Answer carefully.",description2:"But also keep an eye on time.",description3:`You have to answer ${x} questions in ${w}.`,buttonText:"START TEST"}}})(),p=()=>{!i.length||!a||e("/students/test-section",{state:{questions:i,duration:a}})};return c?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-400 to-red-500",children:r.jsx("p",{className:"text-white text-lg",children:"Loading test details..."})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full flex flex-col items-center justify-center",children:[r.jsx("h1",{className:"text-2xl font-semibold mb-4",children:f.heading}),r.jsx("p",{className:"text-gray-600 mb-2",children:f.description1}),r.jsx("p",{className:"text-gray-800 font-medium mb-2",children:f.description2}),r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:f.description3}),r.jsx("button",{onClick:p,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition duration-200 shadow-lg",children:f.buttonText})]})})},jo="student_test_progress",C9=e=>{const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`},k9=()=>{const e=Rt(),t=yr(),{questions:n,duration:s}=t.state||{},[a,o]=m.useState(n||[]),[i,l]=m.useState(0),[c,d]=m.useState({}),[u,h]=m.useState(s||null);m.useEffect(()=>{if(!n||!s)return;const w=localStorage.getItem(jo);if(w){const{answers:x,currentIndex:v,examStartTime:y,duration:g}=JSON.parse(w),b=Math.floor((Date.now()-y)/1e3),j=g-b;j>0?(d(x||{}),l(v||0),h(j)):localStorage.removeItem(jo)}else localStorage.setItem(jo,JSON.stringify({answers:{},currentIndex:0,examStartTime:Date.now(),duration:s}))},[n,s]),m.useEffect(()=>{if(u===null)return;if(u<=0){p();return}const w=setInterval(()=>h(x=>x!==null?x-1:0),1e3);return()=>clearInterval(w)},[u]),m.useEffect(()=>{if(u===null)return;const w=localStorage.getItem(jo);if(w){const x=JSON.parse(w);localStorage.setItem(jo,JSON.stringify({...x,answers:c,currentIndex:i}))}},[c,i,u]);const f=w=>{const x=a[i].id;d({...c,[x]:w})},p=()=>{if(!window.confirm("Are you sure you want to submit the test?"))return;let w=0;a.forEach(x=>{c[x.id]===x.answer&&(w+=1)}),localStorage.removeItem(jo),e("/students/test-result",{state:{score:w,total:a.length}})};return u===null||a.length===0?r.jsx("div",{className:"text-center mt-10 text-lg font-semibold",children:"Loading test..."}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-3xl flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"font-bold text-xl",children:["Question ",i+1," / ",a.length]}),r.jsxs("div",{className:"bg-red-100 text-red-600 font-bold px-4 py-2 rounded-lg shadow",children:[" ",C9(u)]})]}),r.jsx("div",{className:"border border-gray-300 rounded-xl p-6 mb-6 bg-gray-50 shadow-inner",children:r.jsx("p",{className:"text-lg font-medium text-gray-800 leading-relaxed",children:a[i].question})}),r.jsx("div",{className:"space-y-3",children:a[i].options.map((w,x)=>{const v=a[i].id;return r.jsxs("label",{className:`block border rounded-lg px-4 py-3 cursor-pointer transition ${c[v]===w?"bg-blue-100 border-blue-500":"hover:bg-gray-100 border-gray-300"}`,children:[r.jsx("input",{type:"radio",name:`q-${v}`,checked:c[v]===w,onChange:()=>f(w),className:"hidden"}),w]},x)})}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx("button",{disabled:i===0,onClick:()=>l(w=>w-1),className:"px-6 py-2 bg-gray-300 rounded-lg font-medium disabled:opacity-50",children:"Previous"}),i===a.length-1?r.jsx("button",{onClick:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium shadow hover:bg-green-700",children:"Submit"}):r.jsx("button",{onClick:()=>l(w=>w+1),className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-medium shadow hover:bg-orange-600",children:"Next"})]})]})})},E9=()=>{const{tests:e,setTests:t}=Hx(),n=Rt(),s=yr(),{score:a=0,total:o=0}=s.state||{},i=a>=Math.ceil(o*.5)?"pass":"fail";e.find(c=>c.name==="Screening Test");const l=()=>{t(c=>c.map(d=>d.name==="Screening Test"?{...d,status:i==="pass"?"Pass":"Fail",score:a}:d)),n("/students/result")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-10 max-w-2xl w-full flex flex-col items-center text-center",children:i==="pass"?r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Congratulations!"}),r.jsxs("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800 mb-6",children:["You passed the test with a score of"," ",r.jsx("span",{className:"text-orange-500",children:a})," /"," ",r.jsx("span",{className:"text-orange-500",children:o})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:"Thank you for applying to NavGurukul Program."}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Our admission team will contact you for the next steps."}),r.jsxs("p",{className:"text-gray-700 mb-4",children:["You can send us a mail on ",r.jsx("a",{href:"mailto:hi@navgurukul.org",className:"text-blue-500",children:"hi@navgurukul.org"}),"."]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-6 w-full justify-center",children:[r.jsx("a",{href:"https://navgurukul.org",target:"_blank",rel:"noopener noreferrer",className:"bg-orange-50 border border-orange-500 text-orange-600 font-semibold py-3 px-6 rounded-lg hover:bg-orange-100 transition",children:"VISIT NAVGURUKUL"}),r.jsx("a",{href:"https://www.merakilearn.org/",target:"_blank",rel:"noopener noreferrer",className:"bg-orange-50 border border-orange-500 text-orange-600 font-semibold py-3 px-6 rounded-lg hover:bg-orange-100 transition",children:"START CODING NOW"})]}),r.jsx("button",{onClick:()=>l(),className:"mt-6 bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition duration-200",children:"Go to Result Section"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-6",children:"Oh Sorry!"}),r.jsxs("p",{className:"text-gray-700 mb-4 text-lg",children:["You could not clear the NavGurukul Preliminary Test this time. You have scored"," ",r.jsx("span",{className:"font-bold",children:a})," marks in the test. Dont worry, you can give the test again after some preparation."]}),r.jsxs("p",{className:"text-gray-700 mb-6",children:["You can use this study guide for more maths practice"," ",r.jsx("a",{href:"https://www.khanacademy.org/math",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium underline hover:text-blue-800",children:"Click Here"}),". Prepare, Practice and Pass"]}),r.jsx("button",{onClick:()=>l(),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition duration-200",children:"OK"})]})})})};function P9(){const{student:e,setStudent:t}=Qx(),{tests:n}=Hx(),s=Rt(),a=i=>{s(`/students/slot-booking/${i}`)},o=()=>{s("/students/test-start")};return e?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 p-4 flex",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full h-[95vh] overflow-y-auto",children:[r.jsxs("header",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Student Results"}),r.jsx("p",{className:"text-gray-600",children:"Track your test results and interview slot booking status."})]}),r.jsxs(_e,{className:"mb-6",children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Student Details"})}),r.jsxs(Se,{className:"grid sm:grid-cols-2 gap-4",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Name:"})," ",e.firstName," ",e.middleName," ",e.lastName]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Email:"})," ",e.email]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Phone Number:"})," ",e.whatsappNumber]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"City:"})," ",e.city]})]})]}),r.jsxs(_e,{children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Test Results & Slot Booking"})}),r.jsx(Se,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-gray-200 text-left rounded-lg",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 border",children:"Stage"}),r.jsx("th",{className:"px-4 py-2 border",children:"Status"}),r.jsx("th",{className:"px-4 py-2 border",children:"Scheduled Time"}),r.jsx("th",{className:"px-4 py-2 border",children:"Actions"}),r.jsx("th",{className:"px-4 py-2 border",children:"Marks"})]})}),r.jsx("tbody",{children:n.map(i=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 border",children:i.name}),r.jsx("td",{className:"px-4 py-2 border",children:r.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${i.status==="Pass"?"bg-green-100 text-green-700":i.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:i.status})}),r.jsx("td",{className:"px-4 py-2 border",children:i.slotBooking.scheduledTime?new Date(i.slotBooking.scheduledTime).toLocaleString():"-"}),r.jsxs("td",{className:"px-4 py-2 border",children:[i.name==="Screening Test"&&i.status==="Fail"&&r.jsx($,{onClick:()=>o(),children:"Reset"}),(i.slotBooking.status==="Pending"||i.slotBooking.status==="Booked"||i.slotBooking.status==="Cancelled")&&r.jsx($,{onClick:()=>a(i.id),children:i.slotBooking.status==="Booked"||i.slotBooking.status==="Cancelled"?"Reschedule":"Book Slot"}),i.action==="view-result"&&r.jsx("span",{className:"text-gray-600",children:"Result Ready"})]}),r.jsx("td",{className:"px-4 py-2 border",children:i.score})]},i.id))})]})})})]})]})}):r.jsx("p",{children:"Loading student data"})}function T9(){const e=Rt(),{toast:t}=De(),[n,s]=m.useState({name:"",lastname:"",phone:""}),[a,o]=m.useState(!1),i=u=>{s({...n,[u.target.name]:u.target.value})},l={english:{title:"Student Login",description:"Sign in with your name and phone number to continue",namePlaceholder:"Enter your name",lastnamePlaceholder:"Enter your last name",phonePlaceholder:"Enter your phone number",signInButton:"Sign In",successMessage:"Login Successful! ",failureMessage:"Login Failed. Please try again."},hindi:{title:" ",description:"          ",namePlaceholder:"   ",lastnamePlaceholder:"   ",phonePlaceholder:"    ",signInButton:"  ",successMessage:" ! ",failureMessage:"     "},marathi:{title:" ",description:"        ",namePlaceholder:"   ",lastnamePlaceholder:"   ",phonePlaceholder:"    ",signInButton:"  ",successMessage:" ! ",failureMessage:" .    ."}},c=()=>{switch(localStorage.getItem("selectedLanguage")||"english"){case"hindi":return l.hindi;case"marathi":return l.marathi;case"english":default:return l.english}},d=async u=>{u.preventDefault(),o(!0);try{const h={success:!0,student:{id:12,name:n.name,lastname:n.lastname,phone:n.phone}};if(!h.success||!h.student)throw new Error(h.message||"Login failed");localStorage.setItem("studentId",String(h.student.id)),localStorage.setItem("phone",h.student.phone),localStorage.setItem("lastname",h.student.lastname),localStorage.setItem("role","student"),t({title:c().successMessage,description:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(lN,{className:"w-5 h-5 text-green-500"}),r.jsxs("span",{children:["Welcome back, ",h.student.name,"! "]})]}),className:"bg-green-50 border-green-500 text-green-800"}),e("/students/instructions")}catch(h){t({title:c().failureMessage,description:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xd,{className:"w-5 h-5 text-red-500"}),r.jsx("span",{children:h.message})]}),className:"bg-red-50 border-red-500 text-red-800"})}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center p-4",children:r.jsxs(_e,{className:"w-full max-w-md shadow-lg",children:[r.jsxs(Oe,{className:"space-y-1 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:r.jsx(dr,{className:"w-6 h-6 text-white"})}),r.jsx(Be,{className:"text-2xl font-bold",children:c().title})]}),r.jsx(bn,{children:c().description})]}),r.jsx(Se,{children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsx(ae,{type:"text",name:"name",placeholder:c().namePlaceholder,value:n.name,onChange:i,required:!0}),r.jsx(ae,{type:"text",name:"lastname",placeholder:c().lastnamePlaceholder,value:n.lastname,onChange:i,required:!0}),r.jsx(ae,{type:"tel",name:"phone",placeholder:c().phonePlaceholder,value:n.phone,onChange:i,required:!0}),r.jsx($,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":c().signInButton})]})})]})})}const jr=({children:e})=>{const t=!!localStorage.getItem("studentId"),n=yr();return t?r.jsx(r.Fragment,{children:e}):r.jsx(Ej,{to:"/students/login",state:{from:n},replace:!0})};function R9(){const[e,t]=m.useState([]);m.useEffect(()=>{t([{id:1,name:"Offer_Letter_July.pdf",url:"/mock/offer_july.pdf"},{id:2,name:"Convern_Letter.pdf",url:"/mock/offer_aug.pdf"},{id:3,name:"Required_Items_List_Which_In_Campus.pdf",url:"/mock/offer_aug.pdf"}])},[]);const n=s=>{const a=document.createElement("a");a.href=s.url,a.download=s.name,a.click()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-500 flex",children:r.jsx("div",{className:"p-6 min-w-full overflow-y-auto",children:r.jsxs(_e,{className:"h-[90vh] rounded-2xl",children:[r.jsx(Oe,{children:r.jsx(Be,{children:"Documents"})}),r.jsx(Se,{children:e.length>0?r.jsxs("table",{className:"w-full border-collapse text-left text-gray-700",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border px-4 py-2 w-12",children:"#"}),r.jsx("th",{className:"border px-4 py-2",children:"File Name"}),r.jsx("th",{className:"border px-4 py-2 w-32 text-center",children:"Download"})]})}),r.jsx("tbody",{children:e.map((s,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border px-4 py-2",children:a+1}),r.jsx("td",{className:"border px-4 py-2",children:s.name}),r.jsx("td",{className:"border px-4 py-2 text-center",children:r.jsx($,{size:"sm",onClick:()=>n(s),variant:"default",children:"Download"})})]},s.id))})]}):r.jsx("p",{className:"text-gray-500",children:"No documents available."})})]})})})}const A9=()=>r.jsxs(Pj,{children:[r.jsx(Pe,{path:"login",element:r.jsx(T9,{})}),r.jsx(Pe,{index:!0,element:r.jsx(j9,{})}),r.jsx(Pe,{path:"language-selection",element:r.jsx(jr,{children:r.jsx(m9,{})})}),r.jsx(Pe,{path:"instructions",element:r.jsx(jr,{children:r.jsx(p9,{})})}),r.jsx(Pe,{path:"registration",element:r.jsx(jr,{children:r.jsx(x9,{})})}),r.jsx(Pe,{path:"test-start",element:r.jsx(jr,{children:r.jsx(S9,{})})}),r.jsx(Pe,{path:"test-section",element:r.jsx(jr,{children:r.jsx(k9,{})})}),r.jsx(Pe,{path:"test-result",element:r.jsx(jr,{children:r.jsx(E9,{})})}),r.jsx(Pe,{path:"result",element:r.jsx(jr,{children:r.jsx(P9,{})})}),r.jsx(Pe,{path:"slot-booking/:id",element:r.jsx(jr,{children:r.jsx(w9,{})})}),r.jsx(Pe,{path:"Offer-letter",element:r.jsx(jr,{children:r.jsx(R9,{})})}),r.jsx(Pe,{path:"whatsapp-redirect",element:r.jsx(jr,{children:r.jsx(b9,{})})}),r.jsx(Pe,{path:"*",element:r.jsx(Ej,{to:".",replace:!0})})]}),O9=new ZM,D9=()=>r.jsx(y9,{children:r.jsx(v9,{children:r.jsx(sI,{client:O9,children:r.jsxs(IM,{children:[r.jsx(wO,{}),r.jsx(XO,{}),r.jsx(zI,{children:r.jsxs(Pj,{children:[r.jsx(Pe,{path:"/auth",element:r.jsx(H7,{})}),r.jsx(Pe,{path:"/",element:r.jsx(bt,{children:r.jsx(Dz,{})})}),r.jsx(Pe,{path:"/applicants",element:r.jsx(bt,{children:r.jsx(Iz,{})})}),r.jsx(Pe,{path:"/interviews",element:r.jsx(bt,{children:r.jsx(Lz,{})})}),r.jsx(Pe,{path:"/schedule",element:r.jsx(bt,{children:r.jsx(Fz,{})})}),r.jsx(Pe,{path:"/sourcing",element:r.jsx(bt,{children:r.jsx(Uz,{})})}),r.jsx(Pe,{path:"/screening",element:r.jsx(bt,{children:r.jsx(Bz,{})})}),r.jsx(Pe,{path:"/interview-rounds",element:r.jsx(bt,{children:r.jsx(zz,{})})}),r.jsx(Pe,{path:"/decisions",element:r.jsx(bt,{children:r.jsx(Wz,{})})}),r.jsx(Pe,{path:"/partners",element:r.jsx(bt,{children:r.jsx(G7,{})})}),r.jsx(Pe,{path:"/admin",element:r.jsx(bt,{children:r.jsx(K7,{})})}),r.jsx(Pe,{path:"/owner",element:r.jsx(bt,{children:r.jsx(l9,{})})}),r.jsx(Pe,{path:"/donor",element:r.jsx(bt,{children:r.jsx(e9,{})})}),r.jsx(Pe,{path:"/offer-letters",element:r.jsx(bt,{children:r.jsx(h7,{})})}),r.jsx(Pe,{path:"/campus",element:r.jsx(bt,{children:r.jsx(t9,{})})}),r.jsx(Pe,{path:"/campus/:id",element:r.jsx(bt,{children:r.jsx(r9,{})})}),r.jsx(Pe,{path:"/school",element:r.jsx(bt,{children:r.jsx(s9,{})})}),r.jsx(Pe,{path:"/school/:id",element:r.jsx(bt,{children:r.jsx(a9,{})})}),r.jsx(Pe,{path:"questions",element:r.jsx(bt,{children:r.jsx(q7,{})})}),r.jsxs(Pe,{path:"/settings",element:r.jsx(bt,{children:r.jsx(d9,{})}),children:[r.jsx(Pe,{path:"user-role",element:r.jsx(Q0,{})}),r.jsx(Pe,{path:"caste",element:r.jsx(u9,{})}),r.jsx(Pe,{path:"religion",element:r.jsx(h9,{})}),r.jsx(Pe,{path:"qualification",element:r.jsx(f9,{})}),r.jsx(Pe,{index:!0,element:r.jsx(Q0,{})})]}),r.jsx(Pe,{path:"/students/*",element:r.jsx(A9,{})}),r.jsx(Pe,{path:"*",element:r.jsx(Mz,{})})]})})]})})})});xj(document.getElementById("root")).render(r.jsx(Y.StrictMode,{children:r.jsx(VT,{basename:"/Admission-Dashboard",children:r.jsx(g9,{children:r.jsx(D9,{})})})}));
